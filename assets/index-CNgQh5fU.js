var tj=Object.defineProperty;var nj=(t,e,n)=>e in t?tj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var bb=(t,e,n)=>nj(t,typeof e!="symbol"?e+"":e,n);function rj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Ni(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Eb={exports:{}},vd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hP;function ij(){if(hP)return vd;hP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var a=null;if(o!==void 0&&(a=""+o),i.key!==void 0&&(a=""+i.key),"key"in i){o={};for(var l in i)l!=="key"&&(o[l]=i[l])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:o}}return vd.Fragment=e,vd.jsx=n,vd.jsxs=n,vd}var pP;function oj(){return pP||(pP=1,Eb.exports=ij()),Eb.exports}var D=oj(),wb={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mP;function aj(){if(mP)return je;mP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function v(W){return W===null||typeof W!="object"?null:(W=g&&W[g]||W["@@iterator"],typeof W=="function"?W:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function C(W,oe,j){this.props=W,this.context=oe,this.refs=S,this.updater=j||T}C.prototype.isReactComponent={},C.prototype.setState=function(W,oe){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,oe,"setState")},C.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function L(){}L.prototype=C.prototype;function M(W,oe,j){this.props=W,this.context=oe,this.refs=S,this.updater=j||T}var G=M.prototype=new L;G.constructor=M,x(G,C.prototype),G.isPureReactComponent=!0;var $=Array.isArray;function z(){}var N={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function V(W,oe,j){var Ee=j.ref;return{$$typeof:t,type:W,key:oe,ref:Ee!==void 0?Ee:null,props:j}}function k(W,oe){return V(W.type,oe,W.props)}function P(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function F(W){var oe={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(j){return oe[j]})}var B=/\/+/g;function ie(W,oe){return typeof W=="object"&&W!==null&&W.key!=null?F(""+W.key):oe.toString(36)}function ae(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(z,z):(W.status="pending",W.then(function(oe){W.status==="pending"&&(W.status="fulfilled",W.value=oe)},function(oe){W.status==="pending"&&(W.status="rejected",W.reason=oe)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function J(W,oe,j,Ee,Ce){var Ie=typeof W;(Ie==="undefined"||Ie==="boolean")&&(W=null);var ke=!1;if(W===null)ke=!0;else switch(Ie){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(W.$$typeof){case t:case e:ke=!0;break;case h:return ke=W._init,J(ke(W._payload),oe,j,Ee,Ce)}}if(ke)return Ce=Ce(W),ke=Ee===""?"."+ie(W,0):Ee,$(Ce)?(j="",ke!=null&&(j=ke.replace(B,"$&/")+"/"),J(Ce,oe,j,"",function(Ne){return Ne})):Ce!=null&&(P(Ce)&&(Ce=k(Ce,j+(Ce.key==null||W&&W.key===Ce.key?"":(""+Ce.key).replace(B,"$&/")+"/")+ke)),oe.push(Ce)),1;ke=0;var _t=Ee===""?".":Ee+":";if($(W))for(var fe=0;fe<W.length;fe++)Ee=W[fe],Ie=_t+ie(Ee,fe),ke+=J(Ee,oe,j,Ie,Ce);else if(fe=v(W),typeof fe=="function")for(W=fe.call(W),fe=0;!(Ee=W.next()).done;)Ee=Ee.value,Ie=_t+ie(Ee,fe++),ke+=J(Ee,oe,j,Ie,Ce);else if(Ie==="object"){if(typeof W.then=="function")return J(ae(W),oe,j,Ee,Ce);throw oe=String(W),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return ke}function le(W,oe,j){if(W==null)return W;var Ee=[],Ce=0;return J(W,Ee,"","",function(Ie){return oe.call(j,Ie,Ce++)}),Ee}function _e(W){if(W._status===-1){var oe=W._result;oe=oe(),oe.then(function(j){(W._status===0||W._status===-1)&&(W._status=1,W._result=j)},function(j){(W._status===0||W._status===-1)&&(W._status=2,W._result=j)}),W._status===-1&&(W._status=0,W._result=oe)}if(W._status===1)return W._result.default;throw W._result}var Se=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},K={map:le,forEach:function(W,oe,j){le(W,function(){oe.apply(this,arguments)},j)},count:function(W){var oe=0;return le(W,function(){oe++}),oe},toArray:function(W){return le(W,function(oe){return oe})||[]},only:function(W){if(!P(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return je.Activity=p,je.Children=K,je.Component=C,je.Fragment=n,je.Profiler=i,je.PureComponent=M,je.StrictMode=r,je.Suspense=c,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,je.__COMPILER_RUNTIME={__proto__:null,c:function(W){return N.H.useMemoCache(W)}},je.cache=function(W){return function(){return W.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(W,oe,j){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var Ee=x({},W.props),Ce=W.key;if(oe!=null)for(Ie in oe.key!==void 0&&(Ce=""+oe.key),oe)!U.call(oe,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&oe.ref===void 0||(Ee[Ie]=oe[Ie]);var Ie=arguments.length-2;if(Ie===1)Ee.children=j;else if(1<Ie){for(var ke=Array(Ie),_t=0;_t<Ie;_t++)ke[_t]=arguments[_t+2];Ee.children=ke}return V(W.type,Ce,Ee)},je.createContext=function(W){return W={$$typeof:a,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:o,_context:W},W},je.createElement=function(W,oe,j){var Ee,Ce={},Ie=null;if(oe!=null)for(Ee in oe.key!==void 0&&(Ie=""+oe.key),oe)U.call(oe,Ee)&&Ee!=="key"&&Ee!=="__self"&&Ee!=="__source"&&(Ce[Ee]=oe[Ee]);var ke=arguments.length-2;if(ke===1)Ce.children=j;else if(1<ke){for(var _t=Array(ke),fe=0;fe<ke;fe++)_t[fe]=arguments[fe+2];Ce.children=_t}if(W&&W.defaultProps)for(Ee in ke=W.defaultProps,ke)Ce[Ee]===void 0&&(Ce[Ee]=ke[Ee]);return V(W,Ie,Ce)},je.createRef=function(){return{current:null}},je.forwardRef=function(W){return{$$typeof:l,render:W}},je.isValidElement=P,je.lazy=function(W){return{$$typeof:h,_payload:{_status:-1,_result:W},_init:_e}},je.memo=function(W,oe){return{$$typeof:f,type:W,compare:oe===void 0?null:oe}},je.startTransition=function(W){var oe=N.T,j={};N.T=j;try{var Ee=W(),Ce=N.S;Ce!==null&&Ce(j,Ee),typeof Ee=="object"&&Ee!==null&&typeof Ee.then=="function"&&Ee.then(z,Se)}catch(Ie){Se(Ie)}finally{oe!==null&&j.types!==null&&(oe.types=j.types),N.T=oe}},je.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},je.use=function(W){return N.H.use(W)},je.useActionState=function(W,oe,j){return N.H.useActionState(W,oe,j)},je.useCallback=function(W,oe){return N.H.useCallback(W,oe)},je.useContext=function(W){return N.H.useContext(W)},je.useDebugValue=function(){},je.useDeferredValue=function(W,oe){return N.H.useDeferredValue(W,oe)},je.useEffect=function(W,oe){return N.H.useEffect(W,oe)},je.useEffectEvent=function(W){return N.H.useEffectEvent(W)},je.useId=function(){return N.H.useId()},je.useImperativeHandle=function(W,oe,j){return N.H.useImperativeHandle(W,oe,j)},je.useInsertionEffect=function(W,oe){return N.H.useInsertionEffect(W,oe)},je.useLayoutEffect=function(W,oe){return N.H.useLayoutEffect(W,oe)},je.useMemo=function(W,oe){return N.H.useMemo(W,oe)},je.useOptimistic=function(W,oe){return N.H.useOptimistic(W,oe)},je.useReducer=function(W,oe,j){return N.H.useReducer(W,oe,j)},je.useRef=function(W){return N.H.useRef(W)},je.useState=function(W){return N.H.useState(W)},je.useSyncExternalStore=function(W,oe,j){return N.H.useSyncExternalStore(W,oe,j)},je.useTransition=function(){return N.H.useTransition()},je.version="19.2.3",je}var gP;function Qc(){return gP||(gP=1,wb.exports=aj()),wb.exports}var O=Qc();const LS=Ni(O),oV=rj({__proto__:null,default:LS},[O]);var Tb={exports:{}},_d={},Sb={exports:{}},xb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yP;function sj(){return yP||(yP=1,(function(t){function e(J,le){var _e=J.length;J.push(le);e:for(;0<_e;){var Se=_e-1>>>1,K=J[Se];if(0<i(K,le))J[Se]=le,J[_e]=K,_e=Se;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var le=J[0],_e=J.pop();if(_e!==le){J[0]=_e;e:for(var Se=0,K=J.length,W=K>>>1;Se<W;){var oe=2*(Se+1)-1,j=J[oe],Ee=oe+1,Ce=J[Ee];if(0>i(j,_e))Ee<K&&0>i(Ce,j)?(J[Se]=Ce,J[Ee]=_e,Se=Ee):(J[Se]=j,J[oe]=_e,Se=oe);else if(Ee<K&&0>i(Ce,_e))J[Se]=Ce,J[Ee]=_e,Se=Ee;else break e}}return le}function i(J,le){var _e=J.sortIndex-le.sortIndex;return _e!==0?_e:J.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],f=[],h=1,p=null,g=3,v=!1,T=!1,x=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function G(J){for(var le=n(f);le!==null;){if(le.callback===null)r(f);else if(le.startTime<=J)r(f),le.sortIndex=le.expirationTime,e(c,le);else break;le=n(f)}}function $(J){if(x=!1,G(J),!T)if(n(c)!==null)T=!0,z||(z=!0,F());else{var le=n(f);le!==null&&ae($,le.startTime-J)}}var z=!1,N=-1,U=5,V=-1;function k(){return S?!0:!(t.unstable_now()-V<U)}function P(){if(S=!1,z){var J=t.unstable_now();V=J;var le=!0;try{e:{T=!1,x&&(x=!1,L(N),N=-1),v=!0;var _e=g;try{t:{for(G(J),p=n(c);p!==null&&!(p.expirationTime>J&&k());){var Se=p.callback;if(typeof Se=="function"){p.callback=null,g=p.priorityLevel;var K=Se(p.expirationTime<=J);if(J=t.unstable_now(),typeof K=="function"){p.callback=K,G(J),le=!0;break t}p===n(c)&&r(c),G(J)}else r(c);p=n(c)}if(p!==null)le=!0;else{var W=n(f);W!==null&&ae($,W.startTime-J),le=!1}}break e}finally{p=null,g=_e,v=!1}le=void 0}}finally{le?F():z=!1}}}var F;if(typeof M=="function")F=function(){M(P)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ie=B.port2;B.port1.onmessage=P,F=function(){ie.postMessage(null)}}else F=function(){C(P,0)};function ae(J,le){N=C(function(){J(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(J){switch(g){case 1:case 2:case 3:var le=3;break;default:le=g}var _e=g;g=le;try{return J()}finally{g=_e}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var _e=g;g=J;try{return le()}finally{g=_e}},t.unstable_scheduleCallback=function(J,le,_e){var Se=t.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Se+_e:Se):_e=Se,J){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=_e+K,J={id:h++,callback:le,priorityLevel:J,startTime:_e,expirationTime:K,sortIndex:-1},_e>Se?(J.sortIndex=_e,e(f,J),n(c)===null&&J===n(f)&&(x?(L(N),N=-1):x=!0,ae($,_e-Se))):(J.sortIndex=K,e(c,J),T||v||(T=!0,z||(z=!0,F()))),J},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(J){var le=g;return function(){var _e=g;g=le;try{return J.apply(this,arguments)}finally{g=_e}}}})(xb)),xb}var vP;function lj(){return vP||(vP=1,Sb.exports=sj()),Sb.exports}var Ab={exports:{}},sr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _P;function uj(){if(_P)return sr;_P=1;var t=Qc();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(c,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:h}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sr.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(c,f,null,h)},sr.flushSync=function(c){var f=a.T,h=r.p;try{if(a.T=null,r.p=2,c)return c()}finally{a.T=f,r.p=h,r.d.f()}},sr.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},sr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},sr.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:v}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},sr.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=l(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},sr.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},sr.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=l(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},sr.requestFormReset=function(c){r.d.r(c)},sr.unstable_batchedUpdates=function(c,f){return c(f)},sr.useFormState=function(c,f,h){return a.H.useFormState(c,f,h)},sr.useFormStatus=function(){return a.H.useHostTransitionStatus()},sr.version="19.2.3",sr}var bP;function aV(){if(bP)return Ab.exports;bP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ab.exports=uj(),Ab.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EP;function cj(){if(EP)return _d;EP=1;var t=lj(),e=Qc(),n=aV();function r(s){var u="https://react.dev/errors/"+s;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var u=s,d=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,(u.flags&4098)!==0&&(d=u.return),s=u.return;while(s)}return u.tag===3?d:null}function a(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function l(s){if(s.tag===31){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function c(s){if(o(s)!==s)throw Error(r(188))}function f(s){var u=s.alternate;if(!u){if(u=o(s),u===null)throw Error(r(188));return u!==s?null:s}for(var d=s,m=u;;){var E=d.return;if(E===null)break;var w=E.alternate;if(w===null){if(m=E.return,m!==null){d=m;continue}break}if(E.child===w.child){for(w=E.child;w;){if(w===d)return c(E),s;if(w===m)return c(E),u;w=w.sibling}throw Error(r(188))}if(d.return!==m.return)d=E,m=w;else{for(var I=!1,q=E.child;q;){if(q===d){I=!0,d=E,m=w;break}if(q===m){I=!0,m=E,d=w;break}q=q.sibling}if(!I){for(q=w.child;q;){if(q===d){I=!0,d=w,m=E;break}if(q===m){I=!0,m=w,d=E;break}q=q.sibling}if(!I)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:u}function h(s){var u=s.tag;if(u===5||u===26||u===27||u===6)return s;for(s=s.child;s!==null;){if(u=h(s),u!==null)return u;s=s.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),M=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var B=Symbol.for("react.client.reference");function ie(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===B?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case x:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case $:return"Suspense";case z:return"SuspenseList";case V:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case M:return s.displayName||"Context";case L:return(s._context.displayName||"Context")+".Consumer";case G:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case N:return u=s.displayName||null,u!==null?u:ie(s.type)||"Memo";case U:u=s._payload,s=s._init;try{return ie(s(u))}catch{}}return null}var ae=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Se=[],K=-1;function W(s){return{current:s}}function oe(s){0>K||(s.current=Se[K],Se[K]=null,K--)}function j(s,u){K++,Se[K]=s.current,s.current=u}var Ee=W(null),Ce=W(null),Ie=W(null),ke=W(null);function _t(s,u){switch(j(Ie,u),j(Ce,s),j(Ee,null),u.nodeType){case 9:case 11:s=(s=u.documentElement)&&(s=s.namespaceURI)?LR(s):0;break;default:if(s=u.tagName,u=u.namespaceURI)u=LR(u),s=UR(u,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}oe(Ee),j(Ee,s)}function fe(){oe(Ee),oe(Ce),oe(Ie)}function Ne(s){s.memoizedState!==null&&j(ke,s);var u=Ee.current,d=UR(u,s.type);u!==d&&(j(Ce,s),j(Ee,d))}function Fe(s){Ce.current===s&&(oe(Ee),oe(Ce)),ke.current===s&&(oe(ke),pd._currentValue=_e)}var me,Kt;function Xe(s){if(me===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);me=u&&u[1]||"",Kt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+s+Kt}var qt=!1;function Yt(s,u){if(!s||qt)return"";qt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(u){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(se){var ne=se}Reflect.construct(s,[],pe)}else{try{pe.call()}catch(se){ne=se}s.call(pe.prototype)}}else{try{throw Error()}catch(se){ne=se}(pe=s())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(se){if(se&&ne&&typeof se.stack=="string")return[se.stack,ne.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),I=w[0],q=w[1];if(I&&q){var Y=I.split(`
`),te=q.split(`
`);for(E=m=0;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;for(;E<te.length&&!te[E].includes("DetermineComponentFrameRoot");)E++;if(m===Y.length||E===te.length)for(m=Y.length-1,E=te.length-1;1<=m&&0<=E&&Y[m]!==te[E];)E--;for(;1<=m&&0<=E;m--,E--)if(Y[m]!==te[E]){if(m!==1||E!==1)do if(m--,E--,0>E||Y[m]!==te[E]){var de=`
`+Y[m].replace(" at new "," at ");return s.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",s.displayName)),de}while(1<=m&&0<=E);break}}}finally{qt=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?Xe(d):""}function kr(s,u){switch(s.tag){case 26:case 27:case 5:return Xe(s.type);case 16:return Xe("Lazy");case 13:return s.child!==u&&u!==null?Xe("Suspense Fallback"):Xe("Suspense");case 19:return Xe("SuspenseList");case 0:case 15:return Yt(s.type,!1);case 11:return Yt(s.type.render,!1);case 1:return Yt(s.type,!0);case 31:return Xe("Activity");default:return""}}function Do(s){try{var u="",d=null;do u+=kr(s,d),d=s,s=s.return;while(s);return u}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Oo=Object.prototype.hasOwnProperty,to=t.unstable_scheduleCallback,Va=t.unstable_cancelCallback,_f=t.unstable_shouldYield,al=t.unstable_requestPaint,An=t.unstable_now,Eu=t.unstable_getCurrentPriorityLevel,ce=t.unstable_ImmediatePriority,ye=t.unstable_UserBlockingPriority,De=t.unstable_NormalPriority,Qe=t.unstable_LowPriority,ft=t.unstable_IdlePriority,mr=t.log,gr=t.unstable_setDisableYieldValue,On=null,Xt=null;function Ln(s){if(typeof mr=="function"&&gr(s),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(On,s)}catch{}}var Et=Math.clz32?Math.clz32:yp,no=Math.log,yr=Math.LN2;function yp(s){return s>>>=0,s===0?32:31-(no(s)/yr|0)|0}var sl=256,ro=262144,Fa=4194304;function Oi(s){var u=s&42;if(u!==0)return u;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ci(s,u,d){var m=s.pendingLanes;if(m===0)return 0;var E=0,w=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var q=m&134217727;return q!==0?(m=q&~w,m!==0?E=Oi(m):(I&=q,I!==0?E=Oi(I):d||(d=q&~s,d!==0&&(E=Oi(d))))):(q=m&~w,q!==0?E=Oi(q):I!==0?E=Oi(I):d||(d=m&~s,d!==0&&(E=Oi(d)))),E===0?0:u!==0&&u!==E&&(u&w)===0&&(w=E&-E,d=u&-u,w>=d||w===32&&(d&4194048)!==0)?u:E}function za(s,u){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&u)===0}function wu(s,u){switch(s){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bf(){var s=Fa;return Fa<<=1,(Fa&62914560)===0&&(Fa=4194304),s}function Lo(s){for(var u=[],d=0;31>d;d++)u.push(s);return u}function Ba(s,u){s.pendingLanes|=u,u!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Kn(s,u,d,m,E,w){var I=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var q=s.entanglements,Y=s.expirationTimes,te=s.hiddenUpdates;for(d=I&~d;0<d;){var de=31-Et(d),pe=1<<de;q[de]=0,Y[de]=-1;var ne=te[de];if(ne!==null)for(te[de]=null,de=0;de<ne.length;de++){var se=ne[de];se!==null&&(se.lane&=-536870913)}d&=~pe}m!==0&&Ef(s,m,0),w!==0&&E===0&&s.tag!==0&&(s.suspendedLanes|=w&~(I&~u))}function Ef(s,u,d){s.pendingLanes|=u,s.suspendedLanes&=~u;var m=31-Et(u);s.entangledLanes|=u,s.entanglements[m]=s.entanglements[m]|1073741824|d&261930}function qa(s,u){var d=s.entangledLanes|=u;for(s=s.entanglements;d;){var m=31-Et(d),E=1<<m;E&u|s[m]&u&&(s[m]|=u),d&=~E}}function Ha(s,u){var d=u&-u;return d=(d&42)!==0?1:wf(d),(d&(s.suspendedLanes|u))!==0?0:d}function wf(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Tf(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Uo(){var s=le.p;return s!==0?s:(s=window.event,s===void 0?32:aP(s.type))}function vp(s,u){var d=le.p;try{return le.p=s,u()}finally{le.p=d}}var io=Math.random().toString(36).slice(2),Qt="__reactFiber$"+io,Yn="__reactProps$"+io,oo="__reactContainer$"+io,ja="__reactEvents$"+io,ao="__reactListeners$"+io,_p="__reactHandles$"+io,Sf="__reactResources$"+io,Vo="__reactMarker$"+io;function ll(s){delete s[Qt],delete s[Yn],delete s[ja],delete s[ao],delete s[_p]}function Fo(s){var u=s[Qt];if(u)return u;for(var d=s.parentNode;d;){if(u=d[oo]||d[Qt]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(s=jR(s);s!==null;){if(d=s[Qt])return d;s=jR(s)}return u}s=d,d=s.parentNode}return null}function zo(s){if(s=s[Qt]||s[oo]){var u=s.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return s}return null}function ul(s){var u=s.tag;if(u===5||u===26||u===27||u===6)return s.stateNode;throw Error(r(33))}function Li(s){var u=s[Sf];return u||(u=s[Sf]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function un(s){s[Vo]=!0}var Tu=new Set,$a={};function vr(s,u){so(s,u),so(s+"Capture",u)}function so(s,u){for($a[s]=u,s=0;s<u.length;s++)Tu.add(u[s])}var E0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xf={},Af={};function bp(s){return Oo.call(Af,s)?!0:Oo.call(xf,s)?!1:E0.test(s)?Af[s]=!0:(xf[s]=!0,!1)}function Ga(s,u,d){if(bp(u))if(d===null)s.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(u);return;case"boolean":var m=u.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(u);return}}s.setAttribute(u,""+d)}}function Ka(s,u,d){if(d===null)s.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttribute(u,""+d)}}function fi(s,u,d,m){if(m===null)s.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(u,d,""+m)}}function _r(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ep(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function w0(s,u,d){var m=Object.getOwnPropertyDescriptor(s.constructor.prototype,u);if(!s.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var E=m.get,w=m.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return E.call(this)},set:function(I){d=""+I,w.call(this,I)}}),Object.defineProperty(s,u,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(I){d=""+I},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function Su(s){if(!s._valueTracker){var u=Ep(s)?"checked":"value";s._valueTracker=w0(s,u,""+s[u])}}function Cf(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var d=u.getValue(),m="";return s&&(m=Ep(s)?s.checked?"true":"false":s.value),s=m,s!==d?(u.setValue(s),!0):!1}function xu(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Bo=/[\n"\\]/g;function Zt(s){return s.replace(Bo,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Ya(s,u,d,m,E,w,I,q){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),u!=null?I==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+_r(u)):s.value!==""+_r(u)&&(s.value=""+_r(u)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),u!=null?Au(s,I,_r(u)):d!=null?Au(s,I,_r(d)):m!=null&&s.removeAttribute("value"),E==null&&w!=null&&(s.defaultChecked=!!w),E!=null&&(s.checked=E&&typeof E!="function"&&typeof E!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?s.name=""+_r(q):s.removeAttribute("name")}function cl(s,u,d,m,E,w,I,q){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),u!=null||d!=null){if(!(w!=="submit"&&w!=="reset"||u!=null)){Su(s);return}d=d!=null?""+_r(d):"",u=u!=null?""+_r(u):d,q||u===s.value||(s.value=u),s.defaultValue=u}m=m??E,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=q?s.checked:!!m,s.defaultChecked=!!m,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I),Su(s)}function Au(s,u,d){u==="number"&&xu(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function dt(s,u,d,m){if(s=s.options,u){u={};for(var E=0;E<d.length;E++)u["$"+d[E]]=!0;for(d=0;d<s.length;d++)E=u.hasOwnProperty("$"+s[d].value),s[d].selected!==E&&(s[d].selected=E),E&&m&&(s[d].defaultSelected=!0)}else{for(d=""+_r(d),u=null,E=0;E<s.length;E++){if(s[E].value===d){s[E].selected=!0,m&&(s[E].defaultSelected=!0);return}u!==null||s[E].disabled||(u=s[E])}u!==null&&(u.selected=!0)}}function fl(s,u,d){if(u!=null&&(u=""+_r(u),u!==s.value&&(s.value=u),d==null)){s.defaultValue!==u&&(s.defaultValue=u);return}s.defaultValue=d!=null?""+_r(d):""}function Wa(s,u,d,m){if(u==null){if(m!=null){if(d!=null)throw Error(r(92));if(ae(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),u=d}d=_r(u),s.defaultValue=d,m=s.textContent,m===d&&m!==""&&m!==null&&(s.value=m),Su(s)}function di(s,u){if(u){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=u;return}}s.textContent=u}var T0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function If(s,u,d){var m=u.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="":m?s.setProperty(u,d):typeof d!="number"||d===0||T0.has(u)?u==="float"?s.cssFloat=d:s[u]=(""+d).trim():s[u]=d+"px"}function wp(s,u,d){if(u!=null&&typeof u!="object")throw Error(r(62));if(s=s.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||u!=null&&u.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var E in u)m=u[E],u.hasOwnProperty(E)&&d[E]!==m&&If(s,E,m)}else for(var w in u)u.hasOwnProperty(w)&&If(s,w,u[w])}function Rf(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var S0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),x0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lo(s){return x0.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Un(){}var Cu=null;function Iu(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var qo=null,$r=null;function Tp(s){var u=zo(s);if(u&&(s=u.stateNode)){var d=s[Yn]||null;e:switch(s=u.stateNode,u.type){case"input":if(Ya(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),u=d.name,d.type==="radio"&&u!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Zt(""+u)+'"][type="radio"]'),u=0;u<d.length;u++){var m=d[u];if(m!==s&&m.form===s.form){var E=m[Yn]||null;if(!E)throw Error(r(90));Ya(m,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(u=0;u<d.length;u++)m=d[u],m.form===s.form&&Cf(m)}break e;case"textarea":fl(s,d.value,d.defaultValue);break e;case"select":u=d.value,u!=null&&dt(s,!!d.multiple,u,!1)}}}var Pf=!1;function Sp(s,u,d){if(Pf)return s(u,d);Pf=!0;try{var m=s(u);return m}finally{if(Pf=!1,(qo!==null||$r!==null)&&(bm(),qo&&(u=qo,s=$r,$r=qo=null,Tp(u),s)))for(u=0;u<s.length;u++)Tp(s[u])}}function Mr(s,u){var d=s.stateNode;if(d===null)return null;var m=d[Yn]||null;if(m===null)return null;d=m[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,u,typeof d));return d}var Ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kf=!1;if(Ui)try{var uo={};Object.defineProperty(uo,"passive",{get:function(){kf=!0}}),window.addEventListener("test",uo,uo),window.removeEventListener("test",uo,uo)}catch{kf=!1}var Gr=null,Ru=null,co=null;function Ja(){if(co)return co;var s,u=Ru,d=u.length,m,E="value"in Gr?Gr.value:Gr.textContent,w=E.length;for(s=0;s<d&&u[s]===E[s];s++);var I=d-s;for(m=1;m<=I&&u[d-m]===E[w-m];m++);return co=E.slice(s,1<m?1-m:void 0)}function dl(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function Xa(){return!0}function Ut(){return!1}function ar(s){function u(d,m,E,w,I){this._reactName=d,this._targetInst=E,this.type=m,this.nativeEvent=w,this.target=I,this.currentTarget=null;for(var q in s)s.hasOwnProperty(q)&&(d=s[q],this[q]=d?d(w):w[q]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Xa:Ut,this.isPropagationStopped=Ut,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Xa)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Xa)},persist:function(){},isPersistent:Xa}),u}var Ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hl=ar(Ho),Qa=p({},Ho,{view:0,detail:0}),xp=ar(Qa),Za,Pu,br,pl=p({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ts,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==br&&(br&&s.type==="mousemove"?(Za=s.screenX-br.screenX,Pu=s.screenY-br.screenY):Pu=Za=0,br=s),Za)},movementY:function(s){return"movementY"in s?s.movementY:Pu}}),Ap=ar(pl),ml=p({},pl,{dataTransfer:0}),Cp=ar(ml),Mf=p({},Qa,{relatedTarget:0}),es=ar(Mf),Ip=p({},Ho,{animationName:0,elapsedTime:0,pseudoElement:0}),ku=ar(Ip),A0=p({},Ho,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Rp=ar(A0),gl=p({},Ho,{data:0}),Nf=ar(gl),Pp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Df={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Of={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kp(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=Of[s])?!!u[s]:!1}function ts(){return kp}var Mp=p({},Qa,{key:function(s){if(s.key){var u=Pp[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=dl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Df[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ts,charCode:function(s){return s.type==="keypress"?dl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?dl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Np=ar(Mp),jo=p({},pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lf=ar(jo),Dp=p({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ts}),Op=ar(Dp),Lp=p({},Ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mu=ar(Lp),Er=p({},pl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Up=ar(Er),Vp=p({},Ho,{newState:0,oldState:0}),ns=ar(Vp),_=[9,13,27,32],A=Ui&&"CompositionEvent"in window,R=null;Ui&&"documentMode"in document&&(R=document.documentMode);var H=Ui&&"TextEvent"in window&&!R,Z=Ui&&(!A||R&&8<R&&11>=R),ue=" ",we=!1;function bt(s,u){switch(s){case"keyup":return _.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hn(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ze=!1;function Vn(s,u){switch(s){case"compositionend":return hn(u);case"keypress":return u.which!==32?null:(we=!0,ue);case"textInput":return s=u.data,s===ue&&we?null:s;default:return null}}function Fn(s,u){if(Ze)return s==="compositionend"||!A&&bt(s,u)?(s=Ja(),co=Ru=Gr=null,Ze=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Z&&u.locale!=="ko"?null:u.data;default:return null}}var rs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nr(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!rs[s.type]:u==="textarea"}function yl(s,u,d,m){qo?$r?$r.push(m):$r=[m]:qo=m,u=Cm(u,"onChange"),0<u.length&&(d=new hl("onChange","change",null,d,m),s.push({event:d,listeners:u}))}var $o=null,Uf=null;function IH(s){PR(s,0)}function Fp(s){var u=ul(s);if(Cf(u))return s}function W1(s,u){if(s==="change")return u}var J1=!1;if(Ui){var C0;if(Ui){var I0="oninput"in document;if(!I0){var X1=document.createElement("div");X1.setAttribute("oninput","return;"),I0=typeof X1.oninput=="function"}C0=I0}else C0=!1;J1=C0&&(!document.documentMode||9<document.documentMode)}function Q1(){$o&&($o.detachEvent("onpropertychange",Z1),Uf=$o=null)}function Z1(s){if(s.propertyName==="value"&&Fp(Uf)){var u=[];yl(u,Uf,s,Iu(s)),Sp(IH,u)}}function RH(s,u,d){s==="focusin"?(Q1(),$o=u,Uf=d,$o.attachEvent("onpropertychange",Z1)):s==="focusout"&&Q1()}function PH(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Fp(Uf)}function kH(s,u){if(s==="click")return Fp(u)}function MH(s,u){if(s==="input"||s==="change")return Fp(u)}function NH(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var Kr=typeof Object.is=="function"?Object.is:NH;function Vf(s,u){if(Kr(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var d=Object.keys(s),m=Object.keys(u);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var E=d[m];if(!Oo.call(u,E)||!Kr(s[E],u[E]))return!1}return!0}function eC(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function tC(s,u){var d=eC(s);s=0;for(var m;d;){if(d.nodeType===3){if(m=s+d.textContent.length,s<=u&&m>=u)return{node:d,offset:u-s};s=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=eC(d)}}function nC(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?nC(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function rC(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var u=xu(s.document);u instanceof s.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)s=u.contentWindow;else break;u=xu(s.document)}return u}function R0(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}var DH=Ui&&"documentMode"in document&&11>=document.documentMode,Nu=null,P0=null,Ff=null,k0=!1;function iC(s,u,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;k0||Nu==null||Nu!==xu(m)||(m=Nu,"selectionStart"in m&&R0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ff&&Vf(Ff,m)||(Ff=m,m=Cm(P0,"onSelect"),0<m.length&&(u=new hl("onSelect","select",null,u,d),s.push({event:u,listeners:m}),u.target=Nu)))}function vl(s,u){var d={};return d[s.toLowerCase()]=u.toLowerCase(),d["Webkit"+s]="webkit"+u,d["Moz"+s]="moz"+u,d}var Du={animationend:vl("Animation","AnimationEnd"),animationiteration:vl("Animation","AnimationIteration"),animationstart:vl("Animation","AnimationStart"),transitionrun:vl("Transition","TransitionRun"),transitionstart:vl("Transition","TransitionStart"),transitioncancel:vl("Transition","TransitionCancel"),transitionend:vl("Transition","TransitionEnd")},M0={},oC={};Ui&&(oC=document.createElement("div").style,"AnimationEvent"in window||(delete Du.animationend.animation,delete Du.animationiteration.animation,delete Du.animationstart.animation),"TransitionEvent"in window||delete Du.transitionend.transition);function _l(s){if(M0[s])return M0[s];if(!Du[s])return s;var u=Du[s],d;for(d in u)if(u.hasOwnProperty(d)&&d in oC)return M0[s]=u[d];return s}var aC=_l("animationend"),sC=_l("animationiteration"),lC=_l("animationstart"),OH=_l("transitionrun"),LH=_l("transitionstart"),UH=_l("transitioncancel"),uC=_l("transitionend"),cC=new Map,N0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");N0.push("scrollEnd");function Vi(s,u){cC.set(s,u),vr(u,[s])}var zp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},hi=[],Ou=0,D0=0;function Bp(){for(var s=Ou,u=D0=Ou=0;u<s;){var d=hi[u];hi[u++]=null;var m=hi[u];hi[u++]=null;var E=hi[u];hi[u++]=null;var w=hi[u];if(hi[u++]=null,m!==null&&E!==null){var I=m.pending;I===null?E.next=E:(E.next=I.next,I.next=E),m.pending=E}w!==0&&fC(d,E,w)}}function qp(s,u,d,m){hi[Ou++]=s,hi[Ou++]=u,hi[Ou++]=d,hi[Ou++]=m,D0|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function O0(s,u,d,m){return qp(s,u,d,m),Hp(s)}function bl(s,u){return qp(s,null,null,u),Hp(s)}function fC(s,u,d){s.lanes|=d;var m=s.alternate;m!==null&&(m.lanes|=d);for(var E=!1,w=s.return;w!==null;)w.childLanes|=d,m=w.alternate,m!==null&&(m.childLanes|=d),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(E=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,E&&u!==null&&(E=31-Et(d),s=w.hiddenUpdates,m=s[E],m===null?s[E]=[u]:m.push(u),u.lane=d|536870912),w):null}function Hp(s){if(50<sd)throw sd=0,j_=null,Error(r(185));for(var u=s.return;u!==null;)s=u,u=s.return;return s.tag===3?s.stateNode:null}var Lu={};function VH(s,u,d,m){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(s,u,d,m){return new VH(s,u,d,m)}function L0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Go(s,u){var d=s.alternate;return d===null?(d=Yr(s.tag,u,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=u,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,u=s.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function dC(s,u){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=u,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,u=d.dependencies,s.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),s}function jp(s,u,d,m,E,w){var I=0;if(m=s,typeof s=="function")L0(s)&&(I=1);else if(typeof s=="string")I=H9(s,d,Ee.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case V:return s=Yr(31,d,u,E),s.elementType=V,s.lanes=w,s;case x:return El(d.children,E,w,u);case S:I=8,E|=24;break;case C:return s=Yr(12,d,u,E|2),s.elementType=C,s.lanes=w,s;case $:return s=Yr(13,d,u,E),s.elementType=$,s.lanes=w,s;case z:return s=Yr(19,d,u,E),s.elementType=z,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:I=10;break e;case L:I=9;break e;case G:I=11;break e;case N:I=14;break e;case U:I=16,m=null;break e}I=29,d=Error(r(130,s===null?"null":typeof s,"")),m=null}return u=Yr(I,d,u,E),u.elementType=s,u.type=m,u.lanes=w,u}function El(s,u,d,m){return s=Yr(7,s,m,u),s.lanes=d,s}function U0(s,u,d){return s=Yr(6,s,null,u),s.lanes=d,s}function hC(s){var u=Yr(18,null,null,0);return u.stateNode=s,u}function V0(s,u,d){return u=Yr(4,s.children!==null?s.children:[],s.key,u),u.lanes=d,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}var pC=new WeakMap;function pi(s,u){if(typeof s=="object"&&s!==null){var d=pC.get(s);return d!==void 0?d:(u={value:s,source:u,stack:Do(u)},pC.set(s,u),u)}return{value:s,source:u,stack:Do(u)}}var Uu=[],Vu=0,$p=null,zf=0,mi=[],gi=0,is=null,fo=1,ho="";function Ko(s,u){Uu[Vu++]=zf,Uu[Vu++]=$p,$p=s,zf=u}function mC(s,u,d){mi[gi++]=fo,mi[gi++]=ho,mi[gi++]=is,is=s;var m=fo;s=ho;var E=32-Et(m)-1;m&=~(1<<E),d+=1;var w=32-Et(u)+E;if(30<w){var I=E-E%5;w=(m&(1<<I)-1).toString(32),m>>=I,E-=I,fo=1<<32-Et(u)+E|d<<E|m,ho=w+s}else fo=1<<w|d<<E|m,ho=s}function F0(s){s.return!==null&&(Ko(s,1),mC(s,1,0))}function z0(s){for(;s===$p;)$p=Uu[--Vu],Uu[Vu]=null,zf=Uu[--Vu],Uu[Vu]=null;for(;s===is;)is=mi[--gi],mi[gi]=null,ho=mi[--gi],mi[gi]=null,fo=mi[--gi],mi[gi]=null}function gC(s,u){mi[gi++]=fo,mi[gi++]=ho,mi[gi++]=is,fo=u.id,ho=u.overflow,is=s}var Wn=null,Vt=null,st=!1,os=null,yi=!1,B0=Error(r(519));function as(s){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bf(pi(u,s)),B0}function yC(s){var u=s.stateNode,d=s.type,m=s.memoizedProps;switch(u[Qt]=s,u[Yn]=m,d){case"dialog":tt("cancel",u),tt("close",u);break;case"iframe":case"object":case"embed":tt("load",u);break;case"video":case"audio":for(d=0;d<ud.length;d++)tt(ud[d],u);break;case"source":tt("error",u);break;case"img":case"image":case"link":tt("error",u),tt("load",u);break;case"details":tt("toggle",u);break;case"input":tt("invalid",u),cl(u,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":tt("invalid",u);break;case"textarea":tt("invalid",u),Wa(u,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||u.textContent===""+d||m.suppressHydrationWarning===!0||DR(u.textContent,d)?(m.popover!=null&&(tt("beforetoggle",u),tt("toggle",u)),m.onScroll!=null&&tt("scroll",u),m.onScrollEnd!=null&&tt("scrollend",u),m.onClick!=null&&(u.onclick=Un),u=!0):u=!1,u||as(s,!0)}function vC(s){for(Wn=s.return;Wn;)switch(Wn.tag){case 5:case 31:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:Wn=Wn.return}}function Fu(s){if(s!==Wn)return!1;if(!st)return vC(s),st=!0,!1;var u=s.tag,d;if((d=u!==3&&u!==27)&&((d=u===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||ob(s.type,s.memoizedProps)),d=!d),d&&Vt&&as(s),vC(s),u===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Vt=HR(s)}else if(u===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Vt=HR(s)}else u===27?(u=Vt,bs(s.type)?(s=cb,cb=null,Vt=s):Vt=u):Vt=Wn?_i(s.stateNode.nextSibling):null;return!0}function wl(){Vt=Wn=null,st=!1}function q0(){var s=os;return s!==null&&(Ur===null?Ur=s:Ur.push.apply(Ur,s),os=null),s}function Bf(s){os===null?os=[s]:os.push(s)}var H0=W(null),Tl=null,Yo=null;function ss(s,u,d){j(H0,u._currentValue),u._currentValue=d}function Wo(s){s._currentValue=H0.current,oe(H0)}function j0(s,u,d){for(;s!==null;){var m=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,m!==null&&(m.childLanes|=u)):m!==null&&(m.childLanes&u)!==u&&(m.childLanes|=u),s===d)break;s=s.return}}function $0(s,u,d,m){var E=s.child;for(E!==null&&(E.return=s);E!==null;){var w=E.dependencies;if(w!==null){var I=E.child;w=w.firstContext;e:for(;w!==null;){var q=w;w=E;for(var Y=0;Y<u.length;Y++)if(q.context===u[Y]){w.lanes|=d,q=w.alternate,q!==null&&(q.lanes|=d),j0(w.return,d,s),m||(I=null);break e}w=q.next}}else if(E.tag===18){if(I=E.return,I===null)throw Error(r(341));I.lanes|=d,w=I.alternate,w!==null&&(w.lanes|=d),j0(I,d,s),I=null}else I=E.child;if(I!==null)I.return=E;else for(I=E;I!==null;){if(I===s){I=null;break}if(E=I.sibling,E!==null){E.return=I.return,I=E;break}I=I.return}E=I}}function zu(s,u,d,m){s=null;for(var E=u,w=!1;E!==null;){if(!w){if((E.flags&524288)!==0)w=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var I=E.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var q=E.type;Kr(E.pendingProps.value,I.value)||(s!==null?s.push(q):s=[q])}}else if(E===ke.current){if(I=E.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(s!==null?s.push(pd):s=[pd])}E=E.return}s!==null&&$0(u,s,d,m),u.flags|=262144}function Gp(s){for(s=s.firstContext;s!==null;){if(!Kr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Sl(s){Tl=s,Yo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Jn(s){return _C(Tl,s)}function Kp(s,u){return Tl===null&&Sl(s),_C(s,u)}function _C(s,u){var d=u._currentValue;if(u={context:u,memoizedValue:d,next:null},Yo===null){if(s===null)throw Error(r(308));Yo=u,s.dependencies={lanes:0,firstContext:u},s.flags|=524288}else Yo=Yo.next=u;return d}var FH=typeof AbortController<"u"?AbortController:function(){var s=[],u=this.signal={aborted:!1,addEventListener:function(d,m){s.push(m)}};this.abort=function(){u.aborted=!0,s.forEach(function(d){return d()})}},zH=t.unstable_scheduleCallback,BH=t.unstable_NormalPriority,pn={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function G0(){return{controller:new FH,data:new Map,refCount:0}}function qf(s){s.refCount--,s.refCount===0&&zH(BH,function(){s.controller.abort()})}var Hf=null,K0=0,Bu=0,qu=null;function qH(s,u){if(Hf===null){var d=Hf=[];K0=0,Bu=J_(),qu={status:"pending",value:void 0,then:function(m){d.push(m)}}}return K0++,u.then(bC,bC),u}function bC(){if(--K0===0&&Hf!==null){qu!==null&&(qu.status="fulfilled");var s=Hf;Hf=null,Bu=0,qu=null;for(var u=0;u<s.length;u++)(0,s[u])()}}function HH(s,u){var d=[],m={status:"pending",value:null,reason:null,then:function(E){d.push(E)}};return s.then(function(){m.status="fulfilled",m.value=u;for(var E=0;E<d.length;E++)(0,d[E])(u)},function(E){for(m.status="rejected",m.reason=E,E=0;E<d.length;E++)(0,d[E])(void 0)}),m}var EC=J.S;J.S=function(s,u){iR=An(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&qH(s,u),EC!==null&&EC(s,u)};var xl=W(null);function Y0(){var s=xl.current;return s!==null?s:kt.pooledCache}function Yp(s,u){u===null?j(xl,xl.current):j(xl,u.pool)}function wC(){var s=Y0();return s===null?null:{parent:pn._currentValue,pool:s}}var Hu=Error(r(460)),W0=Error(r(474)),Wp=Error(r(542)),Jp={then:function(){}};function TC(s){return s=s.status,s==="fulfilled"||s==="rejected"}function SC(s,u,d){switch(d=s[d],d===void 0?s.push(u):d!==u&&(u.then(Un,Un),u=d),u.status){case"fulfilled":return u.value;case"rejected":throw s=u.reason,AC(s),s;default:if(typeof u.status=="string")u.then(Un,Un);else{if(s=kt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=u,s.status="pending",s.then(function(m){if(u.status==="pending"){var E=u;E.status="fulfilled",E.value=m}},function(m){if(u.status==="pending"){var E=u;E.status="rejected",E.reason=m}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw s=u.reason,AC(s),s}throw Cl=u,Hu}}function Al(s){try{var u=s._init;return u(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Cl=d,Hu):d}}var Cl=null;function xC(){if(Cl===null)throw Error(r(459));var s=Cl;return Cl=null,s}function AC(s){if(s===Hu||s===Wp)throw Error(r(483))}var ju=null,jf=0;function Xp(s){var u=jf;return jf+=1,ju===null&&(ju=[]),SC(ju,s,u)}function $f(s,u){u=u.props.ref,s.ref=u!==void 0?u:null}function Qp(s,u){throw u.$$typeof===g?Error(r(525)):(s=Object.prototype.toString.call(u),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s)))}function CC(s){function u(Q,X){if(s){var ee=Q.deletions;ee===null?(Q.deletions=[X],Q.flags|=16):ee.push(X)}}function d(Q,X){if(!s)return null;for(;X!==null;)u(Q,X),X=X.sibling;return null}function m(Q){for(var X=new Map;Q!==null;)Q.key!==null?X.set(Q.key,Q):X.set(Q.index,Q),Q=Q.sibling;return X}function E(Q,X){return Q=Go(Q,X),Q.index=0,Q.sibling=null,Q}function w(Q,X,ee){return Q.index=ee,s?(ee=Q.alternate,ee!==null?(ee=ee.index,ee<X?(Q.flags|=67108866,X):ee):(Q.flags|=67108866,X)):(Q.flags|=1048576,X)}function I(Q){return s&&Q.alternate===null&&(Q.flags|=67108866),Q}function q(Q,X,ee,he){return X===null||X.tag!==6?(X=U0(ee,Q.mode,he),X.return=Q,X):(X=E(X,ee),X.return=Q,X)}function Y(Q,X,ee,he){var Me=ee.type;return Me===x?de(Q,X,ee.props.children,he,ee.key):X!==null&&(X.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===U&&Al(Me)===X.type)?(X=E(X,ee.props),$f(X,ee),X.return=Q,X):(X=jp(ee.type,ee.key,ee.props,null,Q.mode,he),$f(X,ee),X.return=Q,X)}function te(Q,X,ee,he){return X===null||X.tag!==4||X.stateNode.containerInfo!==ee.containerInfo||X.stateNode.implementation!==ee.implementation?(X=V0(ee,Q.mode,he),X.return=Q,X):(X=E(X,ee.children||[]),X.return=Q,X)}function de(Q,X,ee,he,Me){return X===null||X.tag!==7?(X=El(ee,Q.mode,he,Me),X.return=Q,X):(X=E(X,ee),X.return=Q,X)}function pe(Q,X,ee){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=U0(""+X,Q.mode,ee),X.return=Q,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case v:return ee=jp(X.type,X.key,X.props,null,Q.mode,ee),$f(ee,X),ee.return=Q,ee;case T:return X=V0(X,Q.mode,ee),X.return=Q,X;case U:return X=Al(X),pe(Q,X,ee)}if(ae(X)||F(X))return X=El(X,Q.mode,ee,null),X.return=Q,X;if(typeof X.then=="function")return pe(Q,Xp(X),ee);if(X.$$typeof===M)return pe(Q,Kp(Q,X),ee);Qp(Q,X)}return null}function ne(Q,X,ee,he){var Me=X!==null?X.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Me!==null?null:q(Q,X,""+ee,he);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:return ee.key===Me?Y(Q,X,ee,he):null;case T:return ee.key===Me?te(Q,X,ee,he):null;case U:return ee=Al(ee),ne(Q,X,ee,he)}if(ae(ee)||F(ee))return Me!==null?null:de(Q,X,ee,he,null);if(typeof ee.then=="function")return ne(Q,X,Xp(ee),he);if(ee.$$typeof===M)return ne(Q,X,Kp(Q,ee),he);Qp(Q,ee)}return null}function se(Q,X,ee,he,Me){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Q=Q.get(ee)||null,q(X,Q,""+he,Me);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case v:return Q=Q.get(he.key===null?ee:he.key)||null,Y(X,Q,he,Me);case T:return Q=Q.get(he.key===null?ee:he.key)||null,te(X,Q,he,Me);case U:return he=Al(he),se(Q,X,ee,he,Me)}if(ae(he)||F(he))return Q=Q.get(ee)||null,de(X,Q,he,Me,null);if(typeof he.then=="function")return se(Q,X,ee,Xp(he),Me);if(he.$$typeof===M)return se(Q,X,ee,Kp(X,he),Me);Qp(X,he)}return null}function Ae(Q,X,ee,he){for(var Me=null,ht=null,Pe=X,Ye=X=0,ot=null;Pe!==null&&Ye<ee.length;Ye++){Pe.index>Ye?(ot=Pe,Pe=null):ot=Pe.sibling;var pt=ne(Q,Pe,ee[Ye],he);if(pt===null){Pe===null&&(Pe=ot);break}s&&Pe&&pt.alternate===null&&u(Q,Pe),X=w(pt,X,Ye),ht===null?Me=pt:ht.sibling=pt,ht=pt,Pe=ot}if(Ye===ee.length)return d(Q,Pe),st&&Ko(Q,Ye),Me;if(Pe===null){for(;Ye<ee.length;Ye++)Pe=pe(Q,ee[Ye],he),Pe!==null&&(X=w(Pe,X,Ye),ht===null?Me=Pe:ht.sibling=Pe,ht=Pe);return st&&Ko(Q,Ye),Me}for(Pe=m(Pe);Ye<ee.length;Ye++)ot=se(Pe,Q,Ye,ee[Ye],he),ot!==null&&(s&&ot.alternate!==null&&Pe.delete(ot.key===null?Ye:ot.key),X=w(ot,X,Ye),ht===null?Me=ot:ht.sibling=ot,ht=ot);return s&&Pe.forEach(function(xs){return u(Q,xs)}),st&&Ko(Q,Ye),Me}function Le(Q,X,ee,he){if(ee==null)throw Error(r(151));for(var Me=null,ht=null,Pe=X,Ye=X=0,ot=null,pt=ee.next();Pe!==null&&!pt.done;Ye++,pt=ee.next()){Pe.index>Ye?(ot=Pe,Pe=null):ot=Pe.sibling;var xs=ne(Q,Pe,pt.value,he);if(xs===null){Pe===null&&(Pe=ot);break}s&&Pe&&xs.alternate===null&&u(Q,Pe),X=w(xs,X,Ye),ht===null?Me=xs:ht.sibling=xs,ht=xs,Pe=ot}if(pt.done)return d(Q,Pe),st&&Ko(Q,Ye),Me;if(Pe===null){for(;!pt.done;Ye++,pt=ee.next())pt=pe(Q,pt.value,he),pt!==null&&(X=w(pt,X,Ye),ht===null?Me=pt:ht.sibling=pt,ht=pt);return st&&Ko(Q,Ye),Me}for(Pe=m(Pe);!pt.done;Ye++,pt=ee.next())pt=se(Pe,Q,Ye,pt.value,he),pt!==null&&(s&&pt.alternate!==null&&Pe.delete(pt.key===null?Ye:pt.key),X=w(pt,X,Ye),ht===null?Me=pt:ht.sibling=pt,ht=pt);return s&&Pe.forEach(function(ej){return u(Q,ej)}),st&&Ko(Q,Ye),Me}function Rt(Q,X,ee,he){if(typeof ee=="object"&&ee!==null&&ee.type===x&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:e:{for(var Me=ee.key;X!==null;){if(X.key===Me){if(Me=ee.type,Me===x){if(X.tag===7){d(Q,X.sibling),he=E(X,ee.props.children),he.return=Q,Q=he;break e}}else if(X.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===U&&Al(Me)===X.type){d(Q,X.sibling),he=E(X,ee.props),$f(he,ee),he.return=Q,Q=he;break e}d(Q,X);break}else u(Q,X);X=X.sibling}ee.type===x?(he=El(ee.props.children,Q.mode,he,ee.key),he.return=Q,Q=he):(he=jp(ee.type,ee.key,ee.props,null,Q.mode,he),$f(he,ee),he.return=Q,Q=he)}return I(Q);case T:e:{for(Me=ee.key;X!==null;){if(X.key===Me)if(X.tag===4&&X.stateNode.containerInfo===ee.containerInfo&&X.stateNode.implementation===ee.implementation){d(Q,X.sibling),he=E(X,ee.children||[]),he.return=Q,Q=he;break e}else{d(Q,X);break}else u(Q,X);X=X.sibling}he=V0(ee,Q.mode,he),he.return=Q,Q=he}return I(Q);case U:return ee=Al(ee),Rt(Q,X,ee,he)}if(ae(ee))return Ae(Q,X,ee,he);if(F(ee)){if(Me=F(ee),typeof Me!="function")throw Error(r(150));return ee=Me.call(ee),Le(Q,X,ee,he)}if(typeof ee.then=="function")return Rt(Q,X,Xp(ee),he);if(ee.$$typeof===M)return Rt(Q,X,Kp(Q,ee),he);Qp(Q,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,X!==null&&X.tag===6?(d(Q,X.sibling),he=E(X,ee),he.return=Q,Q=he):(d(Q,X),he=U0(ee,Q.mode,he),he.return=Q,Q=he),I(Q)):d(Q,X)}return function(Q,X,ee,he){try{jf=0;var Me=Rt(Q,X,ee,he);return ju=null,Me}catch(Pe){if(Pe===Hu||Pe===Wp)throw Pe;var ht=Yr(29,Pe,null,Q.mode);return ht.lanes=he,ht.return=Q,ht}finally{}}}var Il=CC(!0),IC=CC(!1),ls=!1;function J0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function X0(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function us(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function cs(s,u,d){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(vt&2)!==0){var E=m.pending;return E===null?u.next=u:(u.next=E.next,E.next=u),m.pending=u,u=Hp(s),fC(s,null,d),u}return qp(s,m,u,d),Hp(s)}function Gf(s,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194048)!==0)){var m=u.lanes;m&=s.pendingLanes,d|=m,u.lanes=d,qa(s,d)}}function Q0(s,u){var d=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var E=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var I={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};w===null?E=w=I:w=w.next=I,d=d.next}while(d!==null);w===null?E=w=u:w=w.next=u}else E=w=u;d={baseState:m.baseState,firstBaseUpdate:E,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=u}var Z0=!1;function Kf(){if(Z0){var s=qu;if(s!==null)throw s}}function Yf(s,u,d,m){Z0=!1;var E=s.updateQueue;ls=!1;var w=E.firstBaseUpdate,I=E.lastBaseUpdate,q=E.shared.pending;if(q!==null){E.shared.pending=null;var Y=q,te=Y.next;Y.next=null,I===null?w=te:I.next=te,I=Y;var de=s.alternate;de!==null&&(de=de.updateQueue,q=de.lastBaseUpdate,q!==I&&(q===null?de.firstBaseUpdate=te:q.next=te,de.lastBaseUpdate=Y))}if(w!==null){var pe=E.baseState;I=0,de=te=Y=null,q=w;do{var ne=q.lane&-536870913,se=ne!==q.lane;if(se?(it&ne)===ne:(m&ne)===ne){ne!==0&&ne===Bu&&(Z0=!0),de!==null&&(de=de.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var Ae=s,Le=q;ne=u;var Rt=d;switch(Le.tag){case 1:if(Ae=Le.payload,typeof Ae=="function"){pe=Ae.call(Rt,pe,ne);break e}pe=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Le.payload,ne=typeof Ae=="function"?Ae.call(Rt,pe,ne):Ae,ne==null)break e;pe=p({},pe,ne);break e;case 2:ls=!0}}ne=q.callback,ne!==null&&(s.flags|=64,se&&(s.flags|=8192),se=E.callbacks,se===null?E.callbacks=[ne]:se.push(ne))}else se={lane:ne,tag:q.tag,payload:q.payload,callback:q.callback,next:null},de===null?(te=de=se,Y=pe):de=de.next=se,I|=ne;if(q=q.next,q===null){if(q=E.shared.pending,q===null)break;se=q,q=se.next,se.next=null,E.lastBaseUpdate=se,E.shared.pending=null}}while(!0);de===null&&(Y=pe),E.baseState=Y,E.firstBaseUpdate=te,E.lastBaseUpdate=de,w===null&&(E.shared.lanes=0),ms|=I,s.lanes=I,s.memoizedState=pe}}function RC(s,u){if(typeof s!="function")throw Error(r(191,s));s.call(u)}function PC(s,u){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)RC(d[s],u)}var $u=W(null),Zp=W(0);function kC(s,u){s=ia,j(Zp,s),j($u,u),ia=s|u.baseLanes}function e_(){j(Zp,ia),j($u,$u.current)}function t_(){ia=Zp.current,oe($u),oe(Zp)}var Wr=W(null),vi=null;function fs(s){var u=s.alternate;j(cn,cn.current&1),j(Wr,s),vi===null&&(u===null||$u.current!==null||u.memoizedState!==null)&&(vi=s)}function n_(s){j(cn,cn.current),j(Wr,s),vi===null&&(vi=s)}function MC(s){s.tag===22?(j(cn,cn.current),j(Wr,s),vi===null&&(vi=s)):ds()}function ds(){j(cn,cn.current),j(Wr,Wr.current)}function Jr(s){oe(Wr),vi===s&&(vi=null),oe(cn)}var cn=W(0);function em(s){for(var u=s;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||lb(d)||ub(d)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Jo=0,Ke=null,Ct=null,mn=null,tm=!1,Gu=!1,Rl=!1,nm=0,Wf=0,Ku=null,jH=0;function en(){throw Error(r(321))}function r_(s,u){if(u===null)return!1;for(var d=0;d<u.length&&d<s.length;d++)if(!Kr(s[d],u[d]))return!1;return!0}function i_(s,u,d,m,E,w){return Jo=w,Ke=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,J.H=s===null||s.memoizedState===null?mI:__,Rl=!1,w=d(m,E),Rl=!1,Gu&&(w=DC(u,d,m,E)),NC(s),w}function NC(s){J.H=Qf;var u=Ct!==null&&Ct.next!==null;if(Jo=0,mn=Ct=Ke=null,tm=!1,Wf=0,Ku=null,u)throw Error(r(300));s===null||gn||(s=s.dependencies,s!==null&&Gp(s)&&(gn=!0))}function DC(s,u,d,m){Ke=s;var E=0;do{if(Gu&&(Ku=null),Wf=0,Gu=!1,25<=E)throw Error(r(301));if(E+=1,mn=Ct=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}J.H=gI,w=u(d,m)}while(Gu);return w}function $H(){var s=J.H,u=s.useState()[0];return u=typeof u.then=="function"?Jf(u):u,s=s.useState()[0],(Ct!==null?Ct.memoizedState:null)!==s&&(Ke.flags|=1024),u}function o_(){var s=nm!==0;return nm=0,s}function a_(s,u,d){u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~d}function s_(s){if(tm){for(s=s.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}tm=!1}Jo=0,mn=Ct=Ke=null,Gu=!1,Wf=nm=0,Ku=null}function wr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Ke.memoizedState=mn=s:mn=mn.next=s,mn}function fn(){if(Ct===null){var s=Ke.alternate;s=s!==null?s.memoizedState:null}else s=Ct.next;var u=mn===null?Ke.memoizedState:mn.next;if(u!==null)mn=u,Ct=s;else{if(s===null)throw Ke.alternate===null?Error(r(467)):Error(r(310));Ct=s,s={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},mn===null?Ke.memoizedState=mn=s:mn=mn.next=s}return mn}function rm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jf(s){var u=Wf;return Wf+=1,Ku===null&&(Ku=[]),s=SC(Ku,s,u),u=Ke,(mn===null?u.memoizedState:mn.next)===null&&(u=u.alternate,J.H=u===null||u.memoizedState===null?mI:__),s}function im(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Jf(s);if(s.$$typeof===M)return Jn(s)}throw Error(r(438,String(s)))}function l_(s){var u=null,d=Ke.updateQueue;if(d!==null&&(u=d.memoCache),u==null){var m=Ke.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(u={data:m.data.map(function(E){return E.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),d===null&&(d=rm(),Ke.updateQueue=d),d.memoCache=u,d=u.data[u.index],d===void 0)for(d=u.data[u.index]=Array(s),m=0;m<s;m++)d[m]=k;return u.index++,d}function Xo(s,u){return typeof u=="function"?u(s):u}function om(s){var u=fn();return u_(u,Ct,s)}function u_(s,u,d){var m=s.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var E=s.baseQueue,w=m.pending;if(w!==null){if(E!==null){var I=E.next;E.next=w.next,w.next=I}u.baseQueue=E=w,m.pending=null}if(w=s.baseState,E===null)s.memoizedState=w;else{u=E.next;var q=I=null,Y=null,te=u,de=!1;do{var pe=te.lane&-536870913;if(pe!==te.lane?(it&pe)===pe:(Jo&pe)===pe){var ne=te.revertLane;if(ne===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),pe===Bu&&(de=!0);else if((Jo&ne)===ne){te=te.next,ne===Bu&&(de=!0);continue}else pe={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},Y===null?(q=Y=pe,I=w):Y=Y.next=pe,Ke.lanes|=ne,ms|=ne;pe=te.action,Rl&&d(w,pe),w=te.hasEagerState?te.eagerState:d(w,pe)}else ne={lane:pe,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},Y===null?(q=Y=ne,I=w):Y=Y.next=ne,Ke.lanes|=pe,ms|=pe;te=te.next}while(te!==null&&te!==u);if(Y===null?I=w:Y.next=q,!Kr(w,s.memoizedState)&&(gn=!0,de&&(d=qu,d!==null)))throw d;s.memoizedState=w,s.baseState=I,s.baseQueue=Y,m.lastRenderedState=w}return E===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function c_(s){var u=fn(),d=u.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var m=d.dispatch,E=d.pending,w=u.memoizedState;if(E!==null){d.pending=null;var I=E=E.next;do w=s(w,I.action),I=I.next;while(I!==E);Kr(w,u.memoizedState)||(gn=!0),u.memoizedState=w,u.baseQueue===null&&(u.baseState=w),d.lastRenderedState=w}return[w,m]}function OC(s,u,d){var m=Ke,E=fn(),w=st;if(w){if(d===void 0)throw Error(r(407));d=d()}else d=u();var I=!Kr((Ct||E).memoizedState,d);if(I&&(E.memoizedState=d,gn=!0),E=E.queue,h_(VC.bind(null,m,E,s),[s]),E.getSnapshot!==u||I||mn!==null&&mn.memoizedState.tag&1){if(m.flags|=2048,Yu(9,{destroy:void 0},UC.bind(null,m,E,d,u),null),kt===null)throw Error(r(349));w||(Jo&127)!==0||LC(m,u,d)}return d}function LC(s,u,d){s.flags|=16384,s={getSnapshot:u,value:d},u=Ke.updateQueue,u===null?(u=rm(),Ke.updateQueue=u,u.stores=[s]):(d=u.stores,d===null?u.stores=[s]:d.push(s))}function UC(s,u,d,m){u.value=d,u.getSnapshot=m,FC(u)&&zC(s)}function VC(s,u,d){return d(function(){FC(u)&&zC(s)})}function FC(s){var u=s.getSnapshot;s=s.value;try{var d=u();return!Kr(s,d)}catch{return!0}}function zC(s){var u=bl(s,2);u!==null&&Vr(u,s,2)}function f_(s){var u=wr();if(typeof s=="function"){var d=s;if(s=d(),Rl){Ln(!0);try{d()}finally{Ln(!1)}}}return u.memoizedState=u.baseState=s,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:s},u}function BC(s,u,d,m){return s.baseState=d,u_(s,Ct,typeof m=="function"?m:Xo)}function GH(s,u,d,m,E){if(lm(s))throw Error(r(485));if(s=u.action,s!==null){var w={payload:E,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){w.listeners.push(I)}};J.T!==null?d(!0):w.isTransition=!1,m(w),d=u.pending,d===null?(w.next=u.pending=w,qC(u,w)):(w.next=d.next,u.pending=d.next=w)}}function qC(s,u){var d=u.action,m=u.payload,E=s.state;if(u.isTransition){var w=J.T,I={};J.T=I;try{var q=d(E,m),Y=J.S;Y!==null&&Y(I,q),HC(s,u,q)}catch(te){d_(s,u,te)}finally{w!==null&&I.types!==null&&(w.types=I.types),J.T=w}}else try{w=d(E,m),HC(s,u,w)}catch(te){d_(s,u,te)}}function HC(s,u,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){jC(s,u,m)},function(m){return d_(s,u,m)}):jC(s,u,d)}function jC(s,u,d){u.status="fulfilled",u.value=d,$C(u),s.state=d,u=s.pending,u!==null&&(d=u.next,d===u?s.pending=null:(d=d.next,u.next=d,qC(s,d)))}function d_(s,u,d){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do u.status="rejected",u.reason=d,$C(u),u=u.next;while(u!==m)}s.action=null}function $C(s){s=s.listeners;for(var u=0;u<s.length;u++)(0,s[u])()}function GC(s,u){return u}function KC(s,u){if(st){var d=kt.formState;if(d!==null){e:{var m=Ke;if(st){if(Vt){t:{for(var E=Vt,w=yi;E.nodeType!==8;){if(!w){E=null;break t}if(E=_i(E.nextSibling),E===null){E=null;break t}}w=E.data,E=w==="F!"||w==="F"?E:null}if(E){Vt=_i(E.nextSibling),m=E.data==="F!";break e}}as(m)}m=!1}m&&(u=d[0])}}return d=wr(),d.memoizedState=d.baseState=u,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:GC,lastRenderedState:u},d.queue=m,d=dI.bind(null,Ke,m),m.dispatch=d,m=f_(!1),w=v_.bind(null,Ke,!1,m.queue),m=wr(),E={state:u,dispatch:null,action:s,pending:null},m.queue=E,d=GH.bind(null,Ke,E,w,d),E.dispatch=d,m.memoizedState=s,[u,d,!1]}function YC(s){var u=fn();return WC(u,Ct,s)}function WC(s,u,d){if(u=u_(s,u,GC)[0],s=om(Xo)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var m=Jf(u)}catch(I){throw I===Hu?Wp:I}else m=u;u=fn();var E=u.queue,w=E.dispatch;return d!==u.memoizedState&&(Ke.flags|=2048,Yu(9,{destroy:void 0},KH.bind(null,E,d),null)),[m,w,s]}function KH(s,u){s.action=u}function JC(s){var u=fn(),d=Ct;if(d!==null)return WC(u,d,s);fn(),u=u.memoizedState,d=fn();var m=d.queue.dispatch;return d.memoizedState=s,[u,m,!1]}function Yu(s,u,d,m){return s={tag:s,create:d,deps:m,inst:u,next:null},u=Ke.updateQueue,u===null&&(u=rm(),Ke.updateQueue=u),d=u.lastEffect,d===null?u.lastEffect=s.next=s:(m=d.next,d.next=s,s.next=m,u.lastEffect=s),s}function XC(){return fn().memoizedState}function am(s,u,d,m){var E=wr();Ke.flags|=s,E.memoizedState=Yu(1|u,{destroy:void 0},d,m===void 0?null:m)}function sm(s,u,d,m){var E=fn();m=m===void 0?null:m;var w=E.memoizedState.inst;Ct!==null&&m!==null&&r_(m,Ct.memoizedState.deps)?E.memoizedState=Yu(u,w,d,m):(Ke.flags|=s,E.memoizedState=Yu(1|u,w,d,m))}function QC(s,u){am(8390656,8,s,u)}function h_(s,u){sm(2048,8,s,u)}function YH(s){Ke.flags|=4;var u=Ke.updateQueue;if(u===null)u=rm(),Ke.updateQueue=u,u.events=[s];else{var d=u.events;d===null?u.events=[s]:d.push(s)}}function ZC(s){var u=fn().memoizedState;return YH({ref:u,nextImpl:s}),function(){if((vt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function eI(s,u){return sm(4,2,s,u)}function tI(s,u){return sm(4,4,s,u)}function nI(s,u){if(typeof u=="function"){s=s();var d=u(s);return function(){typeof d=="function"?d():u(null)}}if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function rI(s,u,d){d=d!=null?d.concat([s]):null,sm(4,4,nI.bind(null,u,s),d)}function p_(){}function iI(s,u){var d=fn();u=u===void 0?null:u;var m=d.memoizedState;return u!==null&&r_(u,m[1])?m[0]:(d.memoizedState=[s,u],s)}function oI(s,u){var d=fn();u=u===void 0?null:u;var m=d.memoizedState;if(u!==null&&r_(u,m[1]))return m[0];if(m=s(),Rl){Ln(!0);try{s()}finally{Ln(!1)}}return d.memoizedState=[m,u],m}function m_(s,u,d){return d===void 0||(Jo&1073741824)!==0&&(it&261930)===0?s.memoizedState=u:(s.memoizedState=d,s=aR(),Ke.lanes|=s,ms|=s,d)}function aI(s,u,d,m){return Kr(d,u)?d:$u.current!==null?(s=m_(s,d,m),Kr(s,u)||(gn=!0),s):(Jo&42)===0||(Jo&1073741824)!==0&&(it&261930)===0?(gn=!0,s.memoizedState=d):(s=aR(),Ke.lanes|=s,ms|=s,u)}function sI(s,u,d,m,E){var w=le.p;le.p=w!==0&&8>w?w:8;var I=J.T,q={};J.T=q,v_(s,!1,u,d);try{var Y=E(),te=J.S;if(te!==null&&te(q,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var de=HH(Y,m);Xf(s,u,de,Zr(s))}else Xf(s,u,m,Zr(s))}catch(pe){Xf(s,u,{then:function(){},status:"rejected",reason:pe},Zr())}finally{le.p=w,I!==null&&q.types!==null&&(I.types=q.types),J.T=I}}function WH(){}function g_(s,u,d,m){if(s.tag!==5)throw Error(r(476));var E=lI(s).queue;sI(s,E,u,_e,d===null?WH:function(){return uI(s),d(m)})}function lI(s){var u=s.memoizedState;if(u!==null)return u;u={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:_e},next:null};var d={};return u.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:d},next:null},s.memoizedState=u,s=s.alternate,s!==null&&(s.memoizedState=u),u}function uI(s){var u=lI(s);u.next===null&&(u=s.alternate.memoizedState),Xf(s,u.next.queue,{},Zr())}function y_(){return Jn(pd)}function cI(){return fn().memoizedState}function fI(){return fn().memoizedState}function JH(s){for(var u=s.return;u!==null;){switch(u.tag){case 24:case 3:var d=Zr();s=us(d);var m=cs(u,s,d);m!==null&&(Vr(m,u,d),Gf(m,u,d)),u={cache:G0()},s.payload=u;return}u=u.return}}function XH(s,u,d){var m=Zr();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},lm(s)?hI(u,d):(d=O0(s,u,d,m),d!==null&&(Vr(d,s,m),pI(d,u,m)))}function dI(s,u,d){var m=Zr();Xf(s,u,d,m)}function Xf(s,u,d,m){var E={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(lm(s))hI(u,E);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=u.lastRenderedReducer,w!==null))try{var I=u.lastRenderedState,q=w(I,d);if(E.hasEagerState=!0,E.eagerState=q,Kr(q,I))return qp(s,u,E,0),kt===null&&Bp(),!1}catch{}finally{}if(d=O0(s,u,E,m),d!==null)return Vr(d,s,m),pI(d,u,m),!0}return!1}function v_(s,u,d,m){if(m={lane:2,revertLane:J_(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},lm(s)){if(u)throw Error(r(479))}else u=O0(s,d,m,2),u!==null&&Vr(u,s,2)}function lm(s){var u=s.alternate;return s===Ke||u!==null&&u===Ke}function hI(s,u){Gu=tm=!0;var d=s.pending;d===null?u.next=u:(u.next=d.next,d.next=u),s.pending=u}function pI(s,u,d){if((d&4194048)!==0){var m=u.lanes;m&=s.pendingLanes,d|=m,u.lanes=d,qa(s,d)}}var Qf={readContext:Jn,use:im,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en};Qf.useEffectEvent=en;var mI={readContext:Jn,use:im,useCallback:function(s,u){return wr().memoizedState=[s,u===void 0?null:u],s},useContext:Jn,useEffect:QC,useImperativeHandle:function(s,u,d){d=d!=null?d.concat([s]):null,am(4194308,4,nI.bind(null,u,s),d)},useLayoutEffect:function(s,u){return am(4194308,4,s,u)},useInsertionEffect:function(s,u){am(4,2,s,u)},useMemo:function(s,u){var d=wr();u=u===void 0?null:u;var m=s();if(Rl){Ln(!0);try{s()}finally{Ln(!1)}}return d.memoizedState=[m,u],m},useReducer:function(s,u,d){var m=wr();if(d!==void 0){var E=d(u);if(Rl){Ln(!0);try{d(u)}finally{Ln(!1)}}}else E=u;return m.memoizedState=m.baseState=E,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:E},m.queue=s,s=s.dispatch=XH.bind(null,Ke,s),[m.memoizedState,s]},useRef:function(s){var u=wr();return s={current:s},u.memoizedState=s},useState:function(s){s=f_(s);var u=s.queue,d=dI.bind(null,Ke,u);return u.dispatch=d,[s.memoizedState,d]},useDebugValue:p_,useDeferredValue:function(s,u){var d=wr();return m_(d,s,u)},useTransition:function(){var s=f_(!1);return s=sI.bind(null,Ke,s.queue,!0,!1),wr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,u,d){var m=Ke,E=wr();if(st){if(d===void 0)throw Error(r(407));d=d()}else{if(d=u(),kt===null)throw Error(r(349));(it&127)!==0||LC(m,u,d)}E.memoizedState=d;var w={value:d,getSnapshot:u};return E.queue=w,QC(VC.bind(null,m,w,s),[s]),m.flags|=2048,Yu(9,{destroy:void 0},UC.bind(null,m,w,d,u),null),d},useId:function(){var s=wr(),u=kt.identifierPrefix;if(st){var d=ho,m=fo;d=(m&~(1<<32-Et(m)-1)).toString(32)+d,u="_"+u+"R_"+d,d=nm++,0<d&&(u+="H"+d.toString(32)),u+="_"}else d=jH++,u="_"+u+"r_"+d.toString(32)+"_";return s.memoizedState=u},useHostTransitionStatus:y_,useFormState:KC,useActionState:KC,useOptimistic:function(s){var u=wr();u.memoizedState=u.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=d,u=v_.bind(null,Ke,!0,d),d.dispatch=u,[s,u]},useMemoCache:l_,useCacheRefresh:function(){return wr().memoizedState=JH.bind(null,Ke)},useEffectEvent:function(s){var u=wr(),d={impl:s};return u.memoizedState=d,function(){if((vt&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},__={readContext:Jn,use:im,useCallback:iI,useContext:Jn,useEffect:h_,useImperativeHandle:rI,useInsertionEffect:eI,useLayoutEffect:tI,useMemo:oI,useReducer:om,useRef:XC,useState:function(){return om(Xo)},useDebugValue:p_,useDeferredValue:function(s,u){var d=fn();return aI(d,Ct.memoizedState,s,u)},useTransition:function(){var s=om(Xo)[0],u=fn().memoizedState;return[typeof s=="boolean"?s:Jf(s),u]},useSyncExternalStore:OC,useId:cI,useHostTransitionStatus:y_,useFormState:YC,useActionState:YC,useOptimistic:function(s,u){var d=fn();return BC(d,Ct,s,u)},useMemoCache:l_,useCacheRefresh:fI};__.useEffectEvent=ZC;var gI={readContext:Jn,use:im,useCallback:iI,useContext:Jn,useEffect:h_,useImperativeHandle:rI,useInsertionEffect:eI,useLayoutEffect:tI,useMemo:oI,useReducer:c_,useRef:XC,useState:function(){return c_(Xo)},useDebugValue:p_,useDeferredValue:function(s,u){var d=fn();return Ct===null?m_(d,s,u):aI(d,Ct.memoizedState,s,u)},useTransition:function(){var s=c_(Xo)[0],u=fn().memoizedState;return[typeof s=="boolean"?s:Jf(s),u]},useSyncExternalStore:OC,useId:cI,useHostTransitionStatus:y_,useFormState:JC,useActionState:JC,useOptimistic:function(s,u){var d=fn();return Ct!==null?BC(d,Ct,s,u):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:l_,useCacheRefresh:fI};gI.useEffectEvent=ZC;function b_(s,u,d,m){u=s.memoizedState,d=d(m,u),d=d==null?u:p({},u,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var E_={enqueueSetState:function(s,u,d){s=s._reactInternals;var m=Zr(),E=us(m);E.payload=u,d!=null&&(E.callback=d),u=cs(s,E,m),u!==null&&(Vr(u,s,m),Gf(u,s,m))},enqueueReplaceState:function(s,u,d){s=s._reactInternals;var m=Zr(),E=us(m);E.tag=1,E.payload=u,d!=null&&(E.callback=d),u=cs(s,E,m),u!==null&&(Vr(u,s,m),Gf(u,s,m))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var d=Zr(),m=us(d);m.tag=2,u!=null&&(m.callback=u),u=cs(s,m,d),u!==null&&(Vr(u,s,d),Gf(u,s,d))}};function yI(s,u,d,m,E,w,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,w,I):u.prototype&&u.prototype.isPureReactComponent?!Vf(d,m)||!Vf(E,w):!0}function vI(s,u,d,m){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,m),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,m),u.state!==s&&E_.enqueueReplaceState(u,u.state,null)}function Pl(s,u){var d=u;if("ref"in u){d={};for(var m in u)m!=="ref"&&(d[m]=u[m])}if(s=s.defaultProps){d===u&&(d=p({},d));for(var E in s)d[E]===void 0&&(d[E]=s[E])}return d}function _I(s){zp(s)}function bI(s){console.error(s)}function EI(s){zp(s)}function um(s,u){try{var d=s.onUncaughtError;d(u.value,{componentStack:u.stack})}catch(m){setTimeout(function(){throw m})}}function wI(s,u,d){try{var m=s.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function w_(s,u,d){return d=us(d),d.tag=3,d.payload={element:null},d.callback=function(){um(s,u)},d}function TI(s){return s=us(s),s.tag=3,s}function SI(s,u,d,m){var E=d.type.getDerivedStateFromError;if(typeof E=="function"){var w=m.value;s.payload=function(){return E(w)},s.callback=function(){wI(u,d,m)}}var I=d.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){wI(u,d,m),typeof E!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var q=m.stack;this.componentDidCatch(m.value,{componentStack:q!==null?q:""})})}function QH(s,u,d,m,E){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(u=d.alternate,u!==null&&zu(u,d,E,!0),d=Wr.current,d!==null){switch(d.tag){case 31:case 13:return vi===null?Em():d.alternate===null&&tn===0&&(tn=3),d.flags&=-257,d.flags|=65536,d.lanes=E,m===Jp?d.flags|=16384:(u=d.updateQueue,u===null?d.updateQueue=new Set([m]):u.add(m),K_(s,m,E)),!1;case 22:return d.flags|=65536,m===Jp?d.flags|=16384:(u=d.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=u):(d=u.retryQueue,d===null?u.retryQueue=new Set([m]):d.add(m)),K_(s,m,E)),!1}throw Error(r(435,d.tag))}return K_(s,m,E),Em(),!1}if(st)return u=Wr.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=E,m!==B0&&(s=Error(r(422),{cause:m}),Bf(pi(s,d)))):(m!==B0&&(u=Error(r(423),{cause:m}),Bf(pi(u,d))),s=s.current.alternate,s.flags|=65536,E&=-E,s.lanes|=E,m=pi(m,d),E=w_(s.stateNode,m,E),Q0(s,E),tn!==4&&(tn=2)),!1;var w=Error(r(520),{cause:m});if(w=pi(w,d),ad===null?ad=[w]:ad.push(w),tn!==4&&(tn=2),u===null)return!0;m=pi(m,d),d=u;do{switch(d.tag){case 3:return d.flags|=65536,s=E&-E,d.lanes|=s,s=w_(d.stateNode,m,s),Q0(d,s),!1;case 1:if(u=d.type,w=d.stateNode,(d.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(gs===null||!gs.has(w))))return d.flags|=65536,E&=-E,d.lanes|=E,E=TI(E),SI(E,s,d,m),Q0(d,E),!1}d=d.return}while(d!==null);return!1}var T_=Error(r(461)),gn=!1;function Xn(s,u,d,m){u.child=s===null?IC(u,null,d,m):Il(u,s.child,d,m)}function xI(s,u,d,m,E){d=d.render;var w=u.ref;if("ref"in m){var I={};for(var q in m)q!=="ref"&&(I[q]=m[q])}else I=m;return Sl(u),m=i_(s,u,d,I,w,E),q=o_(),s!==null&&!gn?(a_(s,u,E),Qo(s,u,E)):(st&&q&&F0(u),u.flags|=1,Xn(s,u,m,E),u.child)}function AI(s,u,d,m,E){if(s===null){var w=d.type;return typeof w=="function"&&!L0(w)&&w.defaultProps===void 0&&d.compare===null?(u.tag=15,u.type=w,CI(s,u,w,m,E)):(s=jp(d.type,null,m,u,u.mode,E),s.ref=u.ref,s.return=u,u.child=s)}if(w=s.child,!k_(s,E)){var I=w.memoizedProps;if(d=d.compare,d=d!==null?d:Vf,d(I,m)&&s.ref===u.ref)return Qo(s,u,E)}return u.flags|=1,s=Go(w,m),s.ref=u.ref,s.return=u,u.child=s}function CI(s,u,d,m,E){if(s!==null){var w=s.memoizedProps;if(Vf(w,m)&&s.ref===u.ref)if(gn=!1,u.pendingProps=m=w,k_(s,E))(s.flags&131072)!==0&&(gn=!0);else return u.lanes=s.lanes,Qo(s,u,E)}return S_(s,u,d,m,E)}function II(s,u,d,m){var E=m.children,w=s!==null?s.memoizedState:null;if(s===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((u.flags&128)!==0){if(w=w!==null?w.baseLanes|d:d,s!==null){for(m=u.child=s.child,E=0;m!==null;)E=E|m.lanes|m.childLanes,m=m.sibling;m=E&~w}else m=0,u.child=null;return RI(s,u,w,d,m)}if((d&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},s!==null&&Yp(u,w!==null?w.cachePool:null),w!==null?kC(u,w):e_(),MC(u);else return m=u.lanes=536870912,RI(s,u,w!==null?w.baseLanes|d:d,d,m)}else w!==null?(Yp(u,w.cachePool),kC(u,w),ds(),u.memoizedState=null):(s!==null&&Yp(u,null),e_(),ds());return Xn(s,u,E,d),u.child}function Zf(s,u){return s!==null&&s.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function RI(s,u,d,m,E){var w=Y0();return w=w===null?null:{parent:pn._currentValue,pool:w},u.memoizedState={baseLanes:d,cachePool:w},s!==null&&Yp(u,null),e_(),MC(u),s!==null&&zu(s,u,m,!0),u.childLanes=E,null}function cm(s,u){return u=dm({mode:u.mode,children:u.children},s.mode),u.ref=s.ref,s.child=u,u.return=s,u}function PI(s,u,d){return Il(u,s.child,null,d),s=cm(u,u.pendingProps),s.flags|=2,Jr(u),u.memoizedState=null,s}function ZH(s,u,d){var m=u.pendingProps,E=(u.flags&128)!==0;if(u.flags&=-129,s===null){if(st){if(m.mode==="hidden")return s=cm(u,m),u.lanes=536870912,Zf(null,s);if(n_(u),(s=Vt)?(s=qR(s,yi),s=s!==null&&s.data==="&"?s:null,s!==null&&(u.memoizedState={dehydrated:s,treeContext:is!==null?{id:fo,overflow:ho}:null,retryLane:536870912,hydrationErrors:null},d=hC(s),d.return=u,u.child=d,Wn=u,Vt=null)):s=null,s===null)throw as(u);return u.lanes=536870912,null}return cm(u,m)}var w=s.memoizedState;if(w!==null){var I=w.dehydrated;if(n_(u),E)if(u.flags&256)u.flags&=-257,u=PI(s,u,d);else if(u.memoizedState!==null)u.child=s.child,u.flags|=128,u=null;else throw Error(r(558));else if(gn||zu(s,u,d,!1),E=(d&s.childLanes)!==0,gn||E){if(m=kt,m!==null&&(I=Ha(m,d),I!==0&&I!==w.retryLane))throw w.retryLane=I,bl(s,I),Vr(m,s,I),T_;Em(),u=PI(s,u,d)}else s=w.treeContext,Vt=_i(I.nextSibling),Wn=u,st=!0,os=null,yi=!1,s!==null&&gC(u,s),u=cm(u,m),u.flags|=4096;return u}return s=Go(s.child,{mode:m.mode,children:m.children}),s.ref=u.ref,u.child=s,s.return=u,s}function fm(s,u){var d=u.ref;if(d===null)s!==null&&s.ref!==null&&(u.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(s===null||s.ref!==d)&&(u.flags|=4194816)}}function S_(s,u,d,m,E){return Sl(u),d=i_(s,u,d,m,void 0,E),m=o_(),s!==null&&!gn?(a_(s,u,E),Qo(s,u,E)):(st&&m&&F0(u),u.flags|=1,Xn(s,u,d,E),u.child)}function kI(s,u,d,m,E,w){return Sl(u),u.updateQueue=null,d=DC(u,m,d,E),NC(s),m=o_(),s!==null&&!gn?(a_(s,u,w),Qo(s,u,w)):(st&&m&&F0(u),u.flags|=1,Xn(s,u,d,w),u.child)}function MI(s,u,d,m,E){if(Sl(u),u.stateNode===null){var w=Lu,I=d.contextType;typeof I=="object"&&I!==null&&(w=Jn(I)),w=new d(m,w),u.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=E_,u.stateNode=w,w._reactInternals=u,w=u.stateNode,w.props=m,w.state=u.memoizedState,w.refs={},J0(u),I=d.contextType,w.context=typeof I=="object"&&I!==null?Jn(I):Lu,w.state=u.memoizedState,I=d.getDerivedStateFromProps,typeof I=="function"&&(b_(u,d,I,m),w.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(I=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),I!==w.state&&E_.enqueueReplaceState(w,w.state,null),Yf(u,m,w,E),Kf(),w.state=u.memoizedState),typeof w.componentDidMount=="function"&&(u.flags|=4194308),m=!0}else if(s===null){w=u.stateNode;var q=u.memoizedProps,Y=Pl(d,q);w.props=Y;var te=w.context,de=d.contextType;I=Lu,typeof de=="object"&&de!==null&&(I=Jn(de));var pe=d.getDerivedStateFromProps;de=typeof pe=="function"||typeof w.getSnapshotBeforeUpdate=="function",q=u.pendingProps!==q,de||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(q||te!==I)&&vI(u,w,m,I),ls=!1;var ne=u.memoizedState;w.state=ne,Yf(u,m,w,E),Kf(),te=u.memoizedState,q||ne!==te||ls?(typeof pe=="function"&&(b_(u,d,pe,m),te=u.memoizedState),(Y=ls||yI(u,d,Y,m,ne,te,I))?(de||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(u.flags|=4194308)):(typeof w.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=m,u.memoizedState=te),w.props=m,w.state=te,w.context=I,m=Y):(typeof w.componentDidMount=="function"&&(u.flags|=4194308),m=!1)}else{w=u.stateNode,X0(s,u),I=u.memoizedProps,de=Pl(d,I),w.props=de,pe=u.pendingProps,ne=w.context,te=d.contextType,Y=Lu,typeof te=="object"&&te!==null&&(Y=Jn(te)),q=d.getDerivedStateFromProps,(te=typeof q=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==pe||ne!==Y)&&vI(u,w,m,Y),ls=!1,ne=u.memoizedState,w.state=ne,Yf(u,m,w,E),Kf();var se=u.memoizedState;I!==pe||ne!==se||ls||s!==null&&s.dependencies!==null&&Gp(s.dependencies)?(typeof q=="function"&&(b_(u,d,q,m),se=u.memoizedState),(de=ls||yI(u,d,de,m,ne,se,Y)||s!==null&&s.dependencies!==null&&Gp(s.dependencies))?(te||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,se,Y),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,se,Y)),typeof w.componentDidUpdate=="function"&&(u.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof w.componentDidUpdate!="function"||I===s.memoizedProps&&ne===s.memoizedState||(u.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ne===s.memoizedState||(u.flags|=1024),u.memoizedProps=m,u.memoizedState=se),w.props=m,w.state=se,w.context=Y,m=de):(typeof w.componentDidUpdate!="function"||I===s.memoizedProps&&ne===s.memoizedState||(u.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ne===s.memoizedState||(u.flags|=1024),m=!1)}return w=m,fm(s,u),m=(u.flags&128)!==0,w||m?(w=u.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:w.render(),u.flags|=1,s!==null&&m?(u.child=Il(u,s.child,null,E),u.child=Il(u,null,d,E)):Xn(s,u,d,E),u.memoizedState=w.state,s=u.child):s=Qo(s,u,E),s}function NI(s,u,d,m){return wl(),u.flags|=256,Xn(s,u,d,m),u.child}var x_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function A_(s){return{baseLanes:s,cachePool:wC()}}function C_(s,u,d){return s=s!==null?s.childLanes&~d:0,u&&(s|=Qr),s}function DI(s,u,d){var m=u.pendingProps,E=!1,w=(u.flags&128)!==0,I;if((I=w)||(I=s!==null&&s.memoizedState===null?!1:(cn.current&2)!==0),I&&(E=!0,u.flags&=-129),I=(u.flags&32)!==0,u.flags&=-33,s===null){if(st){if(E?fs(u):ds(),(s=Vt)?(s=qR(s,yi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(u.memoizedState={dehydrated:s,treeContext:is!==null?{id:fo,overflow:ho}:null,retryLane:536870912,hydrationErrors:null},d=hC(s),d.return=u,u.child=d,Wn=u,Vt=null)):s=null,s===null)throw as(u);return ub(s)?u.lanes=32:u.lanes=536870912,null}var q=m.children;return m=m.fallback,E?(ds(),E=u.mode,q=dm({mode:"hidden",children:q},E),m=El(m,E,d,null),q.return=u,m.return=u,q.sibling=m,u.child=q,m=u.child,m.memoizedState=A_(d),m.childLanes=C_(s,I,d),u.memoizedState=x_,Zf(null,m)):(fs(u),I_(u,q))}var Y=s.memoizedState;if(Y!==null&&(q=Y.dehydrated,q!==null)){if(w)u.flags&256?(fs(u),u.flags&=-257,u=R_(s,u,d)):u.memoizedState!==null?(ds(),u.child=s.child,u.flags|=128,u=null):(ds(),q=m.fallback,E=u.mode,m=dm({mode:"visible",children:m.children},E),q=El(q,E,d,null),q.flags|=2,m.return=u,q.return=u,m.sibling=q,u.child=m,Il(u,s.child,null,d),m=u.child,m.memoizedState=A_(d),m.childLanes=C_(s,I,d),u.memoizedState=x_,u=Zf(null,m));else if(fs(u),ub(q)){if(I=q.nextSibling&&q.nextSibling.dataset,I)var te=I.dgst;I=te,m=Error(r(419)),m.stack="",m.digest=I,Bf({value:m,source:null,stack:null}),u=R_(s,u,d)}else if(gn||zu(s,u,d,!1),I=(d&s.childLanes)!==0,gn||I){if(I=kt,I!==null&&(m=Ha(I,d),m!==0&&m!==Y.retryLane))throw Y.retryLane=m,bl(s,m),Vr(I,s,m),T_;lb(q)||Em(),u=R_(s,u,d)}else lb(q)?(u.flags|=192,u.child=s.child,u=null):(s=Y.treeContext,Vt=_i(q.nextSibling),Wn=u,st=!0,os=null,yi=!1,s!==null&&gC(u,s),u=I_(u,m.children),u.flags|=4096);return u}return E?(ds(),q=m.fallback,E=u.mode,Y=s.child,te=Y.sibling,m=Go(Y,{mode:"hidden",children:m.children}),m.subtreeFlags=Y.subtreeFlags&65011712,te!==null?q=Go(te,q):(q=El(q,E,d,null),q.flags|=2),q.return=u,m.return=u,m.sibling=q,u.child=m,Zf(null,m),m=u.child,q=s.child.memoizedState,q===null?q=A_(d):(E=q.cachePool,E!==null?(Y=pn._currentValue,E=E.parent!==Y?{parent:Y,pool:Y}:E):E=wC(),q={baseLanes:q.baseLanes|d,cachePool:E}),m.memoizedState=q,m.childLanes=C_(s,I,d),u.memoizedState=x_,Zf(s.child,m)):(fs(u),d=s.child,s=d.sibling,d=Go(d,{mode:"visible",children:m.children}),d.return=u,d.sibling=null,s!==null&&(I=u.deletions,I===null?(u.deletions=[s],u.flags|=16):I.push(s)),u.child=d,u.memoizedState=null,d)}function I_(s,u){return u=dm({mode:"visible",children:u},s.mode),u.return=s,s.child=u}function dm(s,u){return s=Yr(22,s,null,u),s.lanes=0,s}function R_(s,u,d){return Il(u,s.child,null,d),s=I_(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function OI(s,u,d){s.lanes|=u;var m=s.alternate;m!==null&&(m.lanes|=u),j0(s.return,u,d)}function P_(s,u,d,m,E,w){var I=s.memoizedState;I===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:E,treeForkCount:w}:(I.isBackwards=u,I.rendering=null,I.renderingStartTime=0,I.last=m,I.tail=d,I.tailMode=E,I.treeForkCount=w)}function LI(s,u,d){var m=u.pendingProps,E=m.revealOrder,w=m.tail;m=m.children;var I=cn.current,q=(I&2)!==0;if(q?(I=I&1|2,u.flags|=128):I&=1,j(cn,I),Xn(s,u,m,d),m=st?zf:0,!q&&s!==null&&(s.flags&128)!==0)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&OI(s,d,u);else if(s.tag===19)OI(s,d,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(E){case"forwards":for(d=u.child,E=null;d!==null;)s=d.alternate,s!==null&&em(s)===null&&(E=d),d=d.sibling;d=E,d===null?(E=u.child,u.child=null):(E=d.sibling,d.sibling=null),P_(u,!1,E,d,w,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,E=u.child,u.child=null;E!==null;){if(s=E.alternate,s!==null&&em(s)===null){u.child=E;break}s=E.sibling,E.sibling=d,d=E,E=s}P_(u,!0,d,null,w,m);break;case"together":P_(u,!1,null,null,void 0,m);break;default:u.memoizedState=null}return u.child}function Qo(s,u,d){if(s!==null&&(u.dependencies=s.dependencies),ms|=u.lanes,(d&u.childLanes)===0)if(s!==null){if(zu(s,u,d,!1),(d&u.childLanes)===0)return null}else return null;if(s!==null&&u.child!==s.child)throw Error(r(153));if(u.child!==null){for(s=u.child,d=Go(s,s.pendingProps),u.child=d,d.return=u;s.sibling!==null;)s=s.sibling,d=d.sibling=Go(s,s.pendingProps),d.return=u;d.sibling=null}return u.child}function k_(s,u){return(s.lanes&u)!==0?!0:(s=s.dependencies,!!(s!==null&&Gp(s)))}function e9(s,u,d){switch(u.tag){case 3:_t(u,u.stateNode.containerInfo),ss(u,pn,s.memoizedState.cache),wl();break;case 27:case 5:Ne(u);break;case 4:_t(u,u.stateNode.containerInfo);break;case 10:ss(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,n_(u),null;break;case 13:var m=u.memoizedState;if(m!==null)return m.dehydrated!==null?(fs(u),u.flags|=128,null):(d&u.child.childLanes)!==0?DI(s,u,d):(fs(u),s=Qo(s,u,d),s!==null?s.sibling:null);fs(u);break;case 19:var E=(s.flags&128)!==0;if(m=(d&u.childLanes)!==0,m||(zu(s,u,d,!1),m=(d&u.childLanes)!==0),E){if(m)return LI(s,u,d);u.flags|=128}if(E=u.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),j(cn,cn.current),m)break;return null;case 22:return u.lanes=0,II(s,u,d,u.pendingProps);case 24:ss(u,pn,s.memoizedState.cache)}return Qo(s,u,d)}function UI(s,u,d){if(s!==null)if(s.memoizedProps!==u.pendingProps)gn=!0;else{if(!k_(s,d)&&(u.flags&128)===0)return gn=!1,e9(s,u,d);gn=(s.flags&131072)!==0}else gn=!1,st&&(u.flags&1048576)!==0&&mC(u,zf,u.index);switch(u.lanes=0,u.tag){case 16:e:{var m=u.pendingProps;if(s=Al(u.elementType),u.type=s,typeof s=="function")L0(s)?(m=Pl(s,m),u.tag=1,u=MI(null,u,s,m,d)):(u.tag=0,u=S_(null,u,s,m,d));else{if(s!=null){var E=s.$$typeof;if(E===G){u.tag=11,u=xI(null,u,s,m,d);break e}else if(E===N){u.tag=14,u=AI(null,u,s,m,d);break e}}throw u=ie(s)||s,Error(r(306,u,""))}}return u;case 0:return S_(s,u,u.type,u.pendingProps,d);case 1:return m=u.type,E=Pl(m,u.pendingProps),MI(s,u,m,E,d);case 3:e:{if(_t(u,u.stateNode.containerInfo),s===null)throw Error(r(387));m=u.pendingProps;var w=u.memoizedState;E=w.element,X0(s,u),Yf(u,m,null,d);var I=u.memoizedState;if(m=I.cache,ss(u,pn,m),m!==w.cache&&$0(u,[pn],d,!0),Kf(),m=I.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:I.cache},u.updateQueue.baseState=w,u.memoizedState=w,u.flags&256){u=NI(s,u,m,d);break e}else if(m!==E){E=pi(Error(r(424)),u),Bf(E),u=NI(s,u,m,d);break e}else{switch(s=u.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Vt=_i(s.firstChild),Wn=u,st=!0,os=null,yi=!0,d=IC(u,null,m,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(wl(),m===E){u=Qo(s,u,d);break e}Xn(s,u,m,d)}u=u.child}return u;case 26:return fm(s,u),s===null?(d=YR(u.type,null,u.pendingProps,null))?u.memoizedState=d:st||(d=u.type,s=u.pendingProps,m=Im(Ie.current).createElement(d),m[Qt]=u,m[Yn]=s,Qn(m,d,s),un(m),u.stateNode=m):u.memoizedState=YR(u.type,s.memoizedProps,u.pendingProps,s.memoizedState),null;case 27:return Ne(u),s===null&&st&&(m=u.stateNode=$R(u.type,u.pendingProps,Ie.current),Wn=u,yi=!0,E=Vt,bs(u.type)?(cb=E,Vt=_i(m.firstChild)):Vt=E),Xn(s,u,u.pendingProps.children,d),fm(s,u),s===null&&(u.flags|=4194304),u.child;case 5:return s===null&&st&&((E=m=Vt)&&(m=P9(m,u.type,u.pendingProps,yi),m!==null?(u.stateNode=m,Wn=u,Vt=_i(m.firstChild),yi=!1,E=!0):E=!1),E||as(u)),Ne(u),E=u.type,w=u.pendingProps,I=s!==null?s.memoizedProps:null,m=w.children,ob(E,w)?m=null:I!==null&&ob(E,I)&&(u.flags|=32),u.memoizedState!==null&&(E=i_(s,u,$H,null,null,d),pd._currentValue=E),fm(s,u),Xn(s,u,m,d),u.child;case 6:return s===null&&st&&((s=d=Vt)&&(d=k9(d,u.pendingProps,yi),d!==null?(u.stateNode=d,Wn=u,Vt=null,s=!0):s=!1),s||as(u)),null;case 13:return DI(s,u,d);case 4:return _t(u,u.stateNode.containerInfo),m=u.pendingProps,s===null?u.child=Il(u,null,m,d):Xn(s,u,m,d),u.child;case 11:return xI(s,u,u.type,u.pendingProps,d);case 7:return Xn(s,u,u.pendingProps,d),u.child;case 8:return Xn(s,u,u.pendingProps.children,d),u.child;case 12:return Xn(s,u,u.pendingProps.children,d),u.child;case 10:return m=u.pendingProps,ss(u,u.type,m.value),Xn(s,u,m.children,d),u.child;case 9:return E=u.type._context,m=u.pendingProps.children,Sl(u),E=Jn(E),m=m(E),u.flags|=1,Xn(s,u,m,d),u.child;case 14:return AI(s,u,u.type,u.pendingProps,d);case 15:return CI(s,u,u.type,u.pendingProps,d);case 19:return LI(s,u,d);case 31:return ZH(s,u,d);case 22:return II(s,u,d,u.pendingProps);case 24:return Sl(u),m=Jn(pn),s===null?(E=Y0(),E===null&&(E=kt,w=G0(),E.pooledCache=w,w.refCount++,w!==null&&(E.pooledCacheLanes|=d),E=w),u.memoizedState={parent:m,cache:E},J0(u),ss(u,pn,E)):((s.lanes&d)!==0&&(X0(s,u),Yf(u,null,null,d),Kf()),E=s.memoizedState,w=u.memoizedState,E.parent!==m?(E={parent:m,cache:m},u.memoizedState=E,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=E),ss(u,pn,m)):(m=w.cache,ss(u,pn,m),m!==E.cache&&$0(u,[pn],d,!0))),Xn(s,u,u.pendingProps.children,d),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function Zo(s){s.flags|=4}function M_(s,u,d,m,E){if((u=(s.mode&32)!==0)&&(u=!1),u){if(s.flags|=16777216,(E&335544128)===E)if(s.stateNode.complete)s.flags|=8192;else if(cR())s.flags|=8192;else throw Cl=Jp,W0}else s.flags&=-16777217}function VI(s,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!ZR(u))if(cR())s.flags|=8192;else throw Cl=Jp,W0}function hm(s,u){u!==null&&(s.flags|=4),s.flags&16384&&(u=s.tag!==22?bf():536870912,s.lanes|=u,Qu|=u)}function ed(s,u){if(!st)switch(s.tailMode){case"hidden":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function Ft(s){var u=s.alternate!==null&&s.alternate.child===s.child,d=0,m=0;if(u)for(var E=s.child;E!==null;)d|=E.lanes|E.childLanes,m|=E.subtreeFlags&65011712,m|=E.flags&65011712,E.return=s,E=E.sibling;else for(E=s.child;E!==null;)d|=E.lanes|E.childLanes,m|=E.subtreeFlags,m|=E.flags,E.return=s,E=E.sibling;return s.subtreeFlags|=m,s.childLanes=d,u}function t9(s,u,d){var m=u.pendingProps;switch(z0(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(u),null;case 1:return Ft(u),null;case 3:return d=u.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),Wo(pn),fe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Fu(u)?Zo(u):s===null||s.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,q0())),Ft(u),null;case 26:var E=u.type,w=u.memoizedState;return s===null?(Zo(u),w!==null?(Ft(u),VI(u,w)):(Ft(u),M_(u,E,null,m,d))):w?w!==s.memoizedState?(Zo(u),Ft(u),VI(u,w)):(Ft(u),u.flags&=-16777217):(s=s.memoizedProps,s!==m&&Zo(u),Ft(u),M_(u,E,s,m,d)),null;case 27:if(Fe(u),d=Ie.current,E=u.type,s!==null&&u.stateNode!=null)s.memoizedProps!==m&&Zo(u);else{if(!m){if(u.stateNode===null)throw Error(r(166));return Ft(u),null}s=Ee.current,Fu(u)?yC(u):(s=$R(E,m,d),u.stateNode=s,Zo(u))}return Ft(u),null;case 5:if(Fe(u),E=u.type,s!==null&&u.stateNode!=null)s.memoizedProps!==m&&Zo(u);else{if(!m){if(u.stateNode===null)throw Error(r(166));return Ft(u),null}if(w=Ee.current,Fu(u))yC(u);else{var I=Im(Ie.current);switch(w){case 1:w=I.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:w=I.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":w=I.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":w=I.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":w=I.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof m.is=="string"?I.createElement("select",{is:m.is}):I.createElement("select"),m.multiple?w.multiple=!0:m.size&&(w.size=m.size);break;default:w=typeof m.is=="string"?I.createElement(E,{is:m.is}):I.createElement(E)}}w[Qt]=u,w[Yn]=m;e:for(I=u.child;I!==null;){if(I.tag===5||I.tag===6)w.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===u)break e;for(;I.sibling===null;){if(I.return===null||I.return===u)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}u.stateNode=w;e:switch(Qn(w,E,m),E){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Zo(u)}}return Ft(u),M_(u,u.type,s===null?null:s.memoizedProps,u.pendingProps,d),null;case 6:if(s&&u.stateNode!=null)s.memoizedProps!==m&&Zo(u);else{if(typeof m!="string"&&u.stateNode===null)throw Error(r(166));if(s=Ie.current,Fu(u)){if(s=u.stateNode,d=u.memoizedProps,m=null,E=Wn,E!==null)switch(E.tag){case 27:case 5:m=E.memoizedProps}s[Qt]=u,s=!!(s.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||DR(s.nodeValue,d)),s||as(u,!0)}else s=Im(s).createTextNode(m),s[Qt]=u,u.stateNode=s}return Ft(u),null;case 31:if(d=u.memoizedState,s===null||s.memoizedState!==null){if(m=Fu(u),d!==null){if(s===null){if(!m)throw Error(r(318));if(s=u.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Qt]=u}else wl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Ft(u),s=!1}else d=q0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return u.flags&256?(Jr(u),u):(Jr(u),null);if((u.flags&128)!==0)throw Error(r(558))}return Ft(u),null;case 13:if(m=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(E=Fu(u),m!==null&&m.dehydrated!==null){if(s===null){if(!E)throw Error(r(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[Qt]=u}else wl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Ft(u),E=!1}else E=q0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=E),E=!0;if(!E)return u.flags&256?(Jr(u),u):(Jr(u),null)}return Jr(u),(u.flags&128)!==0?(u.lanes=d,u):(d=m!==null,s=s!==null&&s.memoizedState!==null,d&&(m=u.child,E=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(E=m.alternate.memoizedState.cachePool.pool),w=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==E&&(m.flags|=2048)),d!==s&&d&&(u.child.flags|=8192),hm(u,u.updateQueue),Ft(u),null);case 4:return fe(),s===null&&eb(u.stateNode.containerInfo),Ft(u),null;case 10:return Wo(u.type),Ft(u),null;case 19:if(oe(cn),m=u.memoizedState,m===null)return Ft(u),null;if(E=(u.flags&128)!==0,w=m.rendering,w===null)if(E)ed(m,!1);else{if(tn!==0||s!==null&&(s.flags&128)!==0)for(s=u.child;s!==null;){if(w=em(s),w!==null){for(u.flags|=128,ed(m,!1),s=w.updateQueue,u.updateQueue=s,hm(u,s),u.subtreeFlags=0,s=d,d=u.child;d!==null;)dC(d,s),d=d.sibling;return j(cn,cn.current&1|2),st&&Ko(u,m.treeForkCount),u.child}s=s.sibling}m.tail!==null&&An()>vm&&(u.flags|=128,E=!0,ed(m,!1),u.lanes=4194304)}else{if(!E)if(s=em(w),s!==null){if(u.flags|=128,E=!0,s=s.updateQueue,u.updateQueue=s,hm(u,s),ed(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!st)return Ft(u),null}else 2*An()-m.renderingStartTime>vm&&d!==536870912&&(u.flags|=128,E=!0,ed(m,!1),u.lanes=4194304);m.isBackwards?(w.sibling=u.child,u.child=w):(s=m.last,s!==null?s.sibling=w:u.child=w,m.last=w)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=An(),s.sibling=null,d=cn.current,j(cn,E?d&1|2:d&1),st&&Ko(u,m.treeForkCount),s):(Ft(u),null);case 22:case 23:return Jr(u),t_(),m=u.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(u.flags|=8192):m&&(u.flags|=8192),m?(d&536870912)!==0&&(u.flags&128)===0&&(Ft(u),u.subtreeFlags&6&&(u.flags|=8192)):Ft(u),d=u.updateQueue,d!==null&&hm(u,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==d&&(u.flags|=2048),s!==null&&oe(xl),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),u.memoizedState.cache!==d&&(u.flags|=2048),Wo(pn),Ft(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function n9(s,u){switch(z0(u),u.tag){case 1:return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return Wo(pn),fe(),s=u.flags,(s&65536)!==0&&(s&128)===0?(u.flags=s&-65537|128,u):null;case 26:case 27:case 5:return Fe(u),null;case 31:if(u.memoizedState!==null){if(Jr(u),u.alternate===null)throw Error(r(340));wl()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 13:if(Jr(u),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(r(340));wl()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return oe(cn),null;case 4:return fe(),null;case 10:return Wo(u.type),null;case 22:case 23:return Jr(u),t_(),s!==null&&oe(xl),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 24:return Wo(pn),null;case 25:return null;default:return null}}function FI(s,u){switch(z0(u),u.tag){case 3:Wo(pn),fe();break;case 26:case 27:case 5:Fe(u);break;case 4:fe();break;case 31:u.memoizedState!==null&&Jr(u);break;case 13:Jr(u);break;case 19:oe(cn);break;case 10:Wo(u.type);break;case 22:case 23:Jr(u),t_(),s!==null&&oe(xl);break;case 24:Wo(pn)}}function td(s,u){try{var d=u.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var E=m.next;d=E;do{if((d.tag&s)===s){m=void 0;var w=d.create,I=d.inst;m=w(),I.destroy=m}d=d.next}while(d!==E)}}catch(q){Tt(u,u.return,q)}}function hs(s,u,d){try{var m=u.updateQueue,E=m!==null?m.lastEffect:null;if(E!==null){var w=E.next;m=w;do{if((m.tag&s)===s){var I=m.inst,q=I.destroy;if(q!==void 0){I.destroy=void 0,E=u;var Y=d,te=q;try{te()}catch(de){Tt(E,Y,de)}}}m=m.next}while(m!==w)}}catch(de){Tt(u,u.return,de)}}function zI(s){var u=s.updateQueue;if(u!==null){var d=s.stateNode;try{PC(u,d)}catch(m){Tt(s,s.return,m)}}}function BI(s,u,d){d.props=Pl(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(m){Tt(s,u,m)}}function nd(s,u){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof d=="function"?s.refCleanup=d(m):d.current=m}}catch(E){Tt(s,u,E)}}function po(s,u){var d=s.ref,m=s.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(E){Tt(s,u,E)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(E){Tt(s,u,E)}else d.current=null}function qI(s){var u=s.type,d=s.memoizedProps,m=s.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(E){Tt(s,s.return,E)}}function N_(s,u,d){try{var m=s.stateNode;S9(m,s.type,d,u),m[Yn]=u}catch(E){Tt(s,s.return,E)}}function HI(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&bs(s.type)||s.tag===4}function D_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||HI(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&bs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function O_(s,u,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,u?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,u):(u=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,u.appendChild(s),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=Un));else if(m!==4&&(m===27&&bs(s.type)&&(d=s.stateNode,u=null),s=s.child,s!==null))for(O_(s,u,d),s=s.sibling;s!==null;)O_(s,u,d),s=s.sibling}function pm(s,u,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,u?d.insertBefore(s,u):d.appendChild(s);else if(m!==4&&(m===27&&bs(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(pm(s,u,d),s=s.sibling;s!==null;)pm(s,u,d),s=s.sibling}function jI(s){var u=s.stateNode,d=s.memoizedProps;try{for(var m=s.type,E=u.attributes;E.length;)u.removeAttributeNode(E[0]);Qn(u,m,d),u[Qt]=s,u[Yn]=d}catch(w){Tt(s,s.return,w)}}var ea=!1,yn=!1,L_=!1,$I=typeof WeakSet=="function"?WeakSet:Set,zn=null;function r9(s,u){if(s=s.containerInfo,rb=Om,s=rC(s),R0(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var E=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var I=0,q=-1,Y=-1,te=0,de=0,pe=s,ne=null;t:for(;;){for(var se;pe!==d||E!==0&&pe.nodeType!==3||(q=I+E),pe!==w||m!==0&&pe.nodeType!==3||(Y=I+m),pe.nodeType===3&&(I+=pe.nodeValue.length),(se=pe.firstChild)!==null;)ne=pe,pe=se;for(;;){if(pe===s)break t;if(ne===d&&++te===E&&(q=I),ne===w&&++de===m&&(Y=I),(se=pe.nextSibling)!==null)break;pe=ne,ne=pe.parentNode}pe=se}d=q===-1||Y===-1?null:{start:q,end:Y}}else d=null}d=d||{start:0,end:0}}else d=null;for(ib={focusedElem:s,selectionRange:d},Om=!1,zn=u;zn!==null;)if(u=zn,s=u.child,(u.subtreeFlags&1028)!==0&&s!==null)s.return=u,zn=s;else for(;zn!==null;){switch(u=zn,w=u.alternate,s=u.flags,u.tag){case 0:if((s&4)!==0&&(s=u.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)E=s[d],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,d=u,E=w.memoizedProps,w=w.memoizedState,m=d.stateNode;try{var Ae=Pl(d.type,E);s=m.getSnapshotBeforeUpdate(Ae,w),m.__reactInternalSnapshotBeforeUpdate=s}catch(Le){Tt(d,d.return,Le)}}break;case 3:if((s&1024)!==0){if(s=u.stateNode.containerInfo,d=s.nodeType,d===9)sb(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":sb(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=u.sibling,s!==null){s.return=u.return,zn=s;break}zn=u.return}}function GI(s,u,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:na(s,d),m&4&&td(5,d);break;case 1:if(na(s,d),m&4)if(s=d.stateNode,u===null)try{s.componentDidMount()}catch(I){Tt(d,d.return,I)}else{var E=Pl(d.type,u.memoizedProps);u=u.memoizedState;try{s.componentDidUpdate(E,u,s.__reactInternalSnapshotBeforeUpdate)}catch(I){Tt(d,d.return,I)}}m&64&&zI(d),m&512&&nd(d,d.return);break;case 3:if(na(s,d),m&64&&(s=d.updateQueue,s!==null)){if(u=null,d.child!==null)switch(d.child.tag){case 27:case 5:u=d.child.stateNode;break;case 1:u=d.child.stateNode}try{PC(s,u)}catch(I){Tt(d,d.return,I)}}break;case 27:u===null&&m&4&&jI(d);case 26:case 5:na(s,d),u===null&&m&4&&qI(d),m&512&&nd(d,d.return);break;case 12:na(s,d);break;case 31:na(s,d),m&4&&WI(s,d);break;case 13:na(s,d),m&4&&JI(s,d),m&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=d9.bind(null,d),M9(s,d))));break;case 22:if(m=d.memoizedState!==null||ea,!m){u=u!==null&&u.memoizedState!==null||yn,E=ea;var w=yn;ea=m,(yn=u)&&!w?ra(s,d,(d.subtreeFlags&8772)!==0):na(s,d),ea=E,yn=w}break;case 30:break;default:na(s,d)}}function KI(s){var u=s.alternate;u!==null&&(s.alternate=null,KI(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&ll(u)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ht=null,Dr=!1;function ta(s,u,d){for(d=d.child;d!==null;)YI(s,u,d),d=d.sibling}function YI(s,u,d){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(On,d)}catch{}switch(d.tag){case 26:yn||po(d,u),ta(s,u,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:yn||po(d,u);var m=Ht,E=Dr;bs(d.type)&&(Ht=d.stateNode,Dr=!1),ta(s,u,d),fd(d.stateNode),Ht=m,Dr=E;break;case 5:yn||po(d,u);case 6:if(m=Ht,E=Dr,Ht=null,ta(s,u,d),Ht=m,Dr=E,Ht!==null)if(Dr)try{(Ht.nodeType===9?Ht.body:Ht.nodeName==="HTML"?Ht.ownerDocument.body:Ht).removeChild(d.stateNode)}catch(w){Tt(d,u,w)}else try{Ht.removeChild(d.stateNode)}catch(w){Tt(d,u,w)}break;case 18:Ht!==null&&(Dr?(s=Ht,zR(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),ac(s)):zR(Ht,d.stateNode));break;case 4:m=Ht,E=Dr,Ht=d.stateNode.containerInfo,Dr=!0,ta(s,u,d),Ht=m,Dr=E;break;case 0:case 11:case 14:case 15:hs(2,d,u),yn||hs(4,d,u),ta(s,u,d);break;case 1:yn||(po(d,u),m=d.stateNode,typeof m.componentWillUnmount=="function"&&BI(d,u,m)),ta(s,u,d);break;case 21:ta(s,u,d);break;case 22:yn=(m=yn)||d.memoizedState!==null,ta(s,u,d),yn=m;break;default:ta(s,u,d)}}function WI(s,u){if(u.memoizedState===null&&(s=u.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{ac(s)}catch(d){Tt(u,u.return,d)}}}function JI(s,u){if(u.memoizedState===null&&(s=u.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ac(s)}catch(d){Tt(u,u.return,d)}}function i9(s){switch(s.tag){case 31:case 13:case 19:var u=s.stateNode;return u===null&&(u=s.stateNode=new $I),u;case 22:return s=s.stateNode,u=s._retryCache,u===null&&(u=s._retryCache=new $I),u;default:throw Error(r(435,s.tag))}}function mm(s,u){var d=i9(s);u.forEach(function(m){if(!d.has(m)){d.add(m);var E=h9.bind(null,s,m);m.then(E,E)}})}function Or(s,u){var d=u.deletions;if(d!==null)for(var m=0;m<d.length;m++){var E=d[m],w=s,I=u,q=I;e:for(;q!==null;){switch(q.tag){case 27:if(bs(q.type)){Ht=q.stateNode,Dr=!1;break e}break;case 5:Ht=q.stateNode,Dr=!1;break e;case 3:case 4:Ht=q.stateNode.containerInfo,Dr=!0;break e}q=q.return}if(Ht===null)throw Error(r(160));YI(w,I,E),Ht=null,Dr=!1,w=E.alternate,w!==null&&(w.return=null),E.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)XI(u,s),u=u.sibling}var Fi=null;function XI(s,u){var d=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Or(u,s),Lr(s),m&4&&(hs(3,s,s.return),td(3,s),hs(5,s,s.return));break;case 1:Or(u,s),Lr(s),m&512&&(yn||d===null||po(d,d.return)),m&64&&ea&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var E=Fi;if(Or(u,s),Lr(s),m&512&&(yn||d===null||po(d,d.return)),m&4){var w=d!==null?d.memoizedState:null;if(m=s.memoizedState,d===null)if(m===null)if(s.stateNode===null){e:{m=s.type,d=s.memoizedProps,E=E.ownerDocument||E;t:switch(m){case"title":w=E.getElementsByTagName("title")[0],(!w||w[Vo]||w[Qt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=E.createElement(m),E.head.insertBefore(w,E.querySelector("head > title"))),Qn(w,m,d),w[Qt]=s,un(w),m=w;break e;case"link":var I=XR("link","href",E).get(m+(d.href||""));if(I){for(var q=0;q<I.length;q++)if(w=I[q],w.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&w.getAttribute("rel")===(d.rel==null?null:d.rel)&&w.getAttribute("title")===(d.title==null?null:d.title)&&w.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){I.splice(q,1);break t}}w=E.createElement(m),Qn(w,m,d),E.head.appendChild(w);break;case"meta":if(I=XR("meta","content",E).get(m+(d.content||""))){for(q=0;q<I.length;q++)if(w=I[q],w.getAttribute("content")===(d.content==null?null:""+d.content)&&w.getAttribute("name")===(d.name==null?null:d.name)&&w.getAttribute("property")===(d.property==null?null:d.property)&&w.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&w.getAttribute("charset")===(d.charSet==null?null:d.charSet)){I.splice(q,1);break t}}w=E.createElement(m),Qn(w,m,d),E.head.appendChild(w);break;default:throw Error(r(468,m))}w[Qt]=s,un(w),m=w}s.stateNode=m}else QR(E,s.type,s.stateNode);else s.stateNode=JR(E,m,s.memoizedProps);else w!==m?(w===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):w.count--,m===null?QR(E,s.type,s.stateNode):JR(E,m,s.memoizedProps)):m===null&&s.stateNode!==null&&N_(s,s.memoizedProps,d.memoizedProps)}break;case 27:Or(u,s),Lr(s),m&512&&(yn||d===null||po(d,d.return)),d!==null&&m&4&&N_(s,s.memoizedProps,d.memoizedProps);break;case 5:if(Or(u,s),Lr(s),m&512&&(yn||d===null||po(d,d.return)),s.flags&32){E=s.stateNode;try{di(E,"")}catch(Ae){Tt(s,s.return,Ae)}}m&4&&s.stateNode!=null&&(E=s.memoizedProps,N_(s,E,d!==null?d.memoizedProps:E)),m&1024&&(L_=!0);break;case 6:if(Or(u,s),Lr(s),m&4){if(s.stateNode===null)throw Error(r(162));m=s.memoizedProps,d=s.stateNode;try{d.nodeValue=m}catch(Ae){Tt(s,s.return,Ae)}}break;case 3:if(km=null,E=Fi,Fi=Rm(u.containerInfo),Or(u,s),Fi=E,Lr(s),m&4&&d!==null&&d.memoizedState.isDehydrated)try{ac(u.containerInfo)}catch(Ae){Tt(s,s.return,Ae)}L_&&(L_=!1,QI(s));break;case 4:m=Fi,Fi=Rm(s.stateNode.containerInfo),Or(u,s),Lr(s),Fi=m;break;case 12:Or(u,s),Lr(s);break;case 31:Or(u,s),Lr(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,mm(s,m)));break;case 13:Or(u,s),Lr(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(ym=An()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,mm(s,m)));break;case 22:E=s.memoizedState!==null;var Y=d!==null&&d.memoizedState!==null,te=ea,de=yn;if(ea=te||E,yn=de||Y,Or(u,s),yn=de,ea=te,Lr(s),m&8192)e:for(u=s.stateNode,u._visibility=E?u._visibility&-2:u._visibility|1,E&&(d===null||Y||ea||yn||kl(s)),d=null,u=s;;){if(u.tag===5||u.tag===26){if(d===null){Y=d=u;try{if(w=Y.stateNode,E)I=w.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{q=Y.stateNode;var pe=Y.memoizedProps.style,ne=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;q.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Ae){Tt(Y,Y.return,Ae)}}}else if(u.tag===6){if(d===null){Y=u;try{Y.stateNode.nodeValue=E?"":Y.memoizedProps}catch(Ae){Tt(Y,Y.return,Ae)}}}else if(u.tag===18){if(d===null){Y=u;try{var se=Y.stateNode;E?BR(se,!0):BR(Y.stateNode,!1)}catch(Ae){Tt(Y,Y.return,Ae)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===s)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break e;for(;u.sibling===null;){if(u.return===null||u.return===s)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}m&4&&(m=s.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,mm(s,d))));break;case 19:Or(u,s),Lr(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,mm(s,m)));break;case 30:break;case 21:break;default:Or(u,s),Lr(s)}}function Lr(s){var u=s.flags;if(u&2){try{for(var d,m=s.return;m!==null;){if(HI(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var E=d.stateNode,w=D_(s);pm(s,w,E);break;case 5:var I=d.stateNode;d.flags&32&&(di(I,""),d.flags&=-33);var q=D_(s);pm(s,q,I);break;case 3:case 4:var Y=d.stateNode.containerInfo,te=D_(s);O_(s,te,Y);break;default:throw Error(r(161))}}catch(de){Tt(s,s.return,de)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function QI(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var u=s;QI(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),s=s.sibling}}function na(s,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)GI(s,u.alternate,u),u=u.sibling}function kl(s){for(s=s.child;s!==null;){var u=s;switch(u.tag){case 0:case 11:case 14:case 15:hs(4,u,u.return),kl(u);break;case 1:po(u,u.return);var d=u.stateNode;typeof d.componentWillUnmount=="function"&&BI(u,u.return,d),kl(u);break;case 27:fd(u.stateNode);case 26:case 5:po(u,u.return),kl(u);break;case 22:u.memoizedState===null&&kl(u);break;case 30:kl(u);break;default:kl(u)}s=s.sibling}}function ra(s,u,d){for(d=d&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var m=u.alternate,E=s,w=u,I=w.flags;switch(w.tag){case 0:case 11:case 15:ra(E,w,d),td(4,w);break;case 1:if(ra(E,w,d),m=w,E=m.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(te){Tt(m,m.return,te)}if(m=w,E=m.updateQueue,E!==null){var q=m.stateNode;try{var Y=E.shared.hiddenCallbacks;if(Y!==null)for(E.shared.hiddenCallbacks=null,E=0;E<Y.length;E++)RC(Y[E],q)}catch(te){Tt(m,m.return,te)}}d&&I&64&&zI(w),nd(w,w.return);break;case 27:jI(w);case 26:case 5:ra(E,w,d),d&&m===null&&I&4&&qI(w),nd(w,w.return);break;case 12:ra(E,w,d);break;case 31:ra(E,w,d),d&&I&4&&WI(E,w);break;case 13:ra(E,w,d),d&&I&4&&JI(E,w);break;case 22:w.memoizedState===null&&ra(E,w,d),nd(w,w.return);break;case 30:break;default:ra(E,w,d)}u=u.sibling}}function U_(s,u){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(s=u.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&qf(d))}function V_(s,u){s=null,u.alternate!==null&&(s=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==s&&(u.refCount++,s!=null&&qf(s))}function zi(s,u,d,m){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)ZI(s,u,d,m),u=u.sibling}function ZI(s,u,d,m){var E=u.flags;switch(u.tag){case 0:case 11:case 15:zi(s,u,d,m),E&2048&&td(9,u);break;case 1:zi(s,u,d,m);break;case 3:zi(s,u,d,m),E&2048&&(s=null,u.alternate!==null&&(s=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==s&&(u.refCount++,s!=null&&qf(s)));break;case 12:if(E&2048){zi(s,u,d,m),s=u.stateNode;try{var w=u.memoizedProps,I=w.id,q=w.onPostCommit;typeof q=="function"&&q(I,u.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Y){Tt(u,u.return,Y)}}else zi(s,u,d,m);break;case 31:zi(s,u,d,m);break;case 13:zi(s,u,d,m);break;case 23:break;case 22:w=u.stateNode,I=u.alternate,u.memoizedState!==null?w._visibility&2?zi(s,u,d,m):rd(s,u):w._visibility&2?zi(s,u,d,m):(w._visibility|=2,Wu(s,u,d,m,(u.subtreeFlags&10256)!==0||!1)),E&2048&&U_(I,u);break;case 24:zi(s,u,d,m),E&2048&&V_(u.alternate,u);break;default:zi(s,u,d,m)}}function Wu(s,u,d,m,E){for(E=E&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var w=s,I=u,q=d,Y=m,te=I.flags;switch(I.tag){case 0:case 11:case 15:Wu(w,I,q,Y,E),td(8,I);break;case 23:break;case 22:var de=I.stateNode;I.memoizedState!==null?de._visibility&2?Wu(w,I,q,Y,E):rd(w,I):(de._visibility|=2,Wu(w,I,q,Y,E)),E&&te&2048&&U_(I.alternate,I);break;case 24:Wu(w,I,q,Y,E),E&&te&2048&&V_(I.alternate,I);break;default:Wu(w,I,q,Y,E)}u=u.sibling}}function rd(s,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var d=s,m=u,E=m.flags;switch(m.tag){case 22:rd(d,m),E&2048&&U_(m.alternate,m);break;case 24:rd(d,m),E&2048&&V_(m.alternate,m);break;default:rd(d,m)}u=u.sibling}}var id=8192;function Ju(s,u,d){if(s.subtreeFlags&id)for(s=s.child;s!==null;)eR(s,u,d),s=s.sibling}function eR(s,u,d){switch(s.tag){case 26:Ju(s,u,d),s.flags&id&&s.memoizedState!==null&&j9(d,Fi,s.memoizedState,s.memoizedProps);break;case 5:Ju(s,u,d);break;case 3:case 4:var m=Fi;Fi=Rm(s.stateNode.containerInfo),Ju(s,u,d),Fi=m;break;case 22:s.memoizedState===null&&(m=s.alternate,m!==null&&m.memoizedState!==null?(m=id,id=16777216,Ju(s,u,d),id=m):Ju(s,u,d));break;default:Ju(s,u,d)}}function tR(s){var u=s.alternate;if(u!==null&&(s=u.child,s!==null)){u.child=null;do u=s.sibling,s.sibling=null,s=u;while(s!==null)}}function od(s){var u=s.deletions;if((s.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];zn=m,rR(m,s)}tR(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)nR(s),s=s.sibling}function nR(s){switch(s.tag){case 0:case 11:case 15:od(s),s.flags&2048&&hs(9,s,s.return);break;case 3:od(s);break;case 12:od(s);break;case 22:var u=s.stateNode;s.memoizedState!==null&&u._visibility&2&&(s.return===null||s.return.tag!==13)?(u._visibility&=-3,gm(s)):od(s);break;default:od(s)}}function gm(s){var u=s.deletions;if((s.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];zn=m,rR(m,s)}tR(s)}for(s=s.child;s!==null;){switch(u=s,u.tag){case 0:case 11:case 15:hs(8,u,u.return),gm(u);break;case 22:d=u.stateNode,d._visibility&2&&(d._visibility&=-3,gm(u));break;default:gm(u)}s=s.sibling}}function rR(s,u){for(;zn!==null;){var d=zn;switch(d.tag){case 0:case 11:case 15:hs(8,d,u);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:qf(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,zn=m;else e:for(d=s;zn!==null;){m=zn;var E=m.sibling,w=m.return;if(KI(m),m===d){zn=null;break e}if(E!==null){E.return=w,zn=E;break e}zn=w}}}var o9={getCacheForType:function(s){var u=Jn(pn),d=u.data.get(s);return d===void 0&&(d=s(),u.data.set(s,d)),d},cacheSignal:function(){return Jn(pn).controller.signal}},a9=typeof WeakMap=="function"?WeakMap:Map,vt=0,kt=null,et=null,it=0,wt=0,Xr=null,ps=!1,Xu=!1,F_=!1,ia=0,tn=0,ms=0,Ml=0,z_=0,Qr=0,Qu=0,ad=null,Ur=null,B_=!1,ym=0,iR=0,vm=1/0,_m=null,gs=null,Cn=0,ys=null,Zu=null,oa=0,q_=0,H_=null,oR=null,sd=0,j_=null;function Zr(){return(vt&2)!==0&&it!==0?it&-it:J.T!==null?J_():Uo()}function aR(){if(Qr===0)if((it&536870912)===0||st){var s=ro;ro<<=1,(ro&3932160)===0&&(ro=262144),Qr=s}else Qr=536870912;return s=Wr.current,s!==null&&(s.flags|=32),Qr}function Vr(s,u,d){(s===kt&&(wt===2||wt===9)||s.cancelPendingCommit!==null)&&(ec(s,0),vs(s,it,Qr,!1)),Ba(s,d),((vt&2)===0||s!==kt)&&(s===kt&&((vt&2)===0&&(Ml|=d),tn===4&&vs(s,it,Qr,!1)),mo(s))}function sR(s,u,d){if((vt&6)!==0)throw Error(r(327));var m=!d&&(u&127)===0&&(u&s.expiredLanes)===0||za(s,u),E=m?u9(s,u):G_(s,u,!0),w=m;do{if(E===0){Xu&&!m&&vs(s,u,0,!1);break}else{if(d=s.current.alternate,w&&!s9(d)){E=G_(s,u,!1),w=!1;continue}if(E===2){if(w=u,s.errorRecoveryDisabledLanes&w)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){u=I;e:{var q=s;E=ad;var Y=q.current.memoizedState.isDehydrated;if(Y&&(ec(q,I).flags|=256),I=G_(q,I,!1),I!==2){if(F_&&!Y){q.errorRecoveryDisabledLanes|=w,Ml|=w,E=4;break e}w=Ur,Ur=E,w!==null&&(Ur===null?Ur=w:Ur.push.apply(Ur,w))}E=I}if(w=!1,E!==2)continue}}if(E===1){ec(s,0),vs(s,u,0,!0);break}e:{switch(m=s,w=E,w){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:vs(m,u,Qr,!ps);break e;case 2:Ur=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(E=ym+300-An(),10<E)){if(vs(m,u,Qr,!ps),ci(m,0,!0)!==0)break e;oa=u,m.timeoutHandle=VR(lR.bind(null,m,d,Ur,_m,B_,u,Qr,Ml,Qu,ps,w,"Throttled",-0,0),E);break e}lR(m,d,Ur,_m,B_,u,Qr,Ml,Qu,ps,w,null,-0,0)}}break}while(!0);mo(s)}function lR(s,u,d,m,E,w,I,q,Y,te,de,pe,ne,se){if(s.timeoutHandle=-1,pe=u.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},eR(u,w,pe);var Ae=(w&62914560)===w?ym-An():(w&4194048)===w?iR-An():0;if(Ae=$9(pe,Ae),Ae!==null){oa=w,s.cancelPendingCommit=Ae(gR.bind(null,s,u,w,d,m,E,I,q,Y,de,pe,null,ne,se)),vs(s,w,I,!te);return}}gR(s,u,w,d,m,E,I,q,Y)}function s9(s){for(var u=s;;){var d=u.tag;if((d===0||d===11||d===15)&&u.flags&16384&&(d=u.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var E=d[m],w=E.getSnapshot;E=E.value;try{if(!Kr(w(),E))return!1}catch{return!1}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function vs(s,u,d,m){u&=~z_,u&=~Ml,s.suspendedLanes|=u,s.pingedLanes&=~u,m&&(s.warmLanes|=u),m=s.expirationTimes;for(var E=u;0<E;){var w=31-Et(E),I=1<<w;m[w]=-1,E&=~I}d!==0&&Ef(s,d,u)}function bm(){return(vt&6)===0?(ld(0),!1):!0}function $_(){if(et!==null){if(wt===0)var s=et.return;else s=et,Yo=Tl=null,s_(s),ju=null,jf=0,s=et;for(;s!==null;)FI(s.alternate,s),s=s.return;et=null}}function ec(s,u){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,C9(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),oa=0,$_(),kt=s,et=d=Go(s.current,null),it=u,wt=0,Xr=null,ps=!1,Xu=za(s,u),F_=!1,Qu=Qr=z_=Ml=ms=tn=0,Ur=ad=null,B_=!1,(u&8)!==0&&(u|=u&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=u;0<m;){var E=31-Et(m),w=1<<E;u|=s[E],m&=~w}return ia=u,Bp(),d}function uR(s,u){Ke=null,J.H=Qf,u===Hu||u===Wp?(u=xC(),wt=3):u===W0?(u=xC(),wt=4):wt=u===T_?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Xr=u,et===null&&(tn=1,um(s,pi(u,s.current)))}function cR(){var s=Wr.current;return s===null?!0:(it&4194048)===it?vi===null:(it&62914560)===it||(it&536870912)!==0?s===vi:!1}function fR(){var s=J.H;return J.H=Qf,s===null?Qf:s}function dR(){var s=J.A;return J.A=o9,s}function Em(){tn=4,ps||(it&4194048)!==it&&Wr.current!==null||(Xu=!0),(ms&134217727)===0&&(Ml&134217727)===0||kt===null||vs(kt,it,Qr,!1)}function G_(s,u,d){var m=vt;vt|=2;var E=fR(),w=dR();(kt!==s||it!==u)&&(_m=null,ec(s,u)),u=!1;var I=tn;e:do try{if(wt!==0&&et!==null){var q=et,Y=Xr;switch(wt){case 8:$_(),I=6;break e;case 3:case 2:case 9:case 6:Wr.current===null&&(u=!0);var te=wt;if(wt=0,Xr=null,tc(s,q,Y,te),d&&Xu){I=0;break e}break;default:te=wt,wt=0,Xr=null,tc(s,q,Y,te)}}l9(),I=tn;break}catch(de){uR(s,de)}while(!0);return u&&s.shellSuspendCounter++,Yo=Tl=null,vt=m,J.H=E,J.A=w,et===null&&(kt=null,it=0,Bp()),I}function l9(){for(;et!==null;)hR(et)}function u9(s,u){var d=vt;vt|=2;var m=fR(),E=dR();kt!==s||it!==u?(_m=null,vm=An()+500,ec(s,u)):Xu=za(s,u);e:do try{if(wt!==0&&et!==null){u=et;var w=Xr;t:switch(wt){case 1:wt=0,Xr=null,tc(s,u,w,1);break;case 2:case 9:if(TC(w)){wt=0,Xr=null,pR(u);break}u=function(){wt!==2&&wt!==9||kt!==s||(wt=7),mo(s)},w.then(u,u);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:TC(w)?(wt=0,Xr=null,pR(u)):(wt=0,Xr=null,tc(s,u,w,7));break;case 5:var I=null;switch(et.tag){case 26:I=et.memoizedState;case 5:case 27:var q=et;if(I?ZR(I):q.stateNode.complete){wt=0,Xr=null;var Y=q.sibling;if(Y!==null)et=Y;else{var te=q.return;te!==null?(et=te,wm(te)):et=null}break t}}wt=0,Xr=null,tc(s,u,w,5);break;case 6:wt=0,Xr=null,tc(s,u,w,6);break;case 8:$_(),tn=6;break e;default:throw Error(r(462))}}c9();break}catch(de){uR(s,de)}while(!0);return Yo=Tl=null,J.H=m,J.A=E,vt=d,et!==null?0:(kt=null,it=0,Bp(),tn)}function c9(){for(;et!==null&&!_f();)hR(et)}function hR(s){var u=UI(s.alternate,s,ia);s.memoizedProps=s.pendingProps,u===null?wm(s):et=u}function pR(s){var u=s,d=u.alternate;switch(u.tag){case 15:case 0:u=kI(d,u,u.pendingProps,u.type,void 0,it);break;case 11:u=kI(d,u,u.pendingProps,u.type.render,u.ref,it);break;case 5:s_(u);default:FI(d,u),u=et=dC(u,ia),u=UI(d,u,ia)}s.memoizedProps=s.pendingProps,u===null?wm(s):et=u}function tc(s,u,d,m){Yo=Tl=null,s_(u),ju=null,jf=0;var E=u.return;try{if(QH(s,E,u,d,it)){tn=1,um(s,pi(d,s.current)),et=null;return}}catch(w){if(E!==null)throw et=E,w;tn=1,um(s,pi(d,s.current)),et=null;return}u.flags&32768?(st||m===1?s=!0:Xu||(it&536870912)!==0?s=!1:(ps=s=!0,(m===2||m===9||m===3||m===6)&&(m=Wr.current,m!==null&&m.tag===13&&(m.flags|=16384))),mR(u,s)):wm(u)}function wm(s){var u=s;do{if((u.flags&32768)!==0){mR(u,ps);return}s=u.return;var d=t9(u.alternate,u,ia);if(d!==null){et=d;return}if(u=u.sibling,u!==null){et=u;return}et=u=s}while(u!==null);tn===0&&(tn=5)}function mR(s,u){do{var d=n9(s.alternate,s);if(d!==null){d.flags&=32767,et=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!u&&(s=s.sibling,s!==null)){et=s;return}et=s=d}while(s!==null);tn=6,et=null}function gR(s,u,d,m,E,w,I,q,Y){s.cancelPendingCommit=null;do Tm();while(Cn!==0);if((vt&6)!==0)throw Error(r(327));if(u!==null){if(u===s.current)throw Error(r(177));if(w=u.lanes|u.childLanes,w|=D0,Kn(s,d,w,I,q,Y),s===kt&&(et=kt=null,it=0),Zu=u,ys=s,oa=d,q_=w,H_=E,oR=m,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,p9(De,function(){return ER(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||m){m=J.T,J.T=null,E=le.p,le.p=2,I=vt,vt|=4;try{r9(s,u,d)}finally{vt=I,le.p=E,J.T=m}}Cn=1,yR(),vR(),_R()}}function yR(){if(Cn===1){Cn=0;var s=ys,u=Zu,d=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||d){d=J.T,J.T=null;var m=le.p;le.p=2;var E=vt;vt|=4;try{XI(u,s);var w=ib,I=rC(s.containerInfo),q=w.focusedElem,Y=w.selectionRange;if(I!==q&&q&&q.ownerDocument&&nC(q.ownerDocument.documentElement,q)){if(Y!==null&&R0(q)){var te=Y.start,de=Y.end;if(de===void 0&&(de=te),"selectionStart"in q)q.selectionStart=te,q.selectionEnd=Math.min(de,q.value.length);else{var pe=q.ownerDocument||document,ne=pe&&pe.defaultView||window;if(ne.getSelection){var se=ne.getSelection(),Ae=q.textContent.length,Le=Math.min(Y.start,Ae),Rt=Y.end===void 0?Le:Math.min(Y.end,Ae);!se.extend&&Le>Rt&&(I=Rt,Rt=Le,Le=I);var Q=tC(q,Le),X=tC(q,Rt);if(Q&&X&&(se.rangeCount!==1||se.anchorNode!==Q.node||se.anchorOffset!==Q.offset||se.focusNode!==X.node||se.focusOffset!==X.offset)){var ee=pe.createRange();ee.setStart(Q.node,Q.offset),se.removeAllRanges(),Le>Rt?(se.addRange(ee),se.extend(X.node,X.offset)):(ee.setEnd(X.node,X.offset),se.addRange(ee))}}}}for(pe=[],se=q;se=se.parentNode;)se.nodeType===1&&pe.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<pe.length;q++){var he=pe[q];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Om=!!rb,ib=rb=null}finally{vt=E,le.p=m,J.T=d}}s.current=u,Cn=2}}function vR(){if(Cn===2){Cn=0;var s=ys,u=Zu,d=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||d){d=J.T,J.T=null;var m=le.p;le.p=2;var E=vt;vt|=4;try{GI(s,u.alternate,u)}finally{vt=E,le.p=m,J.T=d}}Cn=3}}function _R(){if(Cn===4||Cn===3){Cn=0,al();var s=ys,u=Zu,d=oa,m=oR;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Cn=5:(Cn=0,Zu=ys=null,bR(s,s.pendingLanes));var E=s.pendingLanes;if(E===0&&(gs=null),Tf(d),u=u.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(On,u,void 0,(u.current.flags&128)===128)}catch{}if(m!==null){u=J.T,E=le.p,le.p=2,J.T=null;try{for(var w=s.onRecoverableError,I=0;I<m.length;I++){var q=m[I];w(q.value,{componentStack:q.stack})}}finally{J.T=u,le.p=E}}(oa&3)!==0&&Tm(),mo(s),E=s.pendingLanes,(d&261930)!==0&&(E&42)!==0?s===j_?sd++:(sd=0,j_=s):sd=0,ld(0)}}function bR(s,u){(s.pooledCacheLanes&=u)===0&&(u=s.pooledCache,u!=null&&(s.pooledCache=null,qf(u)))}function Tm(){return yR(),vR(),_R(),ER()}function ER(){if(Cn!==5)return!1;var s=ys,u=q_;q_=0;var d=Tf(oa),m=J.T,E=le.p;try{le.p=32>d?32:d,J.T=null,d=H_,H_=null;var w=ys,I=oa;if(Cn=0,Zu=ys=null,oa=0,(vt&6)!==0)throw Error(r(331));var q=vt;if(vt|=4,nR(w.current),ZI(w,w.current,I,d),vt=q,ld(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(On,w)}catch{}return!0}finally{le.p=E,J.T=m,bR(s,u)}}function wR(s,u,d){u=pi(d,u),u=w_(s.stateNode,u,2),s=cs(s,u,2),s!==null&&(Ba(s,2),mo(s))}function Tt(s,u,d){if(s.tag===3)wR(s,s,d);else for(;u!==null;){if(u.tag===3){wR(u,s,d);break}else if(u.tag===1){var m=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(gs===null||!gs.has(m))){s=pi(d,s),d=TI(2),m=cs(u,d,2),m!==null&&(SI(d,m,u,s),Ba(m,2),mo(m));break}}u=u.return}}function K_(s,u,d){var m=s.pingCache;if(m===null){m=s.pingCache=new a9;var E=new Set;m.set(u,E)}else E=m.get(u),E===void 0&&(E=new Set,m.set(u,E));E.has(d)||(F_=!0,E.add(d),s=f9.bind(null,s,u,d),u.then(s,s))}function f9(s,u,d){var m=s.pingCache;m!==null&&m.delete(u),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,kt===s&&(it&d)===d&&(tn===4||tn===3&&(it&62914560)===it&&300>An()-ym?(vt&2)===0&&ec(s,0):z_|=d,Qu===it&&(Qu=0)),mo(s)}function TR(s,u){u===0&&(u=bf()),s=bl(s,u),s!==null&&(Ba(s,u),mo(s))}function d9(s){var u=s.memoizedState,d=0;u!==null&&(d=u.retryLane),TR(s,d)}function h9(s,u){var d=0;switch(s.tag){case 31:case 13:var m=s.stateNode,E=s.memoizedState;E!==null&&(d=E.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(u),TR(s,d)}function p9(s,u){return to(s,u)}var Sm=null,nc=null,Y_=!1,xm=!1,W_=!1,_s=0;function mo(s){s!==nc&&s.next===null&&(nc===null?Sm=nc=s:nc=nc.next=s),xm=!0,Y_||(Y_=!0,g9())}function ld(s,u){if(!W_&&xm){W_=!0;do for(var d=!1,m=Sm;m!==null;){if(s!==0){var E=m.pendingLanes;if(E===0)var w=0;else{var I=m.suspendedLanes,q=m.pingedLanes;w=(1<<31-Et(42|s)+1)-1,w&=E&~(I&~q),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(d=!0,CR(m,w))}else w=it,w=ci(m,m===kt?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||za(m,w)||(d=!0,CR(m,w));m=m.next}while(d);W_=!1}}function m9(){SR()}function SR(){xm=Y_=!1;var s=0;_s!==0&&A9()&&(s=_s);for(var u=An(),d=null,m=Sm;m!==null;){var E=m.next,w=xR(m,u);w===0?(m.next=null,d===null?Sm=E:d.next=E,E===null&&(nc=d)):(d=m,(s!==0||(w&3)!==0)&&(xm=!0)),m=E}Cn!==0&&Cn!==5||ld(s),_s!==0&&(_s=0)}function xR(s,u){for(var d=s.suspendedLanes,m=s.pingedLanes,E=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var I=31-Et(w),q=1<<I,Y=E[I];Y===-1?((q&d)===0||(q&m)!==0)&&(E[I]=wu(q,u)):Y<=u&&(s.expiredLanes|=q),w&=~q}if(u=kt,d=it,d=ci(s,s===u?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,d===0||s===u&&(wt===2||wt===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&Va(m),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||za(s,d)){if(u=d&-d,u===s.callbackPriority)return u;switch(m!==null&&Va(m),Tf(d)){case 2:case 8:d=ye;break;case 32:d=De;break;case 268435456:d=ft;break;default:d=De}return m=AR.bind(null,s),d=to(d,m),s.callbackPriority=u,s.callbackNode=d,u}return m!==null&&m!==null&&Va(m),s.callbackPriority=2,s.callbackNode=null,2}function AR(s,u){if(Cn!==0&&Cn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(Tm()&&s.callbackNode!==d)return null;var m=it;return m=ci(s,s===kt?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(sR(s,m,u),xR(s,An()),s.callbackNode!=null&&s.callbackNode===d?AR.bind(null,s):null)}function CR(s,u){if(Tm())return null;sR(s,u,!0)}function g9(){I9(function(){(vt&6)!==0?to(ce,m9):SR()})}function J_(){if(_s===0){var s=Bu;s===0&&(s=sl,sl<<=1,(sl&261888)===0&&(sl=256)),_s=s}return _s}function IR(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:lo(""+s)}function RR(s,u){var d=u.ownerDocument.createElement("input");return d.name=u.name,d.value=u.value,s.id&&d.setAttribute("form",s.id),u.parentNode.insertBefore(d,u),s=new FormData(s),d.parentNode.removeChild(d),s}function y9(s,u,d,m,E){if(u==="submit"&&d&&d.stateNode===E){var w=IR((E[Yn]||null).action),I=m.submitter;I&&(u=(u=I[Yn]||null)?IR(u.formAction):I.getAttribute("formAction"),u!==null&&(w=u,I=null));var q=new hl("action","action",null,m,E);s.push({event:q,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(_s!==0){var Y=I?RR(E,I):new FormData(E);g_(d,{pending:!0,data:Y,method:E.method,action:w},null,Y)}}else typeof w=="function"&&(q.preventDefault(),Y=I?RR(E,I):new FormData(E),g_(d,{pending:!0,data:Y,method:E.method,action:w},w,Y))},currentTarget:E}]})}}for(var X_=0;X_<N0.length;X_++){var Q_=N0[X_],v9=Q_.toLowerCase(),_9=Q_[0].toUpperCase()+Q_.slice(1);Vi(v9,"on"+_9)}Vi(aC,"onAnimationEnd"),Vi(sC,"onAnimationIteration"),Vi(lC,"onAnimationStart"),Vi("dblclick","onDoubleClick"),Vi("focusin","onFocus"),Vi("focusout","onBlur"),Vi(OH,"onTransitionRun"),Vi(LH,"onTransitionStart"),Vi(UH,"onTransitionCancel"),Vi(uC,"onTransitionEnd"),so("onMouseEnter",["mouseout","mouseover"]),so("onMouseLeave",["mouseout","mouseover"]),so("onPointerEnter",["pointerout","pointerover"]),so("onPointerLeave",["pointerout","pointerover"]),vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vr("onBeforeInput",["compositionend","keypress","textInput","paste"]),vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ud="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ud));function PR(s,u){u=(u&4)!==0;for(var d=0;d<s.length;d++){var m=s[d],E=m.event;m=m.listeners;e:{var w=void 0;if(u)for(var I=m.length-1;0<=I;I--){var q=m[I],Y=q.instance,te=q.currentTarget;if(q=q.listener,Y!==w&&E.isPropagationStopped())break e;w=q,E.currentTarget=te;try{w(E)}catch(de){zp(de)}E.currentTarget=null,w=Y}else for(I=0;I<m.length;I++){if(q=m[I],Y=q.instance,te=q.currentTarget,q=q.listener,Y!==w&&E.isPropagationStopped())break e;w=q,E.currentTarget=te;try{w(E)}catch(de){zp(de)}E.currentTarget=null,w=Y}}}}function tt(s,u){var d=u[ja];d===void 0&&(d=u[ja]=new Set);var m=s+"__bubble";d.has(m)||(kR(u,s,2,!1),d.add(m))}function Z_(s,u,d){var m=0;u&&(m|=4),kR(d,s,m,u)}var Am="_reactListening"+Math.random().toString(36).slice(2);function eb(s){if(!s[Am]){s[Am]=!0,Tu.forEach(function(d){d!=="selectionchange"&&(b9.has(d)||Z_(d,!1,s),Z_(d,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[Am]||(u[Am]=!0,Z_("selectionchange",!1,u))}}function kR(s,u,d,m){switch(aP(u)){case 2:var E=Y9;break;case 8:E=W9;break;default:E=mb}d=E.bind(null,u,d,s),E=void 0,!kf||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(E=!0),m?E!==void 0?s.addEventListener(u,d,{capture:!0,passive:E}):s.addEventListener(u,d,!0):E!==void 0?s.addEventListener(u,d,{passive:E}):s.addEventListener(u,d,!1)}function tb(s,u,d,m,E){var w=m;if((u&1)===0&&(u&2)===0&&m!==null)e:for(;;){if(m===null)return;var I=m.tag;if(I===3||I===4){var q=m.stateNode.containerInfo;if(q===E)break;if(I===4)for(I=m.return;I!==null;){var Y=I.tag;if((Y===3||Y===4)&&I.stateNode.containerInfo===E)return;I=I.return}for(;q!==null;){if(I=Fo(q),I===null)return;if(Y=I.tag,Y===5||Y===6||Y===26||Y===27){m=w=I;continue e}q=q.parentNode}}m=m.return}Sp(function(){var te=w,de=Iu(d),pe=[];e:{var ne=cC.get(s);if(ne!==void 0){var se=hl,Ae=s;switch(s){case"keypress":if(dl(d)===0)break e;case"keydown":case"keyup":se=Np;break;case"focusin":Ae="focus",se=es;break;case"focusout":Ae="blur",se=es;break;case"beforeblur":case"afterblur":se=es;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Ap;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Cp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Op;break;case aC:case sC:case lC:se=ku;break;case uC:se=Mu;break;case"scroll":case"scrollend":se=xp;break;case"wheel":se=Up;break;case"copy":case"cut":case"paste":se=Rp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Lf;break;case"toggle":case"beforetoggle":se=ns}var Le=(u&4)!==0,Rt=!Le&&(s==="scroll"||s==="scrollend"),Q=Le?ne!==null?ne+"Capture":null:ne;Le=[];for(var X=te,ee;X!==null;){var he=X;if(ee=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ee===null||Q===null||(he=Mr(X,Q),he!=null&&Le.push(cd(X,he,ee))),Rt)break;X=X.return}0<Le.length&&(ne=new se(ne,Ae,null,d,de),pe.push({event:ne,listeners:Le}))}}if((u&7)===0){e:{if(ne=s==="mouseover"||s==="pointerover",se=s==="mouseout"||s==="pointerout",ne&&d!==Cu&&(Ae=d.relatedTarget||d.fromElement)&&(Fo(Ae)||Ae[oo]))break e;if((se||ne)&&(ne=de.window===de?de:(ne=de.ownerDocument)?ne.defaultView||ne.parentWindow:window,se?(Ae=d.relatedTarget||d.toElement,se=te,Ae=Ae?Fo(Ae):null,Ae!==null&&(Rt=o(Ae),Le=Ae.tag,Ae!==Rt||Le!==5&&Le!==27&&Le!==6)&&(Ae=null)):(se=null,Ae=te),se!==Ae)){if(Le=Ap,he="onMouseLeave",Q="onMouseEnter",X="mouse",(s==="pointerout"||s==="pointerover")&&(Le=Lf,he="onPointerLeave",Q="onPointerEnter",X="pointer"),Rt=se==null?ne:ul(se),ee=Ae==null?ne:ul(Ae),ne=new Le(he,X+"leave",se,d,de),ne.target=Rt,ne.relatedTarget=ee,he=null,Fo(de)===te&&(Le=new Le(Q,X+"enter",Ae,d,de),Le.target=ee,Le.relatedTarget=Rt,he=Le),Rt=he,se&&Ae)t:{for(Le=E9,Q=se,X=Ae,ee=0,he=Q;he;he=Le(he))ee++;he=0;for(var Me=X;Me;Me=Le(Me))he++;for(;0<ee-he;)Q=Le(Q),ee--;for(;0<he-ee;)X=Le(X),he--;for(;ee--;){if(Q===X||X!==null&&Q===X.alternate){Le=Q;break t}Q=Le(Q),X=Le(X)}Le=null}else Le=null;se!==null&&MR(pe,ne,se,Le,!1),Ae!==null&&Rt!==null&&MR(pe,Rt,Ae,Le,!0)}}e:{if(ne=te?ul(te):window,se=ne.nodeName&&ne.nodeName.toLowerCase(),se==="select"||se==="input"&&ne.type==="file")var ht=W1;else if(Nr(ne))if(J1)ht=MH;else{ht=PH;var Pe=RH}else se=ne.nodeName,!se||se.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&Rf(te.elementType)&&(ht=W1):ht=kH;if(ht&&(ht=ht(s,te))){yl(pe,ht,d,de);break e}Pe&&Pe(s,ne,te),s==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&Au(ne,"number",ne.value)}switch(Pe=te?ul(te):window,s){case"focusin":(Nr(Pe)||Pe.contentEditable==="true")&&(Nu=Pe,P0=te,Ff=null);break;case"focusout":Ff=P0=Nu=null;break;case"mousedown":k0=!0;break;case"contextmenu":case"mouseup":case"dragend":k0=!1,iC(pe,d,de);break;case"selectionchange":if(DH)break;case"keydown":case"keyup":iC(pe,d,de)}var Ye;if(A)e:{switch(s){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Ze?bt(s,d)&&(ot="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(ot="onCompositionStart");ot&&(Z&&d.locale!=="ko"&&(Ze||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Ze&&(Ye=Ja()):(Gr=de,Ru="value"in Gr?Gr.value:Gr.textContent,Ze=!0)),Pe=Cm(te,ot),0<Pe.length&&(ot=new Nf(ot,s,null,d,de),pe.push({event:ot,listeners:Pe}),Ye?ot.data=Ye:(Ye=hn(d),Ye!==null&&(ot.data=Ye)))),(Ye=H?Vn(s,d):Fn(s,d))&&(ot=Cm(te,"onBeforeInput"),0<ot.length&&(Pe=new Nf("onBeforeInput","beforeinput",null,d,de),pe.push({event:Pe,listeners:ot}),Pe.data=Ye)),y9(pe,s,te,d,de)}PR(pe,u)})}function cd(s,u,d){return{instance:s,listener:u,currentTarget:d}}function Cm(s,u){for(var d=u+"Capture",m=[];s!==null;){var E=s,w=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||w===null||(E=Mr(s,d),E!=null&&m.unshift(cd(s,E,w)),E=Mr(s,u),E!=null&&m.push(cd(s,E,w))),s.tag===3)return m;s=s.return}return[]}function E9(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function MR(s,u,d,m,E){for(var w=u._reactName,I=[];d!==null&&d!==m;){var q=d,Y=q.alternate,te=q.stateNode;if(q=q.tag,Y!==null&&Y===m)break;q!==5&&q!==26&&q!==27||te===null||(Y=te,E?(te=Mr(d,w),te!=null&&I.unshift(cd(d,te,Y))):E||(te=Mr(d,w),te!=null&&I.push(cd(d,te,Y)))),d=d.return}I.length!==0&&s.push({event:u,listeners:I})}var w9=/\r\n?/g,T9=/\u0000|\uFFFD/g;function NR(s){return(typeof s=="string"?s:""+s).replace(w9,`
`).replace(T9,"")}function DR(s,u){return u=NR(u),NR(s)===u}function It(s,u,d,m,E,w){switch(d){case"children":typeof m=="string"?u==="body"||u==="textarea"&&m===""||di(s,m):(typeof m=="number"||typeof m=="bigint")&&u!=="body"&&di(s,""+m);break;case"className":Ka(s,"class",m);break;case"tabIndex":Ka(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Ka(s,d,m);break;case"style":wp(s,m,w);break;case"data":if(u!=="object"){Ka(s,"data",m);break}case"src":case"href":if(m===""&&(u!=="a"||d!=="href")){s.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(d);break}m=lo(""+m),s.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(d==="formAction"?(u!=="input"&&It(s,u,"name",E.name,E,null),It(s,u,"formEncType",E.formEncType,E,null),It(s,u,"formMethod",E.formMethod,E,null),It(s,u,"formTarget",E.formTarget,E,null)):(It(s,u,"encType",E.encType,E,null),It(s,u,"method",E.method,E,null),It(s,u,"target",E.target,E,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(d);break}m=lo(""+m),s.setAttribute(d,m);break;case"onClick":m!=null&&(s.onclick=Un);break;case"onScroll":m!=null&&tt("scroll",s);break;case"onScrollEnd":m!=null&&tt("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(E.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}d=lo(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(d,""+m):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":m===!0?s.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(d,m):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(d,m):s.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(d):s.setAttribute(d,m);break;case"popover":tt("beforetoggle",s),tt("toggle",s),Ga(s,"popover",m);break;case"xlinkActuate":fi(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":fi(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":fi(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":fi(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":fi(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":fi(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":fi(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":fi(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":fi(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Ga(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=S0.get(d)||d,Ga(s,d,m))}}function nb(s,u,d,m,E,w){switch(d){case"style":wp(s,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(E.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"children":typeof m=="string"?di(s,m):(typeof m=="number"||typeof m=="bigint")&&di(s,""+m);break;case"onScroll":m!=null&&tt("scroll",s);break;case"onScrollEnd":m!=null&&tt("scrollend",s);break;case"onClick":m!=null&&(s.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$a.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(E=d.endsWith("Capture"),u=d.slice(2,E?d.length-7:void 0),w=s[Yn]||null,w=w!=null?w[d]:null,typeof w=="function"&&s.removeEventListener(u,w,E),typeof m=="function")){typeof w!="function"&&w!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(u,m,E);break e}d in s?s[d]=m:m===!0?s.setAttribute(d,""):Ga(s,d,m)}}}function Qn(s,u,d){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",s),tt("load",s);var m=!1,E=!1,w;for(w in d)if(d.hasOwnProperty(w)){var I=d[w];if(I!=null)switch(w){case"src":m=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:It(s,u,w,I,d,null)}}E&&It(s,u,"srcSet",d.srcSet,d,null),m&&It(s,u,"src",d.src,d,null);return;case"input":tt("invalid",s);var q=w=I=E=null,Y=null,te=null;for(m in d)if(d.hasOwnProperty(m)){var de=d[m];if(de!=null)switch(m){case"name":E=de;break;case"type":I=de;break;case"checked":Y=de;break;case"defaultChecked":te=de;break;case"value":w=de;break;case"defaultValue":q=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,u));break;default:It(s,u,m,de,d,null)}}cl(s,w,q,Y,te,I,E,!1);return;case"select":tt("invalid",s),m=I=w=null;for(E in d)if(d.hasOwnProperty(E)&&(q=d[E],q!=null))switch(E){case"value":w=q;break;case"defaultValue":I=q;break;case"multiple":m=q;default:It(s,u,E,q,d,null)}u=w,d=I,s.multiple=!!m,u!=null?dt(s,!!m,u,!1):d!=null&&dt(s,!!m,d,!0);return;case"textarea":tt("invalid",s),w=E=m=null;for(I in d)if(d.hasOwnProperty(I)&&(q=d[I],q!=null))switch(I){case"value":m=q;break;case"defaultValue":E=q;break;case"children":w=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:It(s,u,I,q,d,null)}Wa(s,m,E,w);return;case"option":for(Y in d)if(d.hasOwnProperty(Y)&&(m=d[Y],m!=null))switch(Y){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:It(s,u,Y,m,d,null)}return;case"dialog":tt("beforetoggle",s),tt("toggle",s),tt("cancel",s),tt("close",s);break;case"iframe":case"object":tt("load",s);break;case"video":case"audio":for(m=0;m<ud.length;m++)tt(ud[m],s);break;case"image":tt("error",s),tt("load",s);break;case"details":tt("toggle",s);break;case"embed":case"source":case"link":tt("error",s),tt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in d)if(d.hasOwnProperty(te)&&(m=d[te],m!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:It(s,u,te,m,d,null)}return;default:if(Rf(u)){for(de in d)d.hasOwnProperty(de)&&(m=d[de],m!==void 0&&nb(s,u,de,m,d,void 0));return}}for(q in d)d.hasOwnProperty(q)&&(m=d[q],m!=null&&It(s,u,q,m,d,null))}function S9(s,u,d,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,w=null,I=null,q=null,Y=null,te=null,de=null;for(se in d){var pe=d[se];if(d.hasOwnProperty(se)&&pe!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":Y=pe;default:m.hasOwnProperty(se)||It(s,u,se,null,m,pe)}}for(var ne in m){var se=m[ne];if(pe=d[ne],m.hasOwnProperty(ne)&&(se!=null||pe!=null))switch(ne){case"type":w=se;break;case"name":E=se;break;case"checked":te=se;break;case"defaultChecked":de=se;break;case"value":I=se;break;case"defaultValue":q=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,u));break;default:se!==pe&&It(s,u,ne,se,m,pe)}}Ya(s,I,q,Y,te,de,w,E);return;case"select":se=I=q=ne=null;for(w in d)if(Y=d[w],d.hasOwnProperty(w)&&Y!=null)switch(w){case"value":break;case"multiple":se=Y;default:m.hasOwnProperty(w)||It(s,u,w,null,m,Y)}for(E in m)if(w=m[E],Y=d[E],m.hasOwnProperty(E)&&(w!=null||Y!=null))switch(E){case"value":ne=w;break;case"defaultValue":q=w;break;case"multiple":I=w;default:w!==Y&&It(s,u,E,w,m,Y)}u=q,d=I,m=se,ne!=null?dt(s,!!d,ne,!1):!!m!=!!d&&(u!=null?dt(s,!!d,u,!0):dt(s,!!d,d?[]:"",!1));return;case"textarea":se=ne=null;for(q in d)if(E=d[q],d.hasOwnProperty(q)&&E!=null&&!m.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:It(s,u,q,null,m,E)}for(I in m)if(E=m[I],w=d[I],m.hasOwnProperty(I)&&(E!=null||w!=null))switch(I){case"value":ne=E;break;case"defaultValue":se=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==w&&It(s,u,I,E,m,w)}fl(s,ne,se);return;case"option":for(var Ae in d)if(ne=d[Ae],d.hasOwnProperty(Ae)&&ne!=null&&!m.hasOwnProperty(Ae))switch(Ae){case"selected":s.selected=!1;break;default:It(s,u,Ae,null,m,ne)}for(Y in m)if(ne=m[Y],se=d[Y],m.hasOwnProperty(Y)&&ne!==se&&(ne!=null||se!=null))switch(Y){case"selected":s.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:It(s,u,Y,ne,m,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in d)ne=d[Le],d.hasOwnProperty(Le)&&ne!=null&&!m.hasOwnProperty(Le)&&It(s,u,Le,null,m,ne);for(te in m)if(ne=m[te],se=d[te],m.hasOwnProperty(te)&&ne!==se&&(ne!=null||se!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,u));break;default:It(s,u,te,ne,m,se)}return;default:if(Rf(u)){for(var Rt in d)ne=d[Rt],d.hasOwnProperty(Rt)&&ne!==void 0&&!m.hasOwnProperty(Rt)&&nb(s,u,Rt,void 0,m,ne);for(de in m)ne=m[de],se=d[de],!m.hasOwnProperty(de)||ne===se||ne===void 0&&se===void 0||nb(s,u,de,ne,m,se);return}}for(var Q in d)ne=d[Q],d.hasOwnProperty(Q)&&ne!=null&&!m.hasOwnProperty(Q)&&It(s,u,Q,null,m,ne);for(pe in m)ne=m[pe],se=d[pe],!m.hasOwnProperty(pe)||ne===se||ne==null&&se==null||It(s,u,pe,ne,m,se)}function OR(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function x9(){if(typeof performance.getEntriesByType=="function"){for(var s=0,u=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var E=d[m],w=E.transferSize,I=E.initiatorType,q=E.duration;if(w&&q&&OR(I)){for(I=0,q=E.responseEnd,m+=1;m<d.length;m++){var Y=d[m],te=Y.startTime;if(te>q)break;var de=Y.transferSize,pe=Y.initiatorType;de&&OR(pe)&&(Y=Y.responseEnd,I+=de*(Y<q?1:(q-te)/(Y-te)))}if(--m,u+=8*(w+I)/(E.duration/1e3),s++,10<s)break}}if(0<s)return u/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var rb=null,ib=null;function Im(s){return s.nodeType===9?s:s.ownerDocument}function LR(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function UR(s,u){if(s===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&u==="foreignObject"?0:s}function ob(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var ab=null;function A9(){var s=window.event;return s&&s.type==="popstate"?s===ab?!1:(ab=s,!0):(ab=null,!1)}var VR=typeof setTimeout=="function"?setTimeout:void 0,C9=typeof clearTimeout=="function"?clearTimeout:void 0,FR=typeof Promise=="function"?Promise:void 0,I9=typeof queueMicrotask=="function"?queueMicrotask:typeof FR<"u"?function(s){return FR.resolve(null).then(s).catch(R9)}:VR;function R9(s){setTimeout(function(){throw s})}function bs(s){return s==="head"}function zR(s,u){var d=u,m=0;do{var E=d.nextSibling;if(s.removeChild(d),E&&E.nodeType===8)if(d=E.data,d==="/$"||d==="/&"){if(m===0){s.removeChild(E),ac(u);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")fd(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,fd(d);for(var w=d.firstChild;w;){var I=w.nextSibling,q=w.nodeName;w[Vo]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&w.rel.toLowerCase()==="stylesheet"||d.removeChild(w),w=I}}else d==="body"&&fd(s.ownerDocument.body);d=E}while(d);ac(u)}function BR(s,u){var d=s;s=0;do{var m=d.nextSibling;if(d.nodeType===1?u?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(u?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=m}while(d)}function sb(s){var u=s.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var d=u;switch(u=u.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":sb(d),ll(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function P9(s,u,d,m){for(;s.nodeType===1;){var E=d;if(s.nodeName.toLowerCase()!==u.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[Vo])switch(u){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==E.rel||s.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||s.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||s.getAttribute("title")!==(E.title==null?null:E.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(E.src==null?null:E.src)||s.getAttribute("type")!==(E.type==null?null:E.type)||s.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(u==="input"&&s.type==="hidden"){var w=E.name==null?null:""+E.name;if(E.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=_i(s.nextSibling),s===null)break}return null}function k9(s,u,d){if(u==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=_i(s.nextSibling),s===null))return null;return s}function qR(s,u){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=_i(s.nextSibling),s===null))return null;return s}function lb(s){return s.data==="$?"||s.data==="$~"}function ub(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function M9(s,u){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=u;else if(s.data!=="$?"||d.readyState!=="loading")u();else{var m=function(){u(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function _i(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return s}var cb=null;function HR(s){s=s.nextSibling;for(var u=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(u===0)return _i(s.nextSibling);u--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||u++}s=s.nextSibling}return null}function jR(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(u===0)return s;u--}else d!=="/$"&&d!=="/&"||u++}s=s.previousSibling}return null}function $R(s,u,d){switch(u=Im(d),s){case"html":if(s=u.documentElement,!s)throw Error(r(452));return s;case"head":if(s=u.head,!s)throw Error(r(453));return s;case"body":if(s=u.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function fd(s){for(var u=s.attributes;u.length;)s.removeAttributeNode(u[0]);ll(s)}var bi=new Map,GR=new Set;function Rm(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var aa=le.d;le.d={f:N9,r:D9,D:O9,C:L9,L:U9,m:V9,X:z9,S:F9,M:B9};function N9(){var s=aa.f(),u=bm();return s||u}function D9(s){var u=zo(s);u!==null&&u.tag===5&&u.type==="form"?uI(u):aa.r(s)}var rc=typeof document>"u"?null:document;function KR(s,u,d){var m=rc;if(m&&typeof u=="string"&&u){var E=Zt(u);E='link[rel="'+s+'"][href="'+E+'"]',typeof d=="string"&&(E+='[crossorigin="'+d+'"]'),GR.has(E)||(GR.add(E),s={rel:s,crossOrigin:d,href:u},m.querySelector(E)===null&&(u=m.createElement("link"),Qn(u,"link",s),un(u),m.head.appendChild(u)))}}function O9(s){aa.D(s),KR("dns-prefetch",s,null)}function L9(s,u){aa.C(s,u),KR("preconnect",s,u)}function U9(s,u,d){aa.L(s,u,d);var m=rc;if(m&&s&&u){var E='link[rel="preload"][as="'+Zt(u)+'"]';u==="image"&&d&&d.imageSrcSet?(E+='[imagesrcset="'+Zt(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(E+='[imagesizes="'+Zt(d.imageSizes)+'"]')):E+='[href="'+Zt(s)+'"]';var w=E;switch(u){case"style":w=ic(s);break;case"script":w=oc(s)}bi.has(w)||(s=p({rel:"preload",href:u==="image"&&d&&d.imageSrcSet?void 0:s,as:u},d),bi.set(w,s),m.querySelector(E)!==null||u==="style"&&m.querySelector(dd(w))||u==="script"&&m.querySelector(hd(w))||(u=m.createElement("link"),Qn(u,"link",s),un(u),m.head.appendChild(u)))}}function V9(s,u){aa.m(s,u);var d=rc;if(d&&s){var m=u&&typeof u.as=="string"?u.as:"script",E='link[rel="modulepreload"][as="'+Zt(m)+'"][href="'+Zt(s)+'"]',w=E;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=oc(s)}if(!bi.has(w)&&(s=p({rel:"modulepreload",href:s},u),bi.set(w,s),d.querySelector(E)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(hd(w)))return}m=d.createElement("link"),Qn(m,"link",s),un(m),d.head.appendChild(m)}}}function F9(s,u,d){aa.S(s,u,d);var m=rc;if(m&&s){var E=Li(m).hoistableStyles,w=ic(s);u=u||"default";var I=E.get(w);if(!I){var q={loading:0,preload:null};if(I=m.querySelector(dd(w)))q.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":u},d),(d=bi.get(w))&&fb(s,d);var Y=I=m.createElement("link");un(Y),Qn(Y,"link",s),Y._p=new Promise(function(te,de){Y.onload=te,Y.onerror=de}),Y.addEventListener("load",function(){q.loading|=1}),Y.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Pm(I,u,m)}I={type:"stylesheet",instance:I,count:1,state:q},E.set(w,I)}}}function z9(s,u){aa.X(s,u);var d=rc;if(d&&s){var m=Li(d).hoistableScripts,E=oc(s),w=m.get(E);w||(w=d.querySelector(hd(E)),w||(s=p({src:s,async:!0},u),(u=bi.get(E))&&db(s,u),w=d.createElement("script"),un(w),Qn(w,"link",s),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(E,w))}}function B9(s,u){aa.M(s,u);var d=rc;if(d&&s){var m=Li(d).hoistableScripts,E=oc(s),w=m.get(E);w||(w=d.querySelector(hd(E)),w||(s=p({src:s,async:!0,type:"module"},u),(u=bi.get(E))&&db(s,u),w=d.createElement("script"),un(w),Qn(w,"link",s),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(E,w))}}function YR(s,u,d,m){var E=(E=Ie.current)?Rm(E):null;if(!E)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(u=ic(d.href),d=Li(E).hoistableStyles,m=d.get(u),m||(m={type:"style",instance:null,count:0,state:null},d.set(u,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=ic(d.href);var w=Li(E).hoistableStyles,I=w.get(s);if(I||(E=E.ownerDocument||E,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,I),(w=E.querySelector(dd(s)))&&!w._p&&(I.instance=w,I.state.loading=5),bi.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},bi.set(s,d),w||q9(E,s,d,I.state))),u&&m===null)throw Error(r(528,""));return I}if(u&&m!==null)throw Error(r(529,""));return null;case"script":return u=d.async,d=d.src,typeof d=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=oc(d),d=Li(E).hoistableScripts,m=d.get(u),m||(m={type:"script",instance:null,count:0,state:null},d.set(u,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function ic(s){return'href="'+Zt(s)+'"'}function dd(s){return'link[rel="stylesheet"]['+s+"]"}function WR(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function q9(s,u,d,m){s.querySelector('link[rel="preload"][as="style"]['+u+"]")?m.loading=1:(u=s.createElement("link"),m.preload=u,u.addEventListener("load",function(){return m.loading|=1}),u.addEventListener("error",function(){return m.loading|=2}),Qn(u,"link",d),un(u),s.head.appendChild(u))}function oc(s){return'[src="'+Zt(s)+'"]'}function hd(s){return"script[async]"+s}function JR(s,u,d){if(u.count++,u.instance===null)switch(u.type){case"style":var m=s.querySelector('style[data-href~="'+Zt(d.href)+'"]');if(m)return u.instance=m,un(m),m;var E=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),un(m),Qn(m,"style",E),Pm(m,d.precedence,s),u.instance=m;case"stylesheet":E=ic(d.href);var w=s.querySelector(dd(E));if(w)return u.state.loading|=4,u.instance=w,un(w),w;m=WR(d),(E=bi.get(E))&&fb(m,E),w=(s.ownerDocument||s).createElement("link"),un(w);var I=w;return I._p=new Promise(function(q,Y){I.onload=q,I.onerror=Y}),Qn(w,"link",m),u.state.loading|=4,Pm(w,d.precedence,s),u.instance=w;case"script":return w=oc(d.src),(E=s.querySelector(hd(w)))?(u.instance=E,un(E),E):(m=d,(E=bi.get(w))&&(m=p({},d),db(m,E)),s=s.ownerDocument||s,E=s.createElement("script"),un(E),Qn(E,"link",m),s.head.appendChild(E),u.instance=E);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(m=u.instance,u.state.loading|=4,Pm(m,d.precedence,s));return u.instance}function Pm(s,u,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=m.length?m[m.length-1]:null,w=E,I=0;I<m.length;I++){var q=m[I];if(q.dataset.precedence===u)w=q;else if(w!==E)break}w?w.parentNode.insertBefore(s,w.nextSibling):(u=d.nodeType===9?d.head:d,u.insertBefore(s,u.firstChild))}function fb(s,u){s.crossOrigin==null&&(s.crossOrigin=u.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=u.referrerPolicy),s.title==null&&(s.title=u.title)}function db(s,u){s.crossOrigin==null&&(s.crossOrigin=u.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=u.referrerPolicy),s.integrity==null&&(s.integrity=u.integrity)}var km=null;function XR(s,u,d){if(km===null){var m=new Map,E=km=new Map;E.set(d,m)}else E=km,m=E.get(d),m||(m=new Map,E.set(d,m));if(m.has(s))return m;for(m.set(s,null),d=d.getElementsByTagName(s),E=0;E<d.length;E++){var w=d[E];if(!(w[Vo]||w[Qt]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var I=w.getAttribute(u)||"";I=s+I;var q=m.get(I);q?q.push(w):m.set(I,[w])}}return m}function QR(s,u,d){s=s.ownerDocument||s,s.head.insertBefore(d,u==="title"?s.querySelector("head > title"):null)}function H9(s,u,d){if(d===1||u.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return s=u.disabled,typeof u.precedence=="string"&&s==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function ZR(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function j9(s,u,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var E=ic(m.href),w=u.querySelector(dd(E));if(w){u=w._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(s.count++,s=Mm.bind(s),u.then(s,s)),d.state.loading|=4,d.instance=w,un(w);return}w=u.ownerDocument||u,m=WR(m),(E=bi.get(E))&&fb(m,E),w=w.createElement("link"),un(w);var I=w;I._p=new Promise(function(q,Y){I.onload=q,I.onerror=Y}),Qn(w,"link",m),d.instance=w}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,u),(u=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=Mm.bind(s),u.addEventListener("load",d),u.addEventListener("error",d))}}var hb=0;function $9(s,u){return s.stylesheets&&s.count===0&&Dm(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var m=setTimeout(function(){if(s.stylesheets&&Dm(s,s.stylesheets),s.unsuspend){var w=s.unsuspend;s.unsuspend=null,w()}},6e4+u);0<s.imgBytes&&hb===0&&(hb=62500*x9());var E=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Dm(s,s.stylesheets),s.unsuspend)){var w=s.unsuspend;s.unsuspend=null,w()}},(s.imgBytes>hb?50:800)+u);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(m),clearTimeout(E)}}:null}function Mm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Nm=null;function Dm(s,u){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Nm=new Map,u.forEach(G9,s),Nm=null,Mm.call(s))}function G9(s,u){if(!(u.state.loading&4)){var d=Nm.get(s);if(d)var m=d.get(null);else{d=new Map,Nm.set(s,d);for(var E=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<E.length;w++){var I=E[w];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(d.set(I.dataset.precedence,I),m=I)}m&&d.set(null,m)}E=u.instance,I=E.getAttribute("data-precedence"),w=d.get(I)||m,w===m&&d.set(null,E),d.set(I,E),this.count++,m=Mm.bind(this),E.addEventListener("load",m),E.addEventListener("error",m),w?w.parentNode.insertBefore(E,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(E,s.firstChild)),u.state.loading|=4}}var pd={$$typeof:M,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function K9(s,u,d,m,E,w,I,q,Y){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lo(0),this.hiddenUpdates=Lo(null),this.identifierPrefix=m,this.onUncaughtError=E,this.onCaughtError=w,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function eP(s,u,d,m,E,w,I,q,Y,te,de,pe){return s=new K9(s,u,d,I,Y,te,de,pe,q),u=1,w===!0&&(u|=24),w=Yr(3,null,null,u),s.current=w,w.stateNode=s,u=G0(),u.refCount++,s.pooledCache=u,u.refCount++,w.memoizedState={element:m,isDehydrated:d,cache:u},J0(w),s}function tP(s){return s?(s=Lu,s):Lu}function nP(s,u,d,m,E,w){E=tP(E),m.context===null?m.context=E:m.pendingContext=E,m=us(u),m.payload={element:d},w=w===void 0?null:w,w!==null&&(m.callback=w),d=cs(s,m,u),d!==null&&(Vr(d,s,u),Gf(d,s,u))}function rP(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<u?d:u}}function pb(s,u){rP(s,u),(s=s.alternate)&&rP(s,u)}function iP(s){if(s.tag===13||s.tag===31){var u=bl(s,67108864);u!==null&&Vr(u,s,67108864),pb(s,67108864)}}function oP(s){if(s.tag===13||s.tag===31){var u=Zr();u=wf(u);var d=bl(s,u);d!==null&&Vr(d,s,u),pb(s,u)}}var Om=!0;function Y9(s,u,d,m){var E=J.T;J.T=null;var w=le.p;try{le.p=2,mb(s,u,d,m)}finally{le.p=w,J.T=E}}function W9(s,u,d,m){var E=J.T;J.T=null;var w=le.p;try{le.p=8,mb(s,u,d,m)}finally{le.p=w,J.T=E}}function mb(s,u,d,m){if(Om){var E=gb(m);if(E===null)tb(s,u,m,Lm,d),sP(s,m);else if(X9(E,s,u,d,m))m.stopPropagation();else if(sP(s,m),u&4&&-1<J9.indexOf(s)){for(;E!==null;){var w=zo(E);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var I=Oi(w.pendingLanes);if(I!==0){var q=w;for(q.pendingLanes|=2,q.entangledLanes|=2;I;){var Y=1<<31-Et(I);q.entanglements[1]|=Y,I&=~Y}mo(w),(vt&6)===0&&(vm=An()+500,ld(0))}}break;case 31:case 13:q=bl(w,2),q!==null&&Vr(q,w,2),bm(),pb(w,2)}if(w=gb(m),w===null&&tb(s,u,m,Lm,d),w===E)break;E=w}E!==null&&m.stopPropagation()}else tb(s,u,m,null,d)}}function gb(s){return s=Iu(s),yb(s)}var Lm=null;function yb(s){if(Lm=null,s=Fo(s),s!==null){var u=o(s);if(u===null)s=null;else{var d=u.tag;if(d===13){if(s=a(u),s!==null)return s;s=null}else if(d===31){if(s=l(u),s!==null)return s;s=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null)}}return Lm=s,null}function aP(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Eu()){case ce:return 2;case ye:return 8;case De:case Qe:return 32;case ft:return 268435456;default:return 32}default:return 32}}var vb=!1,Es=null,ws=null,Ts=null,md=new Map,gd=new Map,Ss=[],J9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sP(s,u){switch(s){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":md.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":gd.delete(u.pointerId)}}function yd(s,u,d,m,E,w){return s===null||s.nativeEvent!==w?(s={blockedOn:u,domEventName:d,eventSystemFlags:m,nativeEvent:w,targetContainers:[E]},u!==null&&(u=zo(u),u!==null&&iP(u)),s):(s.eventSystemFlags|=m,u=s.targetContainers,E!==null&&u.indexOf(E)===-1&&u.push(E),s)}function X9(s,u,d,m,E){switch(u){case"focusin":return Es=yd(Es,s,u,d,m,E),!0;case"dragenter":return ws=yd(ws,s,u,d,m,E),!0;case"mouseover":return Ts=yd(Ts,s,u,d,m,E),!0;case"pointerover":var w=E.pointerId;return md.set(w,yd(md.get(w)||null,s,u,d,m,E)),!0;case"gotpointercapture":return w=E.pointerId,gd.set(w,yd(gd.get(w)||null,s,u,d,m,E)),!0}return!1}function lP(s){var u=Fo(s.target);if(u!==null){var d=o(u);if(d!==null){if(u=d.tag,u===13){if(u=a(d),u!==null){s.blockedOn=u,vp(s.priority,function(){oP(d)});return}}else if(u===31){if(u=l(d),u!==null){s.blockedOn=u,vp(s.priority,function(){oP(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Um(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var d=gb(s.nativeEvent);if(d===null){d=s.nativeEvent;var m=new d.constructor(d.type,d);Cu=m,d.target.dispatchEvent(m),Cu=null}else return u=zo(d),u!==null&&iP(u),s.blockedOn=d,!1;u.shift()}return!0}function uP(s,u,d){Um(s)&&d.delete(u)}function Q9(){vb=!1,Es!==null&&Um(Es)&&(Es=null),ws!==null&&Um(ws)&&(ws=null),Ts!==null&&Um(Ts)&&(Ts=null),md.forEach(uP),gd.forEach(uP)}function Vm(s,u){s.blockedOn===u&&(s.blockedOn=null,vb||(vb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Q9)))}var Fm=null;function cP(s){Fm!==s&&(Fm=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Fm===s&&(Fm=null);for(var u=0;u<s.length;u+=3){var d=s[u],m=s[u+1],E=s[u+2];if(typeof m!="function"){if(yb(m||d)===null)continue;break}var w=zo(d);w!==null&&(s.splice(u,3),u-=3,g_(w,{pending:!0,data:E,method:d.method,action:m},m,E))}}))}function ac(s){function u(Y){return Vm(Y,s)}Es!==null&&Vm(Es,s),ws!==null&&Vm(ws,s),Ts!==null&&Vm(Ts,s),md.forEach(u),gd.forEach(u);for(var d=0;d<Ss.length;d++){var m=Ss[d];m.blockedOn===s&&(m.blockedOn=null)}for(;0<Ss.length&&(d=Ss[0],d.blockedOn===null);)lP(d),d.blockedOn===null&&Ss.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var E=d[m],w=d[m+1],I=E[Yn]||null;if(typeof w=="function")I||cP(d);else if(I){var q=null;if(w&&w.hasAttribute("formAction")){if(E=w,I=w[Yn]||null)q=I.formAction;else if(yb(E)!==null)continue}else q=I.action;typeof q=="function"?d[m+1]=q:(d.splice(m,3),m-=3),cP(d)}}}function fP(){function s(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(I){return E=I})},focusReset:"manual",scroll:"manual"})}function u(){E!==null&&(E(),E=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,E=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),E!==null&&(E(),E=null)}}}function _b(s){this._internalRoot=s}zm.prototype.render=_b.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(r(409));var d=u.current,m=Zr();nP(d,m,s,u,null,null)},zm.prototype.unmount=_b.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;nP(s.current,2,null,s,null,null),bm(),u[oo]=null}};function zm(s){this._internalRoot=s}zm.prototype.unstable_scheduleHydration=function(s){if(s){var u=Uo();s={blockedOn:null,target:s,priority:u};for(var d=0;d<Ss.length&&u!==0&&u<Ss[d].priority;d++);Ss.splice(d,0,s),d===0&&lP(s)}};var dP=e.version;if(dP!=="19.2.3")throw Error(r(527,dP,"19.2.3"));le.findDOMNode=function(s){var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(u),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var Z9={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bm.isDisabled&&Bm.supportsFiber)try{On=Bm.inject(Z9),Xt=Bm}catch{}}return _d.createRoot=function(s,u){if(!i(s))throw Error(r(299));var d=!1,m="",E=_I,w=bI,I=EI;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(w=u.onCaughtError),u.onRecoverableError!==void 0&&(I=u.onRecoverableError)),u=eP(s,1,!1,null,null,d,m,null,E,w,I,fP),s[oo]=u.current,eb(s),new _b(u)},_d.hydrateRoot=function(s,u,d){if(!i(s))throw Error(r(299));var m=!1,E="",w=_I,I=bI,q=EI,Y=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onUncaughtError!==void 0&&(w=d.onUncaughtError),d.onCaughtError!==void 0&&(I=d.onCaughtError),d.onRecoverableError!==void 0&&(q=d.onRecoverableError),d.formState!==void 0&&(Y=d.formState)),u=eP(s,1,!0,u,d??null,m,E,Y,w,I,q,fP),u.context=tP(null),d=u.current,m=Zr(),m=wf(m),E=us(m),E.callback=null,cs(d,E,m),d=m,u.current.lanes=d,Ba(u,d),mo(u),s[oo]=u.current,eb(s),new zm(u)},_d.version="19.2.3",_d}var wP;function fj(){if(wP)return Tb.exports;wP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Tb.exports=cj(),Tb.exports}var dj=fj();const hj=Ni(dj);var sV=aV();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qd(){return Qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qd.apply(this,arguments)}var Os;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Os||(Os={}));const TP="popstate";function pj(t){t===void 0&&(t={});function e(i,o){let{pathname:a="/",search:l="",hash:c=""}=du(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),zw("",{pathname:a,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");l=f===-1?c:c.slice(0,f)}return l+"#"+(typeof o=="string"?o:lV(o))}function r(i,o){iv(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return gj(e,n,r,t)}function wn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function iv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mj(){return Math.random().toString(36).substr(2,8)}function SP(t,e){return{usr:t.state,key:t.key,idx:e}}function zw(t,e,n,r){return n===void 0&&(n=null),Qd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?du(e):e,{state:n,key:e&&e.key||r||mj()})}function lV(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function du(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function gj(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,l=Os.Pop,c=null,f=h();f==null&&(f=0,a.replaceState(Qd({},a.state,{idx:f}),""));function h(){return(a.state||{idx:null}).idx}function p(){l=Os.Pop;let S=h(),C=S==null?null:S-f;f=S,c&&c({action:l,location:x.location,delta:C})}function g(S,C){l=Os.Push;let L=zw(x.location,S,C);n&&n(L,S),f=h()+1;let M=SP(L,f),G=x.createHref(L);try{a.pushState(M,"",G)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(G)}o&&c&&c({action:l,location:x.location,delta:1})}function v(S,C){l=Os.Replace;let L=zw(x.location,S,C);n&&n(L,S),f=h();let M=SP(L,f),G=x.createHref(L);a.replaceState(M,"",G),o&&c&&c({action:l,location:x.location,delta:0})}function T(S){let C=i.location.origin!=="null"?i.location.origin:i.location.href,L=typeof S=="string"?S:lV(S);return L=L.replace(/ $/,"%20"),wn(C,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,C)}let x={get action(){return l},get location(){return t(i,a)},listen(S){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(TP,p),c=S,()=>{i.removeEventListener(TP,p),c=null}},createHref(S){return e(i,S)},createURL:T,encodeLocation(S){let C=T(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:v,go(S){return a.go(S)}};return x}var xP;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(xP||(xP={}));function yj(t,e,n){return n===void 0&&(n="/"),vj(t,e,n)}function vj(t,e,n,r){let i=typeof e=="string"?du(e):e,o=fV(i.pathname||"/",n);if(o==null)return null;let a=uV(t);_j(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let f=kj(o);l=Ij(a[c],f)}return l}function uV(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(wn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let f=$l([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(wn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),uV(o.children,e,h,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:Aj(f,o.index),routesMeta:h})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let c of cV(o.path))i(o,a,c)}),e}function cV(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=cV(r.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function _j(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Cj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const bj=/^:[\w-]+$/,Ej=3,wj=2,Tj=1,Sj=10,xj=-2,AP=t=>t==="*";function Aj(t,e){let n=t.split("/"),r=n.length;return n.some(AP)&&(r+=xj),e&&(r+=wj),n.filter(i=>!AP(i)).reduce((i,o)=>i+(bj.test(o)?Ej:o===""?Tj:Sj),r)}function Cj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Ij(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],f=l===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",p=Rj({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),g=c.route;if(!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:$l([o,p.pathname]),pathnameBase:Lj($l([o,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(o=$l([o,p.pathnameBase]))}return a}function Rj(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Pj(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((f,h,p)=>{let{paramName:g,isOptional:v}=h;if(g==="*"){let x=l[p]||"";a=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const T=l[p];return v&&!T?f[g]=void 0:f[g]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:a,pattern:t}}function Pj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),iv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function kj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return iv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function fV(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Mj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nj=t=>Mj.test(t);function Dj(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?du(t):t,o;if(n)if(Nj(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),iv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=CP(n.substring(1),"/"):o=CP(n,e)}else o=e;return{pathname:o,search:Uj(r),hash:Vj(i)}}function CP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Cb(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Oj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dV(t,e){let n=Oj(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function hV(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=du(t):(i=Qd({},t),wn(!i.pathname||!i.pathname.includes("?"),Cb("?","pathname","search",i)),wn(!i.pathname||!i.pathname.includes("#"),Cb("#","pathname","hash",i)),wn(!i.search||!i.search.includes("#"),Cb("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=n;else{let p=e.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}l=p>=0?e[p]:"/"}let c=Dj(i,l),f=a&&a!=="/"&&a.endsWith("/"),h=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}const $l=t=>t.join("/").replace(/\/\/+/g,"/"),Lj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Uj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Vj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Fj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const pV=["post","put","patch","delete"];new Set(pV);const zj=["get",...pV];new Set(zj);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zd(){return Zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zd.apply(this,arguments)}const US=O.createContext(null),Bj=O.createContext(null),kh=O.createContext(null),ov=O.createContext(null),Xs=O.createContext({outlet:null,matches:[],isDataRoute:!1}),mV=O.createContext(null);function Mh(){return O.useContext(ov)!=null}function VS(){return Mh()||wn(!1),O.useContext(ov).location}function gV(t){O.useContext(kh).static||O.useLayoutEffect(t)}function yV(){let{isDataRoute:t}=O.useContext(Xs);return t?t$():qj()}function qj(){Mh()||wn(!1);let t=O.useContext(US),{basename:e,future:n,navigator:r}=O.useContext(kh),{matches:i}=O.useContext(Xs),{pathname:o}=VS(),a=JSON.stringify(dV(i,n.v7_relativeSplatPath)),l=O.useRef(!1);return gV(()=>{l.current=!0}),O.useCallback(function(f,h){if(h===void 0&&(h={}),!l.current)return;if(typeof f=="number"){r.go(f);return}let p=hV(f,JSON.parse(a),o,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:$l([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,a,o,t])}function Hj(){let{matches:t}=O.useContext(Xs),e=t[t.length-1];return e?e.params:{}}function jj(t,e){return $j(t,e)}function $j(t,e,n,r){Mh()||wn(!1);let{navigator:i}=O.useContext(kh),{matches:o}=O.useContext(Xs),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let f=VS(),h;if(e){var p;let S=typeof e=="string"?du(e):e;c==="/"||(p=S.pathname)!=null&&p.startsWith(c)||wn(!1),h=S}else h=f;let g=h.pathname||"/",v=g;if(c!=="/"){let S=c.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let T=yj(t,{pathname:v}),x=Jj(T&&T.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:$l([c,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:$l([c,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,r);return e&&x?O.createElement(ov.Provider,{value:{location:Zd({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Os.Pop}},x):x}function Gj(){let t=e$(),e=Fj(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:i},n):null,null)}const Kj=O.createElement(Gj,null);class Yj extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(Xs.Provider,{value:this.props.routeContext},O.createElement(mV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Wj(t){let{routeContext:e,match:n,children:r}=t,i=O.useContext(US);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Xs.Provider,{value:e},r)}function Jj(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let h=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);h>=0||wn(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:g,errors:v}=n,T=p.route.loader&&g[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||T){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((h,p,g)=>{let v,T=!1,x=null,S=null;n&&(v=l&&p.route.id?l[p.route.id]:void 0,x=p.route.errorElement||Kj,c&&(f<0&&g===0?(n$("route-fallback"),T=!0,S=null):f===g&&(T=!0,S=p.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,g+1)),L=()=>{let M;return v?M=x:T?M=S:p.route.Component?M=O.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=h,O.createElement(Wj,{match:p,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:M})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?O.createElement(Yj,{location:n.location,revalidation:n.revalidation,component:x,error:v,children:L(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):L()},null)}var vV=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(vV||{}),_V=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(_V||{});function Xj(t){let e=O.useContext(US);return e||wn(!1),e}function Qj(t){let e=O.useContext(Bj);return e||wn(!1),e}function Zj(t){let e=O.useContext(Xs);return e||wn(!1),e}function bV(t){let e=Zj(),n=e.matches[e.matches.length-1];return n.route.id||wn(!1),n.route.id}function e$(){var t;let e=O.useContext(mV),n=Qj(),r=bV();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function t$(){let{router:t}=Xj(vV.UseNavigateStable),e=bV(_V.UseNavigateStable),n=O.useRef(!1);return gV(()=>{n.current=!0}),O.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Zd({fromRouteId:e},o)))},[t,e])}const IP={};function n$(t,e,n){IP[t]||(IP[t]=!0)}function r$(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function RP(t){let{to:e,replace:n,state:r,relative:i}=t;Mh()||wn(!1);let{future:o,static:a}=O.useContext(kh),{matches:l}=O.useContext(Xs),{pathname:c}=VS(),f=yV(),h=hV(e,dV(l,o.v7_relativeSplatPath),c,i==="path"),p=JSON.stringify(h);return O.useEffect(()=>f(JSON.parse(p),{replace:n,state:r,relative:i}),[f,p,i,n,r]),null}function wg(t){wn(!1)}function i$(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Os.Pop,navigator:o,static:a=!1,future:l}=t;Mh()&&wn(!1);let c=e.replace(/^\/*/,"/"),f=O.useMemo(()=>({basename:c,navigator:o,static:a,future:Zd({v7_relativeSplatPath:!1},l)}),[c,l,o,a]);typeof r=="string"&&(r=du(r));let{pathname:h="/",search:p="",hash:g="",state:v=null,key:T="default"}=r,x=O.useMemo(()=>{let S=fV(h,c);return S==null?null:{location:{pathname:S,search:p,hash:g,state:v,key:T},navigationType:i}},[c,h,p,g,v,T,i]);return x==null?null:O.createElement(kh.Provider,{value:f},O.createElement(ov.Provider,{children:n,value:x}))}function o$(t){let{children:e,location:n}=t;return jj(Bw(e),n)}new Promise(()=>{});function Bw(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(r,i)=>{if(!O.isValidElement(r))return;let o=[...e,i];if(r.type===O.Fragment){n.push.apply(n,Bw(r.props.children,o));return}r.type!==wg&&wn(!1),!r.props.index||!r.props.children||wn(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Bw(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const a$="6";try{window.__reactRouterVersion=a$}catch{}const s$="startTransition",PP=oV[s$];function l$(t){let{basename:e,children:n,future:r,window:i}=t,o=O.useRef();o.current==null&&(o.current=pj({window:i,v5Compat:!0}));let a=o.current,[l,c]=O.useState({action:a.action,location:a.location}),{v7_startTransition:f}=r||{},h=O.useCallback(p=>{f&&PP?PP(()=>c(p)):c(p)},[c,f]);return O.useLayoutEffect(()=>a.listen(h),[a,h]),O.useEffect(()=>r$(r),[r]),O.createElement(i$,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}var kP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(kP||(kP={}));var MP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(MP||(MP={}));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c$=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),NP=t=>{const e=c$(t);return e.charAt(0).toUpperCase()+e.slice(1)},EV=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),f$=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...l},c)=>O.createElement("svg",{ref:c,...d$,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:EV("lucide",i),...!o&&!f$(l)&&{"aria-hidden":"true"},...l},[...a.map(([f,h])=>O.createElement(f,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(t,e)=>{const n=O.forwardRef(({className:r,...i},o)=>O.createElement(h$,{ref:o,iconNode:e,className:EV(`lucide-${u$(NP(t))}`,`lucide-${t}`,r),...i}));return n.displayName=NP(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],m$=rt("book-open",p$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],qw=rt("calendar",g$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],v$=rt("chart-column",y$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],b$=rt("chart-no-axes-column",_$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],w$=rt("chart-pie",E$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],FS=rt("check",T$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],x$=rt("chevron-down",S$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],C$=rt("chevron-left",A$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wV=rt("chevron-right",I$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],P$=rt("chevrons-left",R$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],M$=rt("chevrons-right",k$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],D$=rt("circle-check",N$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],L$=rt("clock",O$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["path",{d:"m17 15-5.5 5.5L9 18",key:"15q87x"}],["path",{d:"M5 17.743A7 7 0 1 1 15.71 10h1.79a4.5 4.5 0 0 1 1.5 8.742",key:"9ho6ki"}]],V$=rt("cloud-check",U$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],z$=rt("cloud-off",F$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],TV=rt("download",B$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],SV=rt("eye",q$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],xV=rt("file-text",H$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],$$=rt("flag",j$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=[["path",{d:"M10.638 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v3.417",key:"10r6g4"}],["path",{d:"M14.62 18.8A2.25 2.25 0 1 1 18 15.836a2.25 2.25 0 1 1 3.38 2.966l-2.626 2.856a.998.998 0 0 1-1.507 0z",key:"15cy7q"}]],zS=rt("folder-heart",G$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Y$=rt("heart",K$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],J$=rt("image",W$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Q$=rt("layout-dashboard",X$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],eG=rt("layout-list",Z$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],eh=rt("loader-circle",tG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],rG=rt("log-in",nG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],oG=rt("menu",iG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],sG=rt("palette",aG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Hw=rt("paperclip",lG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Oc=rt("pen-line",uG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],th=rt("plus",cG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],dG=rt("save",fG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],AV=rt("search",hG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],CV=rt("sparkles",pG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],gG=rt("text-align-start",mG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Nh=rt("trash-2",yG);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_G=rt("x",vG),IV=({project:t,level:e,selectedProjectId:n,onSelectProject:r,onAddProject:i})=>{const[o,a]=O.useState(!0),l=n===t.id,c=(f,h=16)=>{const p=f.logoUrl;return!p||p===""?D.jsx(zS,{size:h,className:l?"text-pink-500":"text-pink-300"}):p.startsWith("http")?D.jsx("img",{src:p,className:"rounded-md object-cover shadow-sm border border-white",style:{width:h+4,height:h+4}}):D.jsx("span",{style:{fontSize:h+2},children:p})};return D.jsxs("div",{className:"flex flex-col",children:[D.jsxs("div",{className:`flex items-center gap-2 p-2.5 rounded-xl cursor-pointer transition-all hover:bg-white/60 mb-1 ${l?"bg-white shadow-md font-black translate-x-1 border-l-4 border-pink-400":"opacity-80"}`,style:{paddingLeft:`${e*12+12}px`},onClick:()=>r(t.id),children:[D.jsx("div",{onClick:f=>{f.stopPropagation(),a(!o)},className:"text-pink-300 p-0.5 hover:bg-pink-100 rounded-md",children:t.children.length>0?o?D.jsx(x$,{size:14}):D.jsx(wV,{size:14}):D.jsx("div",{className:"w-3.5"})}),D.jsx("div",{className:"flex-shrink-0 w-5 h-5 flex items-center justify-center",children:c(t)}),D.jsx("span",{className:"truncate text-sm text-[#5c4b51]",children:t.name})]}),o&&t.children.length>0&&D.jsx("div",{className:"flex flex-col",children:t.children.map(f=>D.jsx(IV,{project:f,level:e+1,selectedProjectId:n,onSelectProject:r,onAddProject:i},f.id))})]})},bG=({projects:t,workspaceLogo:e,workspaceName:n,onUpdateWorkspace:r,selectedProjectId:i,isOpen:o,onSelectProject:a,onAddProject:l})=>{const c=O.useMemo(()=>{const h=[],p=g=>{g.forEach(v=>{v.lastAccessedAt&&h.push(v),p(v.children)})};return p(t),h.sort((g,v)=>new Date(v.lastAccessedAt).getTime()-new Date(g.lastAccessedAt).getTime()).slice(0,3)},[t]),f=(h,p=18)=>{const g=h.logoUrl;return!g||g===""?D.jsx(zS,{size:p,className:"text-pink-400"}):g.startsWith("http")?D.jsx("img",{src:g,className:"rounded-md object-cover",style:{width:p+2,height:p+2}}):D.jsx("span",{style:{fontSize:p+2},children:g})};return D.jsxs("div",{className:`fixed inset-y-0 left-0 w-64 sanrio-pink h-screen flex flex-col p-6 border-r sanrio-border-pink z-50 transition-transform duration-300 shadow-xl md:relative md:translate-x-0 ${o?"translate-x-0":"-translate-x-full"}`,children:[D.jsxs("div",{className:"flex items-center justify-between mb-8",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsxs("div",{className:"w-10 h-10 bg-white rounded-xl shadow-sm border border-pink-100 flex items-center justify-center relative overflow-hidden cursor-pointer group",onClick:()=>{const h=prompt(" ",e);h&&r(h,n)},children:[e.startsWith("http")?D.jsx("img",{src:e,className:"w-full h-full object-cover"}):D.jsx("span",{className:"text-2xl",children:e}),D.jsx("div",{className:"absolute inset-0 bg-pink-500/10 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:D.jsx(Oc,{size:12,className:"text-pink-500"})})]}),D.jsx("div",{className:"flex flex-col cursor-pointer group relative",onClick:()=>{const h=prompt(" ",n);h&&r(e,h)},children:D.jsx("h1",{className:"font-black text-2xl text-pink-600 italic tracking-tighter transition-all group-hover:text-pink-400",children:n})})]}),D.jsx("button",{onClick:()=>l(null),className:"p-2 bg-white/40 hover:bg-white rounded-xl transition-all shadow-sm border border-pink-100",children:D.jsx(th,{size:18,className:"text-pink-500"})})]}),D.jsxs("nav",{className:"flex-1 space-y-6 overflow-y-auto no-scrollbar pr-1",children:[c.length>0&&D.jsxs("div",{children:[D.jsxs("div",{className:"text-[10px] font-black text-pink-400 uppercase tracking-[0.2em] mb-3 ml-3 opacity-60 flex items-center gap-2",children:[D.jsx(L$,{size:10}),"  / Recent"]}),D.jsx("div",{className:"space-y-1",children:c.map(h=>D.jsxs("div",{onClick:()=>a(h.id),className:`flex items-center gap-2 p-2 px-3 rounded-xl cursor-pointer transition-all hover:bg-white/60 ${i===h.id?"bg-white/80 font-bold":"opacity-70"}`,children:[D.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:f(h,14)}),D.jsx("span",{className:"text-xs text-[#5c4b51] truncate",children:h.name})]},`recent-${h.id}`))})]}),D.jsxs("div",{children:[D.jsx("div",{className:"text-[10px] font-black text-pink-400 uppercase tracking-[0.2em] mb-3 ml-3 opacity-60",children:" / Projects"}),t.map(h=>D.jsx(IV,{project:h,level:0,selectedProjectId:i,onSelectProject:a,onAddProject:l},h.id))]})]}),D.jsxs("div",{className:"mt-auto pt-6 border-t sanrio-border-pink text-xs text-pink-300 text-center flex flex-col items-center gap-2",children:[D.jsx(Y$,{size:14,className:"fill-pink-200 text-pink-200 animate-pulse"}),D.jsx("span",{className:"font-black tracking-widest uppercase opacity-40",children:"Sync with Cloud"})]})]})},RV=6048e5,EG=864e5,DP=Symbol.for("constructDateFrom");function qr(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&DP in t?t[DP](e):t instanceof Date?new t.constructor(e):new Date(e)}function Pr(t,e){return qr(e||t,t)}function jw(t,e,n){const r=Pr(t,n==null?void 0:n.in);return isNaN(e)?qr(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function $w(t,e,n){const r=Pr(t,n==null?void 0:n.in);if(isNaN(e))return qr(t,NaN);if(!e)return r;const i=r.getDate(),o=qr(t,r.getTime());o.setMonth(r.getMonth()+e+1,0);const a=o.getDate();return i>=a?o:(r.setFullYear(o.getFullYear(),o.getMonth(),i),r)}let wG={};function Dh(){return wG}function nh(t,e){var l,c,f,h;const n=Dh(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??0,i=Pr(t,e==null?void 0:e.in),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function zg(t,e){return nh(t,{...e,weekStartsOn:1})}function PV(t,e){const n=Pr(t,e==null?void 0:e.in),r=n.getFullYear(),i=qr(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=zg(i),a=qr(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=zg(a);return n.getTime()>=o.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function OP(t){const e=Pr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Oh(t,...e){const n=qr.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Bg(t,e){const n=Pr(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function kV(t,e,n){const[r,i]=Oh(n==null?void 0:n.in,t,e),o=Bg(r),a=Bg(i),l=+o-OP(o),c=+a-OP(a);return Math.round((l-c)/EG)}function TG(t,e){const n=PV(t,e),r=qr(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),zg(r)}function LP(t,e,n){return $w(t,e*12,n)}function SG(t){return qr(t,Date.now())}function xG(t,e,n){const[r,i]=Oh(n==null?void 0:n.in,t,e);return+Bg(r)==+Bg(i)}function AG(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function CG(t){return!(!AG(t)&&typeof t!="number"||isNaN(+Pr(t)))}function qm(t,e,n){const[r,i]=Oh(n==null?void 0:n.in,t,e),o=UP(r,i),a=Math.abs(kV(r,i));r.setDate(r.getDate()-o*a);const l=+(UP(r,i)===-o),c=o*(a-l);return c===0?0:c}function UP(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function IG(t,e){const n=Pr(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function RG(t,e){const[n,r]=Oh(t,e.start,e.end);return{start:n,end:r}}function MV(t,e){const{start:n,end:r}=RG(e==null?void 0:e.in,t);let i=+n>+r;const o=i?+n:+r,a=i?r:n;a.setHours(0,0,0,0);let l=1;const c=[];for(;+a<=o;)c.push(qr(n,a)),a.setDate(a.getDate()+l),a.setHours(0,0,0,0);return i?c.reverse():c}function PG(t,e){const n=Pr(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function kG(t,e){var l,c;const n=Dh(),r=n.weekStartsOn??((c=(l=n.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,i=Pr(t,e==null?void 0:e.in),o=i.getDay(),a=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}const MG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},NG=(t,e,n)=>{let r;const i=MG[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Sc(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const DG={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},OG={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},LG={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},UG={date:Sc({formats:DG,defaultWidth:"full"}),time:Sc({formats:OG,defaultWidth:"full"}),dateTime:Sc({formats:LG,defaultWidth:"full"})},VG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},FG=(t,e,n,r)=>VG[t];function vo(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const zG={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},BG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qG={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},HG={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},jG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$G={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},GG=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},KG={ordinalNumber:GG,era:vo({values:zG,defaultWidth:"wide"}),quarter:vo({values:BG,defaultWidth:"wide",argumentCallback:t=>t-1}),month:vo({values:qG,defaultWidth:"wide"}),day:vo({values:HG,defaultWidth:"wide"}),dayPeriod:vo({values:jG,defaultWidth:"wide",formattingValues:$G,defaultFormattingWidth:"wide"})};function _o(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const a=o[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?WG(l,p=>p.test(a)):YG(l,p=>p.test(a));let f;f=t.valueCallback?t.valueCallback(c):c,f=n.valueCallback?n.valueCallback(f):f;const h=e.slice(a.length);return{value:f,rest:h}}}function YG(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function WG(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function NV(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const JG=/^(\d+)(th|st|nd|rd)?/i,XG=/\d+/i,QG={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ZG={any:[/^b/i,/^(a|c)/i]},e8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},t8={any:[/1/i,/2/i,/3/i,/4/i]},n8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},r8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},i8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},o8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},a8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},s8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},l8={ordinalNumber:NV({matchPattern:JG,parsePattern:XG,valueCallback:t=>parseInt(t,10)}),era:_o({matchPatterns:QG,defaultMatchWidth:"wide",parsePatterns:ZG,defaultParseWidth:"any"}),quarter:_o({matchPatterns:e8,defaultMatchWidth:"wide",parsePatterns:t8,defaultParseWidth:"any",valueCallback:t=>t+1}),month:_o({matchPatterns:n8,defaultMatchWidth:"wide",parsePatterns:r8,defaultParseWidth:"any"}),day:_o({matchPatterns:i8,defaultMatchWidth:"wide",parsePatterns:o8,defaultParseWidth:"any"}),dayPeriod:_o({matchPatterns:a8,defaultMatchWidth:"any",parsePatterns:s8,defaultParseWidth:"any"})},u8={code:"en-US",formatDistance:NG,formatLong:UG,formatRelative:FG,localize:KG,match:l8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function c8(t,e){const n=Pr(t,e==null?void 0:e.in);return kV(n,PG(n))+1}function f8(t,e){const n=Pr(t,e==null?void 0:e.in),r=+zg(n)-+TG(n);return Math.round(r/RV)+1}function DV(t,e){var h,p,g,v;const n=Pr(t,e==null?void 0:e.in),r=n.getFullYear(),i=Dh(),o=(e==null?void 0:e.firstWeekContainsDate)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(g=i.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,a=qr((e==null?void 0:e.in)||t,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const l=nh(a,e),c=qr((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const f=nh(c,e);return+n>=+l?r+1:+n>=+f?r:r-1}function d8(t,e){var l,c,f,h;const n=Dh(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,i=DV(t,e),o=qr((e==null?void 0:e.in)||t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),nh(o,e)}function h8(t,e){const n=Pr(t,e==null?void 0:e.in),r=+nh(n,e)-+d8(n,e);return Math.round(r/RV)+1}function St(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const As={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return St(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):St(n+1,2)},d(t,e){return St(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return St(t.getHours()%12||12,e.length)},H(t,e){return St(t.getHours(),e.length)},m(t,e){return St(t.getMinutes(),e.length)},s(t,e){return St(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return St(i,e.length)}},sc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},VP={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return As.y(t,e)},Y:function(t,e,n,r){const i=DV(t,r),o=i>0?i:1-i;if(e==="YY"){const a=o%100;return St(a,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):St(o,e.length)},R:function(t,e){const n=PV(t);return St(n,e.length)},u:function(t,e){const n=t.getFullYear();return St(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return St(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return St(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return As.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return St(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=h8(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):St(i,e.length)},I:function(t,e,n){const r=f8(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):St(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):As.d(t,e)},D:function(t,e,n){const r=c8(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):St(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return St(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return St(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return St(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=sc.noon:r===0?i=sc.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=sc.evening:r>=12?i=sc.afternoon:r>=4?i=sc.morning:i=sc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return As.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):As.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):St(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):St(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):As.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):As.s(t,e)},S:function(t,e){return As.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return zP(r);case"XXXX":case"XX":return Dl(r);case"XXXXX":case"XXX":default:return Dl(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return zP(r);case"xxxx":case"xx":return Dl(r);case"xxxxx":case"xxx":default:return Dl(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+FP(r,":");case"OOOO":default:return"GMT"+Dl(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+FP(r,":");case"zzzz":default:return"GMT"+Dl(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return St(r,e.length)},T:function(t,e,n){return St(+t,e.length)}};function FP(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+St(o,2)}function zP(t,e){return t%60===0?(t>0?"-":"+")+St(Math.abs(t)/60,2):Dl(t,e)}function Dl(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=St(Math.trunc(r/60),2),o=St(r%60,2);return n+i+e+o}const BP=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},OV=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},p8=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return BP(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",BP(r,e)).replace("{{time}}",OV(i,e))},m8={p:OV,P:p8},g8=/^D+$/,y8=/^Y+$/,v8=["D","DD","YY","YYYY"];function _8(t){return g8.test(t)}function b8(t){return y8.test(t)}function E8(t,e,n){const r=w8(t,e,n);if(console.warn(r),v8.includes(t))throw new RangeError(r)}function w8(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const T8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,S8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,x8=/^'([^]*?)'?$/,A8=/''/g,C8=/[a-zA-Z]/;function qg(t,e,n){var h,p,g,v,T,x,S,C;const r=Dh(),i=(n==null?void 0:n.locale)??r.locale??u8,o=(n==null?void 0:n.firstWeekContainsDate)??((p=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(g=r.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((x=(T=n==null?void 0:n.locale)==null?void 0:T.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((C=(S=r.locale)==null?void 0:S.options)==null?void 0:C.weekStartsOn)??0,l=Pr(t,n==null?void 0:n.in);if(!CG(l))throw new RangeError("Invalid time value");let c=e.match(S8).map(L=>{const M=L[0];if(M==="p"||M==="P"){const G=m8[M];return G(L,i.formatLong)}return L}).join("").match(T8).map(L=>{if(L==="''")return{isToken:!1,value:"'"};const M=L[0];if(M==="'")return{isToken:!1,value:I8(L)};if(VP[M])return{isToken:!0,value:L};if(M.match(C8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return{isToken:!1,value:L}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const f={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return c.map(L=>{if(!L.isToken)return L.value;const M=L.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&b8(M)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&_8(M))&&E8(M,e,String(t));const G=VP[M[0]];return G(l,M,i.localize,f)}).join("")}function I8(t){const e=t.match(x8);return e?e[1].replace(A8,"'"):t}function R8(t,e,n){const[r,i]=Oh(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function P8(t,e){return xG(qr(t,t),SG(t))}var zt=(t=>(t.TODO="",t.IN_PROGRESS="",t.COMPLETED="",t))(zt||{}),Fs=(t=>(t.LOW="",t.MEDIUM="",t.HIGH="",t))(Fs||{});const nr={primary:"#ff85b2",secondary:"#ffdeeb",accent:"#fff5f8",text:"#5c4b51",taskColors:["#ffb8d1","#b8e1ff","#d1ffb8","#fff7b8","#e1b8ff"],stickyNotes:["#fff9c4","#ffecf2","#e3f2fd","#f1f8e9","#f3e5f5"],priority:{[Fs.LOW]:"#e1f5fe",[Fs.MEDIUM]:"#fff9c4",[Fs.HIGH]:"#ffebee"},status:{[zt.TODO]:"#ffcdd2",[zt.IN_PROGRESS]:"#ffe0b2",[zt.COMPLETED]:"#c8e6c9"}},qP=[{id:"root-1",name:" ",parentId:null,notes:" Emoji",logoUrl:"",precautions:[" Logo ",""],precautionsColor:"#fff9c4",tasks:[{id:"task-1",title:" Melody ",description:"",startDate:new Date().toISOString(),endDate:new Date(Date.now()+864e5*3).toISOString(),progress:30,status:zt.IN_PROGRESS,priority:Fs.MEDIUM,color:"#ffb8d1"}],children:[{id:"child-1",name:" ",parentId:"root-1",notes:"",logoUrl:"",precautions:[],precautionsColor:"#ffecf2",tasks:[],children:[]}]}],HP=({tasks:t})=>{if(t.length===0)return D.jsx("div",{className:"h-48 flex items-center justify-center bg-white rounded-[32px] md:rounded-[40px] border-2 border-dashed border-pink-200 text-pink-300",children:D.jsx("p",{children:" "})});const e=t.flatMap(c=>[new Date(c.startDate),new Date(c.endDate)]),n=Math.min(...e.map(c=>c.getTime())),r=Math.max(...e.map(c=>c.getTime())),i=new Date(n);i.setHours(0,0,0,0);const o=jw(new Date(r),14),l=MV({start:i,end:o}).filter((c,f)=>f%5===0);return D.jsxs("div",{className:"bg-white rounded-[32px] md:rounded-[40px] p-4 md:p-8 overflow-hidden",children:[D.jsxs("h2",{className:"text-lg md:text-xl font-bold text-pink-600 mb-6 md:border-none border-b border-pink-50 pb-4 md:pb-0 flex items-center gap-2",children:[D.jsx("span",{className:"text-xl md:text-2xl",children:""})," "]}),D.jsx("div",{className:"overflow-x-auto custom-scrollbar no-scrollbar pb-4 -mx-4 px-4 md:mx-0 md:px-0",children:D.jsxs("div",{className:"min-w-[800px]",children:[D.jsxs("div",{className:"flex mb-4 relative h-8 border-b border-pink-50",children:[D.jsx("div",{className:"w-32 md:w-48 flex-shrink-0 font-bold text-pink-400 text-xs md:text-sm pl-2",children:""}),D.jsx("div",{className:"flex-1 relative",children:l.map((c,f)=>{const h=qm(c,i)*35;return D.jsx("div",{className:"absolute text-[10px] md:text-[11px] font-bold text-pink-300",style:{left:`${h}px`},children:qg(c,"MM/dd")},f)})})]}),D.jsx("div",{className:"space-y-6 md:space-y-8",children:t.map(c=>{const f=new Date(c.startDate);f.setHours(0,0,0,0);const h=new Date(c.endDate);h.setHours(0,0,0,0);const p=qm(f,i)*35,g=Math.max((qm(h,f)+1)*35,40),v=qm(h,f)+1,T=nr.priority[c.priority]||"#f3f4f6";return D.jsxs("div",{className:"flex group items-center",children:[D.jsxs("div",{className:"w-32 md:w-48 flex-shrink-0",children:[D.jsx("div",{className:"text-xs md:text-sm font-bold text-[#5c4b51] truncate pr-2",children:c.title}),D.jsxs("div",{className:"text-[9px] md:text-[10px] text-pink-300 font-bold",children:[c.progress,"% "]})]}),D.jsx("div",{className:"flex-1 relative h-6 md:h-8",children:D.jsxs("div",{className:"absolute top-0 h-5 md:h-6 rounded-full shadow-sm transition-transform group-hover:scale-[1.01] cursor-pointer flex items-center justify-end pr-2 md:pr-3 overflow-hidden",style:{left:`${p}px`,width:`${g}px`,backgroundColor:T,border:`1.5px solid ${T}`,opacity:.9},children:[D.jsx("div",{className:"absolute left-0 top-0 h-full rounded-full transition-all duration-1000 flex items-center shadow-inner",style:{width:`${c.progress}%`,backgroundColor:T,filter:"brightness(0.9)"}}),D.jsxs("span",{className:"relative z-10 text-[8px] md:text-[10px] font-black text-[#5c4b51] drop-shadow-sm whitespace-nowrap",children:[v,""]})]})})]},c.id)})})]})})]})};function LV(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=LV(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Sn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=LV(t))&&(r&&(r+=" "),r+=e);return r}var k8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function BS(t){if(typeof t!="string")return!1;var e=k8;return e.includes(t)}var M8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],N8=new Set(M8);function UV(t){return typeof t!="string"?!1:N8.has(t)}function VV(t){return typeof t=="string"&&t.startsWith("data-")}function Lc(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(UV(n)||VV(n))&&(e[n]=t[n]);return e}function Gw(t){if(t==null)return null;if(O.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Lc(e)}return typeof t=="object"&&!Array.isArray(t)?Lc(t):null}function Ri(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(UV(n)||VV(n)||BS(n))&&(e[n]=t[n]);return e}var D8=["children","width","height","viewBox","className","style","title","desc"];function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kw.apply(null,arguments)}function O8(t,e){if(t==null)return{};var n,r,i=L8(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function L8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var FV=O.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:a,style:l,title:c,desc:f}=t,h=O8(t,D8),p=o||{width:r,height:i,x:0,y:0},g=Sn("recharts-surface",a);return O.createElement("svg",Kw({},Ri(h),{className:g,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),O.createElement("title",null,c),O.createElement("desc",null,f),n)}),U8=["children","className"];function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yw.apply(null,arguments)}function V8(t,e){if(t==null)return{};var n,r,i=F8(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function F8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hs=O.forwardRef((t,e)=>{var{children:n,className:r}=t,i=V8(t,U8),o=Sn("recharts-layer",r);return O.createElement("g",Yw({className:o},Ri(i),{ref:e}),n)}),z8=O.createContext(null);function Ot(t){return function(){return t}}const zV=Math.cos,Hg=Math.sin,Zi=Math.sqrt,jg=Math.PI,av=2*jg,Ww=Math.PI,Jw=2*Ww,Ol=1e-6,B8=Jw-Ol;function BV(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function q8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return BV;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class H8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?BV:q8(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,l=this._y1,c=r-e,f=i-n,h=a-e,p=l-n,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>Ol)if(!(Math.abs(p*c-f*h)>Ol)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-a,T=i-l,x=c*c+f*f,S=v*v+T*T,C=Math.sqrt(x),L=Math.sqrt(g),M=o*Math.tan((Ww-Math.acos((x+g-S)/(2*C*L)))/2),G=M/L,$=M/C;Math.abs(G-1)>Ol&&this._append`L${e+G*h},${n+G*p}`,this._append`A${o},${o},0,0,${+(p*v>h*T)},${this._x1=e+$*c},${this._y1=n+$*f}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),f=e+l,h=n+c,p=1^a,g=a?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Ol||Math.abs(this._y1-h)>Ol)&&this._append`L${f},${h}`,r&&(g<0&&(g=g%Jw+Jw),g>B8?this._append`A${r},${r},0,1,${p},${e-l},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:g>Ol&&this._append`A${r},${r},0,${+(g>=Ww)},${p},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function qS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new H8(e)}function HS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function qV(t){this._context=t}qV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function sv(t){return new qV(t)}function HV(t){return t[0]}function jV(t){return t[1]}function $V(t,e){var n=Ot(!0),r=null,i=sv,o=null,a=qS(l);t=typeof t=="function"?t:t===void 0?HV:Ot(t),e=typeof e=="function"?e:e===void 0?jV:Ot(e);function l(c){var f,h=(c=HS(c)).length,p,g=!1,v;for(r==null&&(o=i(v=a())),f=0;f<=h;++f)!(f<h&&n(p=c[f],f,c))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+t(p,f,c),+e(p,f,c));if(v)return o=null,v+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ot(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ot(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ot(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),l):r},l}function Hm(t,e,n){var r=null,i=Ot(!0),o=null,a=sv,l=null,c=qS(f);t=typeof t=="function"?t:t===void 0?HV:Ot(+t),e=typeof e=="function"?e:Ot(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?jV:Ot(+n);function f(p){var g,v,T,x=(p=HS(p)).length,S,C=!1,L,M=new Array(x),G=new Array(x);for(o==null&&(l=a(L=c())),g=0;g<=x;++g){if(!(g<x&&i(S=p[g],g,p))===C)if(C=!C)v=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),T=g-1;T>=v;--T)l.point(M[T],G[T]);l.lineEnd(),l.areaEnd()}C&&(M[g]=+t(S,g,p),G[g]=+e(S,g,p),l.point(r?+r(S,g,p):M[g],n?+n(S,g,p):G[g]))}if(L)return l=null,L+""||null}function h(){return $V().defined(i).curve(a).context(o)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Ot(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Ot(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ot(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Ot(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Ot(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ot(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Ot(!!p),f):i},f.curve=function(p){return arguments.length?(a=p,o!=null&&(l=a(o)),f):a},f.context=function(p){return arguments.length?(p==null?o=l=null:l=a(o=p),f):o},f}class GV{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function j8(t){return new GV(t,!0)}function $8(t){return new GV(t,!1)}const jS={draw(t,e){const n=Zi(e/jg);t.moveTo(n,0),t.arc(0,0,n,0,av)}},G8={draw(t,e){const n=Zi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},KV=Zi(1/3),K8=KV*2,Y8={draw(t,e){const n=Zi(e/K8),r=n*KV;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},W8={draw(t,e){const n=Zi(e),r=-n/2;t.rect(r,r,n,n)}},J8=.8908130915292852,YV=Hg(jg/10)/Hg(7*jg/10),X8=Hg(av/10)*YV,Q8=-zV(av/10)*YV,Z8={draw(t,e){const n=Zi(e*J8),r=X8*n,i=Q8*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=av*o/5,l=zV(a),c=Hg(a);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},Ib=Zi(3),e7={draw(t,e){const n=-Zi(e/(Ib*3));t.moveTo(0,n*2),t.lineTo(-Ib*n,-n),t.lineTo(Ib*n,-n),t.closePath()}},Ei=-.5,wi=Zi(3)/2,Xw=1/Zi(12),t7=(Xw/2+1)*3,n7={draw(t,e){const n=Zi(e/t7),r=n/2,i=n*Xw,o=r,a=n*Xw+n,l=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(l,c),t.lineTo(Ei*r-wi*i,wi*r+Ei*i),t.lineTo(Ei*o-wi*a,wi*o+Ei*a),t.lineTo(Ei*l-wi*c,wi*l+Ei*c),t.lineTo(Ei*r+wi*i,Ei*i-wi*r),t.lineTo(Ei*o+wi*a,Ei*a-wi*o),t.lineTo(Ei*l+wi*c,Ei*c-wi*l),t.closePath()}};function r7(t,e){let n=null,r=qS(i);t=typeof t=="function"?t:Ot(t||jS),e=typeof e=="function"?e:Ot(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ot(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ot(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function $g(){}function Gg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function WV(t){this._context=t}WV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function i7(t){return new WV(t)}function JV(t){this._context=t}JV.prototype={areaStart:$g,areaEnd:$g,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Gg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function o7(t){return new JV(t)}function XV(t){this._context=t}XV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Gg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function a7(t){return new XV(t)}function QV(t){this._context=t}QV.prototype={areaStart:$g,areaEnd:$g,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function s7(t){return new QV(t)}function jP(t){return t<0?-1:1}function $P(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(o*i+a*r)/(r+i);return(jP(o)+jP(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(l))||0}function GP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Rb(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,l=(o-r)/3;t._context.bezierCurveTo(r+l,i+l*e,o-l,a-l*n,o,a)}function Kg(t){this._context=t}Kg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Rb(this,this._t0,GP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Rb(this,GP(this,n=$P(this,t,e)),n);break;default:Rb(this,this._t0,n=$P(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function ZV(t){this._context=new e4(t)}(ZV.prototype=Object.create(Kg.prototype)).point=function(t,e){Kg.prototype.point.call(this,e,t)};function e4(t){this._context=t}e4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function l7(t){return new Kg(t)}function u7(t){return new ZV(t)}function t4(t){this._context=t}t4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=KP(t),i=KP(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function KP(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function c7(t){return new t4(t)}function lv(t,e){this._context=t,this._t=e}lv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function f7(t){return new lv(t,.5)}function d7(t){return new lv(t,0)}function h7(t){return new lv(t,1)}function Zl(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,l=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<l;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Qw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function p7(t,e){return t[e]}function m7(t){const e=[];return e.key=t,e}function g7(){var t=Ot([]),e=Qw,n=Zl,r=p7;function i(o){var a=Array.from(t.apply(this,arguments),m7),l,c=a.length,f=-1,h;for(const p of o)for(l=0,++f;l<c;++l)(a[l][f]=[0,+r(p,a[l].key,f,o)]).data=p;for(l=0,h=HS(e(a));l<c;++l)a[h[l]].index=l;return n(a,h),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ot(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ot(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Qw:typeof o=="function"?o:Ot(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Zl,i):n},i}function y7(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Zl(t,e)}}function v7(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,l=0;a<i;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}Zl(t,e)}}function _7(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var l=0,c=0,f=0;l<a;++l){for(var h=t[e[l]],p=h[r][1]||0,g=h[r-1][1]||0,v=(p-g)/2,T=0;T<l;++T){var x=t[e[T]],S=x[r][1]||0,C=x[r-1][1]||0;v+=S-C}c+=p,f+=v*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,Zl(t,e)}}var Pb={},kb={},YP;function b7(){return YP||(YP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(kb)),kb}var Mb={},WP;function n4(){return WP||(WP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Mb)),Mb}var Nb={},JP;function $S(){return JP||(JP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(Nb)),Nb}var Db={},Ob={},XP;function E7(){return XP||(XP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Ob)),Ob}var QP;function GS(){return QP||(QP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=E7(),n=$S();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const o=[],a=i.length;if(a===0)return o;let l=0,c="",f="",h=!1;for(i.charCodeAt(0)===46&&(o.push(""),l++);l<a;){const p=i[l];f?p==="\\"&&l+1<a?(l++,c+=i[l]):p===f?f="":c+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,o.push(c),c=""):c+=p:p==="["?(h=!0,c&&(o.push(c),c="")):p==="."?c&&(o.push(c),c=""):c+=p,l++}return c&&o.push(c),o}t.toPath=r})(Db)),Db}var ZP;function KS(){return ZP||(ZP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b7(),n=n4(),r=$S(),i=GS();function o(l,c,f){if(l==null)return f;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return f;const h=l[c];return h===void 0?n.isDeepKey(c)?o(l,i.toPath(c),f):f:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=l[c];return h===void 0?f:h}default:{if(Array.isArray(c))return a(l,c,f);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return f;const h=l[c];return h===void 0?f:h}}}function a(l,c,f){if(c.length===0)return f;let h=l;for(let p=0;p<c.length;p++){if(h==null||e.isUnsafeProperty(c[p]))return f;h=h[c[p]]}return h===void 0?f:h}t.get=o})(Pb)),Pb}var Lb,ek;function w7(){return ek||(ek=1,Lb=KS().get),Lb}var T7=w7();const rh=Ni(T7);var S7=4;function Ls(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S7,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function nn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,o,a)=>{var l=n[a-1];return typeof l=="string"?i+l+o:l!==void 0?i+Ls(l)+o:i+o},"")}var zr=t=>t===0?0:t>0?1:-1,va=t=>typeof t=="number"&&t!=+t,_a=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ze=t=>(typeof t=="number"||t instanceof Number)&&!va(t),ba=t=>ze(t)||typeof t=="string",x7=0,ih=t=>{var e=++x7;return"".concat(t||"").concat(e)},oi=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ze(e)&&typeof e!="string")return r;var o;if(_a(e)){if(n==null)return r;var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return va(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},r4=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Bi(t,e,n){return ze(t)&&ze(e)?Ls(t+n*(e-t)):e}function A7(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):rh(r,e))===n)}var li=t=>t===null||typeof t>"u",Lh=t=>li(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function C7(t){return t!=null}function Uh(){}var I7=["type","size","sizeType"];function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(null,arguments)}function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(r){R7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R7(t,e,n){return(e=P7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P7(t){var e=k7(t,"string");return typeof e=="symbol"?e:e+""}function k7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M7(t,e){if(t==null)return{};var n,r,i=N7(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function N7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var i4={symbolCircle:jS,symbolCross:G8,symbolDiamond:Y8,symbolSquare:W8,symbolStar:Z8,symbolTriangle:e7,symbolWye:n7},D7=Math.PI/180,O7=t=>{var e="symbol".concat(Lh(t));return i4[e]||jS},L7=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*D7;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},U7=(t,e)=>{i4["symbol".concat(Lh(t))]=e},o4=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=M7(t,I7),o=nk(nk({},i),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var l=()=>{var g=O7(a),v=r7().type(g).size(L7(n,r,a)),T=v();if(T!==null)return T},{className:c,cx:f,cy:h}=o,p=Ri(o);return ze(f)&&ze(h)&&ze(n)?O.createElement("path",Zw({},p,{className:Sn("recharts-symbols",c),transform:"translate(".concat(f,", ").concat(h,")"),d:l()})):null};o4.registerSymbol=U7;var a4=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,V7=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{BS(i)&&(r[i]=(o=>n[i](n,o)))}),r},F7=(t,e,n)=>r=>(t(e,n,r),null),z7=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];BS(i)&&typeof o=="function"&&(r||(r={}),r[i]=F7(o,e,n))}),r};function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(n),!0).forEach(function(r){q7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q7(t,e,n){return(e=H7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H7(t){var e=j7(t,"string");return typeof e=="symbol"?e:e+""}function j7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ko(t,e){var n=B7({},t),r=e,i=Object.keys(e),o=i.reduce((a,l)=>(a[l]===void 0&&r[l]!==void 0&&(a[l]=r[l]),a),n);return o}var Ub={},Vb={},ik;function $7(){return ik||(ik=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const a=n[o],l=r(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}t.uniqBy=e})(Vb)),Vb}var Fb={},ok;function s4(){return ok||(ok=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Fb)),Fb}var zb={},Bb={},qb={},ak;function G7(){return ak||(ak=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(qb)),qb}var sk;function YS(){return sk||(sk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G7();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Bb)),Bb}var Hb={},lk;function K7(){return lk||(lk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Hb)),Hb}var uk;function Y7(){return uk||(uk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YS(),n=K7();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(zb)),zb}var jb={},$b={},ck;function W7(){return ck||(ck=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KS();function n(r){return function(i){return e.get(i,r)}}t.property=n})($b)),$b}var Gb={},Kb={},Yb={},Wb={},fk;function l4(){return fk||(fk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Wb)),Wb}var Jb={},dk;function u4(){return dk||(dk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Jb)),Jb}var Xb={},hk;function c4(){return hk||(hk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Xb)),Xb}var pk;function J7(){return pk||(pk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l4(),n=u4(),r=c4();function i(h,p,g){return typeof g!="function"?i(h,p,()=>{}):o(h,p,function v(T,x,S,C,L,M){const G=g(T,x,S,C,L,M);return G!==void 0?!!G:o(T,x,v,M)},new Map)}function o(h,p,g,v){if(p===h)return!0;switch(typeof p){case"object":return a(h,p,g,v);case"function":return Object.keys(p).length>0?o(h,{...p},g,v):r.eq(h,p);default:return e.isObject(h)?typeof p=="string"?p==="":!0:r.eq(h,p)}}function a(h,p,g,v){if(p==null)return!0;if(Array.isArray(p))return c(h,p,g,v);if(p instanceof Map)return l(h,p,g,v);if(p instanceof Set)return f(h,p,g,v);const T=Object.keys(p);if(h==null||n.isPrimitive(h))return T.length===0;if(T.length===0)return!0;if(v!=null&&v.has(p))return v.get(p)===h;v==null||v.set(p,h);try{for(let x=0;x<T.length;x++){const S=T[x];if(!n.isPrimitive(h)&&!(S in h)||p[S]===void 0&&h[S]!==void 0||p[S]===null&&h[S]!==null||!g(h[S],p[S],S,h,p,v))return!1}return!0}finally{v==null||v.delete(p)}}function l(h,p,g,v){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[T,x]of p.entries()){const S=h.get(T);if(g(S,x,T,h,p,v)===!1)return!1}return!0}function c(h,p,g,v){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const T=new Set;for(let x=0;x<p.length;x++){const S=p[x];let C=!1;for(let L=0;L<h.length;L++){if(T.has(L))continue;const M=h[L];let G=!1;if(g(M,S,x,h,p,v)&&(G=!0),G){T.add(L),C=!0;break}}if(!C)return!1}return!0}function f(h,p,g,v){return p.size===0?!0:h instanceof Set?c([...h],[...p],g,v):!1}t.isMatchWith=i,t.isSetMatch=f})(Yb)),Yb}var mk;function f4(){return mk||(mk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J7();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Kb)),Kb}var Qb={},Zb={},eE={},gk;function X7(){return gk||(gk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(eE)),eE}var tE={},yk;function d4(){return yk||(yk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(tE)),tE}var nE={},vk;function h4(){return vk||(vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",a="[object Symbol]",l="[object Date]",c="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",g="[object ArrayBuffer]",v="[object Object]",T="[object Error]",x="[object DataView]",S="[object Uint8Array]",C="[object Uint8ClampedArray]",L="[object Uint16Array]",M="[object Uint32Array]",G="[object BigUint64Array]",$="[object Int8Array]",z="[object Int16Array]",N="[object Int32Array]",U="[object BigInt64Array]",V="[object Float32Array]",k="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=g,t.arrayTag=h,t.bigInt64ArrayTag=U,t.bigUint64ArrayTag=G,t.booleanTag=i,t.dataViewTag=x,t.dateTag=l,t.errorTag=T,t.float32ArrayTag=V,t.float64ArrayTag=k,t.functionTag=p,t.int16ArrayTag=z,t.int32ArrayTag=N,t.int8ArrayTag=$,t.mapTag=c,t.numberTag=r,t.objectTag=v,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=L,t.uint32ArrayTag=M,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=C})(nE)),nE}var rE={},_k;function Q7(){return _k||(_k=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(rE)),rE}var bk;function p4(){return bk||(bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=X7(),n=d4(),r=h4(),i=u4(),o=Q7();function a(h,p){return l(h,void 0,h,new Map,p)}function l(h,p,g,v=new Map,T=void 0){const x=T==null?void 0:T(h,p,g,v);if(x!==void 0)return x;if(i.isPrimitive(h))return h;if(v.has(h))return v.get(h);if(Array.isArray(h)){const S=new Array(h.length);v.set(h,S);for(let C=0;C<h.length;C++)S[C]=l(h[C],C,g,v,T);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;v.set(h,S);for(const[C,L]of h)S.set(C,l(L,C,g,v,T));return S}if(h instanceof Set){const S=new Set;v.set(h,S);for(const C of h)S.add(l(C,void 0,g,v,T));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);v.set(h,S);for(let C=0;C<h.length;C++)S[C]=l(h[C],C,g,v,T);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return v.set(h,S),c(S,h,g,v,T),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return v.set(h,S),c(S,h,g,v,T),S}if(typeof Blob<"u"&&h instanceof Blob){const S=new Blob([h],{type:h.type});return v.set(h,S),c(S,h,g,v,T),S}if(h instanceof Error){const S=new h.constructor;return v.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,c(S,h,g,v,T),S}if(h instanceof Boolean){const S=new Boolean(h.valueOf());return v.set(h,S),c(S,h,g,v,T),S}if(h instanceof Number){const S=new Number(h.valueOf());return v.set(h,S),c(S,h,g,v,T),S}if(h instanceof String){const S=new String(h.valueOf());return v.set(h,S),c(S,h,g,v,T),S}if(typeof h=="object"&&f(h)){const S=Object.create(Object.getPrototypeOf(h));return v.set(h,S),c(S,h,g,v,T),S}return h}function c(h,p,g=h,v,T){const x=[...Object.keys(p),...e.getSymbols(p)];for(let S=0;S<x.length;S++){const C=x[S],L=Object.getOwnPropertyDescriptor(h,C);(L==null||L.writable)&&(h[C]=l(p[C],C,g,v,T))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=l,t.copyProperties=c})(Zb)),Zb}var Ek;function Z7(){return Ek||(Ek=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p4();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Qb)),Qb}var wk;function eK(){return wk||(wk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=f4(),n=Z7();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(Gb)),Gb}var iE={},oE={},aE={},Tk;function tK(){return Tk||(Tk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p4(),n=h4();function r(i,o){return e.cloneDeepWith(i,(a,l,c,f)=>{const h=o==null?void 0:o(a,l,c,f);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(aE)),aE}var Sk;function nK(){return Sk||(Sk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tK();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(oE)),oE}var sE={},lE={},xk;function m4(){return xk||(xk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(lE)),lE}var uE={},Ak;function rK(){return Ak||(Ak=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d4();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(uE)),uE}var Ck;function iK(){return Ck||(Ck=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n4(),n=m4(),r=rK(),i=GS();function o(a,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&(a==null?void 0:a[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let f=a;for(let h=0;h<c.length;h++){const p=c[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=o})(sE)),sE}var Ik;function oK(){return Ik||(Ik=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=f4(),n=$S(),r=nK(),i=KS(),o=iK();function a(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=r.cloneDeep(c),function(f){const h=i.get(f,l);return h===void 0?o.has(f,l):c===void 0?h===void 0:e.isMatch(h,c)}}t.matchesProperty=a})(iE)),iE}var Rk;function aK(){return Rk||(Rk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s4(),n=W7(),r=eK(),i=oK();function o(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=o})(jb)),jb}var Pk;function sK(){return Pk||(Pk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$7(),n=s4(),r=Y7(),i=aK();function o(a,l=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(l)):[]}t.uniqBy=o})(Ub)),Ub}var cE,kk;function lK(){return kk||(kk=1,cE=sK().uniqBy),cE}var uK=lK();const Mk=Ni(uK);function cK(t,e,n){return e===!0?Mk(t,n):typeof e=="function"?Mk(t,e):t}var fE={exports:{}},dE={},hE={exports:{}},pE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nk;function fK(){if(Nk)return pE;Nk=1;var t=Qc();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function l(p,g){var v=g(),T=r({inst:{value:v,getSnapshot:g}}),x=T[0].inst,S=T[1];return o(function(){x.value=v,x.getSnapshot=g,c(x)&&S({inst:x})},[p,v,g]),i(function(){return c(x)&&S({inst:x}),p(function(){c(x)&&S({inst:x})})},[p]),a(v),v}function c(p){var g=p.getSnapshot;p=p.value;try{var v=g();return!n(p,v)}catch{return!0}}function f(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return pE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,pE}var Dk;function dK(){return Dk||(Dk=1,hE.exports=fK()),hE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ok;function hK(){if(Ok)return dE;Ok=1;var t=Qc(),e=dK();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,a=t.useEffect,l=t.useMemo,c=t.useDebugValue;return dE.useSyncExternalStoreWithSelector=function(f,h,p,g,v){var T=o(null);if(T.current===null){var x={hasValue:!1,value:null};T.current=x}else x=T.current;T=l(function(){function C(z){if(!L){if(L=!0,M=z,z=g(z),v!==void 0&&x.hasValue){var N=x.value;if(v(N,z))return G=N}return G=z}if(N=G,r(M,z))return N;var U=g(z);return v!==void 0&&v(N,U)?(M=z,N):(M=z,G=U)}var L=!1,M,G,$=p===void 0?null:p;return[function(){return C(h())},$===null?void 0:function(){return C($())}]},[h,p,g,v]);var S=i(f,T[0],T[1]);return a(function(){x.hasValue=!0,x.value=S},[S]),c(S),S},dE}var Lk;function pK(){return Lk||(Lk=1,fE.exports=hK()),fE.exports}var mK=pK(),WS=O.createContext(null),gK=t=>t,kn=()=>{var t=O.useContext(WS);return t?t.store.dispatch:gK},Tg=()=>{},yK=()=>Tg,vK=(t,e)=>t===e;function Je(t){var e=O.useContext(WS);return mK.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:yK,e?e.store.getState:Tg,e?e.store.getState:Tg,e?t:Tg,vK)}function _K(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function bK(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function EK(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var Uk=t=>Array.isArray(t)?t:[t];function wK(t){const e=Array.isArray(t[0])?t[0]:t;return EK(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function TK(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var SK=class{constructor(t){this.value=t}deref(){return this.value}},xK=typeof WeakRef<"u"?WeakRef:SK,AK=0,Vk=1;function jm(){return{s:AK,v:void 0,o:null,p:null}}function g4(t,e={}){let n=jm();const{resultEqualityCheck:r}=e;let i,o=0;function a(){var p;let l=n;const{length:c}=arguments;for(let g=0,v=c;g<v;g++){const T=arguments[g];if(typeof T=="function"||typeof T=="object"&&T!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const S=x.get(T);S===void 0?(l=jm(),x.set(T,l)):l=S}else{let x=l.p;x===null&&(l.p=x=new Map);const S=x.get(T);S===void 0?(l=jm(),x.set(T,l)):l=S}}const f=l;let h;if(l.s===Vk)h=l.v;else if(h=t.apply(null,arguments),o++,r){const g=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;g!=null&&r(g,h)&&(h=g,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new xK(h):h}return f.s=Vk,f.v=h,h}return a.clearCache=()=>{n=jm(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function CK(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,a=0,l,c={},f=i.pop();typeof f=="object"&&(c=f,f=i.pop()),_K(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...c},{memoize:p,memoizeOptions:g=[],argsMemoize:v=g4,argsMemoizeOptions:T=[]}=h,x=Uk(g),S=Uk(T),C=wK(i),L=p(function(){return o++,f.apply(null,arguments)},...x),M=v(function(){a++;const $=TK(C,arguments);return l=L.apply(null,$),l},...S);return Object.assign(M,{resultFunc:f,memoizedResultFunc:L,dependencies:C,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:p,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var re=CK(g4),IK=Object.assign((t,e=re)=>{bK(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((a,l,c)=>(a[n[c]]=l,a),{}))},{withTypes:()=>IK}),mE={},gE={},yE={},Fk;function RK(){return Fk||(Fk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const a=e(r),l=e(i);if(a===l&&a===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?l-a:a-l}return 0};t.compareValues=n})(yE)),yE}var vE={},_E={},zk;function y4(){return zk||(zk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(_E)),_E}var Bk;function PK(){return Bk||(Bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||a!=null&&Object.hasOwn(a,o)}t.isKey=i})(vE)),vE}var qk;function kK(){return qk||(qk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RK(),n=PK(),r=GS();function i(o,a,l,c){if(o==null)return[];l=c?void 0:l,Array.isArray(o)||(o=Object.values(o)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(v=>String(v));const f=(v,T)=>{let x=v;for(let S=0;S<T.length&&x!=null;++S)x=x[T[S]];return x},h=(v,T)=>T==null||v==null?T:typeof v=="object"&&"key"in v?Object.hasOwn(T,v.key)?T[v.key]:f(T,v.path):typeof v=="function"?v(T):Array.isArray(v)?f(T,v):typeof T=="object"?T[v]:T,p=a.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return o.map(v=>({original:v,criteria:p.map(T=>h(T,v))})).slice().sort((v,T)=>{for(let x=0;x<p.length;x++){const S=e.compareValues(v.criteria[x],T.criteria[x],l[x]);if(S!==0)return S}return 0}).map(v=>v.original)}t.orderBy=i})(gE)),gE}var bE={},Hk;function MK(){return Hk||(Hk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),a=(l,c)=>{for(let f=0;f<l.length;f++){const h=l[f];Array.isArray(h)&&c<o?a(h,c+1):i.push(h)}};return a(n,0),i}t.flatten=e})(bE)),bE}var EE={},jk;function v4(){return jk||(jk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m4(),n=YS(),r=l4(),i=c4();function o(a,l,c){return r.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],a):!1}t.isIterateeCall=o})(EE)),EE}var $k;function NK(){return $k||($k=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kK(),n=MK(),r=v4();function i(o,...a){const l=a.length;return l>1&&r.isIterateeCall(o,a[0],a[1])?a=[]:l>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(o,n.flatten(a),["asc"])}t.sortBy=i})(mE)),mE}var wE,Gk;function DK(){return Gk||(Gk=1,wE=NK().sortBy),wE}var OK=DK();const uv=Ni(OK);var _4=t=>t.legend.settings,LK=t=>t.legend.size,UK=t=>t.legend.payload;re([UK,_4],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?uv(r,n):r});var $m=1;function VK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=O.useState({height:0,left:0,top:0,width:0}),r=O.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),a={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(a.height-e.height)>$m||Math.abs(a.left-e.left)>$m||Math.abs(a.top-e.top)>$m||Math.abs(a.width-e.width)>$m)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Zn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var FK=typeof Symbol=="function"&&Symbol.observable||"@@observable",Kk=FK,TE=()=>Math.random().toString(36).substring(7).split("").join("."),zK={INIT:`@@redux/INIT${TE()}`,REPLACE:`@@redux/REPLACE${TE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${TE()}`},Yg=zK;function JS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function b4(t,e,n){if(typeof t!="function")throw new Error(Zn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Zn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Zn(1));return n(b4)(t,e)}let r=t,i=e,o=new Map,a=o,l=0,c=!1;function f(){a===o&&(a=new Map,o.forEach((S,C)=>{a.set(C,S)}))}function h(){if(c)throw new Error(Zn(3));return i}function p(S){if(typeof S!="function")throw new Error(Zn(4));if(c)throw new Error(Zn(5));let C=!0;f();const L=l++;return a.set(L,S),function(){if(C){if(c)throw new Error(Zn(6));C=!1,f(),a.delete(L),o=null}}}function g(S){if(!JS(S))throw new Error(Zn(7));if(typeof S.type>"u")throw new Error(Zn(8));if(typeof S.type!="string")throw new Error(Zn(17));if(c)throw new Error(Zn(9));try{c=!0,i=r(i,S)}finally{c=!1}return(o=a).forEach(L=>{L()}),S}function v(S){if(typeof S!="function")throw new Error(Zn(10));r=S,g({type:Yg.REPLACE})}function T(){const S=p;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Zn(11));function L(){const G=C;G.next&&G.next(h())}return L(),{unsubscribe:S(L)}},[Kk](){return this}}}return g({type:Yg.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:v,[Kk]:T}}function BK(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Yg.INIT})>"u")throw new Error(Zn(12));if(typeof n(void 0,{type:Yg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Zn(13))})}function E4(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const a=e[o];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{BK(n)}catch(o){i=o}return function(a={},l){if(i)throw i;let c=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],g=n[p],v=a[p],T=g(v,l);if(typeof T>"u")throw l&&l.type,new Error(Zn(14));f[p]=T,c=c||T!==v}return c=c||r.length!==Object.keys(a).length,c?f:a}}function Wg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function qK(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(Zn(15))};const a={getState:i.getState,dispatch:(c,...f)=>o(c,...f)},l=t.map(c=>c(a));return o=Wg(...l)(i.dispatch),{...i,dispatch:o}}}function w4(t){return JS(t)&&"type"in t&&typeof t.type=="string"}var T4=Symbol.for("immer-nothing"),Yk=Symbol.for("immer-draftable"),Ir=Symbol.for("immer-state");function qi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ri=Object,Uc=ri.getPrototypeOf,Jg="constructor",cv="prototype",eT="configurable",Xg="enumerable",Sg="writable",oh="value",Ea=t=>!!t&&!!t[Ir];function Qi(t){var e;return t?S4(t)||fv(t)||!!t[Yk]||!!((e=t[Jg])!=null&&e[Yk])||dv(t)||hv(t):!1}var HK=ri[cv][Jg].toString(),Wk=new WeakMap;function S4(t){if(!t||!XS(t))return!1;const e=Uc(t);if(e===null||e===ri[cv])return!0;const n=ri.hasOwnProperty.call(e,Jg)&&e[Jg];if(n===Object)return!0;if(!hc(n))return!1;let r=Wk.get(n);return r===void 0&&(r=Function.toString.call(n),Wk.set(n,r)),r===HK}function Vh(t,e,n=!0){Fh(t)===0?(n?Reflect.ownKeys(t):ri.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Fh(t){const e=t[Ir];return e?e.type_:fv(t)?1:dv(t)?2:hv(t)?3:0}var Jk=(t,e,n=Fh(t))=>n===2?t.has(e):ri[cv].hasOwnProperty.call(t,e),tT=(t,e,n=Fh(t))=>n===2?t.get(e):t[e],Qg=(t,e,n,r=Fh(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function jK(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var fv=Array.isArray,dv=t=>t instanceof Map,hv=t=>t instanceof Set,XS=t=>typeof t=="object",hc=t=>typeof t=="function",SE=t=>typeof t=="boolean";function $K(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var sa=t=>t.copy_||t.base_,QS=t=>t.modified_?t.copy_:t.base_;function nT(t,e){if(dv(t))return new Map(t);if(hv(t))return new Set(t);if(fv(t))return Array[cv].slice.call(t);const n=S4(t);if(e===!0||e==="class_only"&&!n){const r=ri.getOwnPropertyDescriptors(t);delete r[Ir];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],l=r[a];l[Sg]===!1&&(l[Sg]=!0,l[eT]=!0),(l.get||l.set)&&(r[a]={[eT]:!0,[Sg]:!0,[Xg]:l[Xg],[oh]:t[a]})}return ri.create(Uc(t),r)}else{const r=Uc(t);if(r!==null&&n)return{...t};const i=ri.create(r);return ri.assign(i,t)}}function ZS(t,e=!1){return pv(t)||Ea(t)||!Qi(t)||(Fh(t)>1&&ri.defineProperties(t,{set:Gm,add:Gm,clear:Gm,delete:Gm}),ri.freeze(t),e&&Vh(t,(n,r)=>{ZS(r,!0)},!1)),t}function GK(){qi(2)}var Gm={[oh]:GK};function pv(t){return t===null||!XS(t)?!0:ri.isFrozen(t)}var Zg="MapSet",rT="Patches",Xk="ArrayMethods",x4={};function eu(t){const e=x4[t];return e||qi(0,t),e}var Qk=t=>!!x4[t],ah,A4=()=>ah,KK=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Qk(Zg)?eu(Zg):void 0,arrayMethodsPlugin_:Qk(Xk)?eu(Xk):void 0});function Zk(t,e){e&&(t.patchPlugin_=eu(rT),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function iT(t){oT(t),t.drafts_.forEach(YK),t.drafts_=null}function oT(t){t===ah&&(ah=t.parent_)}var eM=t=>ah=KK(ah,t);function YK(t){const e=t[Ir];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function tM(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Ir].modified_&&(iT(e),qi(4)),Qi(t)&&(t=nM(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Ir].base_,t,e)}else t=nM(e,n);return WK(e,t,!0),iT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==T4?t:void 0}function nM(t,e){if(pv(e))return e;const n=e[Ir];if(!n)return ex(e,t.handledSet_,t);if(!mv(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);R4(n,t)}return n.copy_}function WK(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&ZS(e,n)}function C4(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var mv=(t,e)=>t.scope_===e,JK=[];function I4(t,e,n,r){const i=sa(t),o=t.type_;if(r!==void 0&&tT(i,r,o)===e){Qg(i,r,n,o);return}if(!t.draftLocations_){const l=t.draftLocations_=new Map;Vh(i,(c,f)=>{if(Ea(f)){const h=l.get(f)||[];h.push(c),l.set(f,h)}})}const a=t.draftLocations_.get(e)??JK;for(const l of a)Qg(i,l,n,o)}function XK(t,e,n){t.callbacks_.push(function(i){var l;const o=e;if(!o||!mv(o,i))return;(l=i.mapSetPlugin_)==null||l.fixSetContents(o);const a=QS(o);I4(t,o.draft_??o,a,n),R4(o,i)})}function R4(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const o=i.getPath(t);o&&i.generatePatches_(t,o,e)}C4(t)}}function QK(t,e,n){const{scope_:r}=t;if(Ea(n)){const i=n[Ir];mv(i,r)&&i.callbacks_.push(function(){xg(t);const a=QS(i);I4(t,n,a,e)})}else Qi(n)&&t.callbacks_.push(function(){const o=sa(t);tT(o,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&ex(tT(t.copy_,e,t.type_),r.handledSet_,r)})}function ex(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ea(t)||e.has(t)||!Qi(t)||pv(t)||(e.add(t),Vh(t,(r,i)=>{if(Ea(i)){const o=i[Ir];if(mv(o,n)){const a=QS(o);Qg(t,r,a,t.type_),C4(o)}}else Qi(i)&&ex(i,e,n)})),t}function ZK(t,e){const n=fv(t),r={type_:n?1:0,scope_:e?e.scope_:A4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=tx;n&&(i=[r],o=sh);const{revoke:a,proxy:l}=Proxy.revocable(i,o);return r.draft_=l,r.revoke_=a,[l,r]}var tx={get(t,e){if(e===Ir)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n!=null&&n.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=sa(t);if(!Jk(i,e,t.type_))return eY(t,i,e);const o=i[e];if(t.finalized_||!Qi(o)||r&&t.operationMethod&&(n!=null&&n.isMutatingArrayMethod(t.operationMethod))&&$K(e))return o;if(o===xE(t.base_,e)){xg(t);const a=t.type_===1?+e:e,l=sT(t.scope_,o,t,a);return t.copy_[a]=l}return o},has(t,e){return e in sa(t)},ownKeys(t){return Reflect.ownKeys(sa(t))},set(t,e,n){const r=P4(sa(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=xE(sa(t),e),o=i==null?void 0:i[Ir];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(jK(n,i)&&(n!==void 0||Jk(t.base_,e,t.type_)))return!0;xg(t),aT(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),QK(t,e,n)),!0},deleteProperty(t,e){return xg(t),xE(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),aT(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=sa(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Sg]:!0,[eT]:t.type_!==1||e!=="length",[Xg]:r[Xg],[oh]:n[e]}},defineProperty(){qi(11)},getPrototypeOf(t){return Uc(t.base_)},setPrototypeOf(){qi(12)}},sh={};Vh(tx,(t,e)=>{sh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});sh.deleteProperty=function(t,e){return sh.set.call(this,t,e,void 0)};sh.set=function(t,e,n){return tx.set.call(this,t[0],e,n,t[0])};function xE(t,e){const n=t[Ir];return(n?sa(n):t)[e]}function eY(t,e,n){var i;const r=P4(e,n);return r?oh in r?r[oh]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function P4(t,e){if(!(e in t))return;let n=Uc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Uc(n)}}function aT(t){t.modified_||(t.modified_=!0,t.parent_&&aT(t.parent_))}function xg(t){t.copy_||(t.assigned_=new Map,t.copy_=nT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var tY=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(hc(n)&&!hc(r)){const a=r;r=n;const l=this;return function(f=a,...h){return l.produce(f,p=>r.call(this,p,...h))}}hc(r)||qi(6),i!==void 0&&!hc(i)&&qi(7);let o;if(Qi(n)){const a=eM(this),l=sT(a,n,void 0);let c=!0;try{o=r(l),c=!1}finally{c?iT(a):oT(a)}return Zk(a,i),tM(o,a)}else if(!n||!XS(n)){if(o=r(n),o===void 0&&(o=n),o===T4&&(o=void 0),this.autoFreeze_&&ZS(o,!0),i){const a=[],l=[];eu(rT).generateReplacementPatches_(n,o,{patches_:a,inversePatches_:l}),i(a,l)}return o}else qi(1,n)},this.produceWithPatches=(n,r)=>{if(hc(n))return(l,...c)=>this.produceWithPatches(l,f=>n(f,...c));let i,o;return[this.produce(n,r,(l,c)=>{i=l,o=c}),i,o]},SE(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),SE(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),SE(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Qi(e)||qi(8),Ea(e)&&(e=Ki(e));const n=eM(this),r=sT(n,e,void 0);return r[Ir].isManual_=!0,oT(n),r}finishDraft(e,n){const r=e&&e[Ir];(!r||!r.isManual_)&&qi(9);const{scope_:i}=r;return Zk(i,n),tM(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(n=n.slice(r+1));const i=eu(rT).applyPatches_;return Ea(e)?i(e,n):this.produce(e,o=>i(o,n))}};function sT(t,e,n,r){const[i,o]=dv(e)?eu(Zg).proxyMap_(e,n):hv(e)?eu(Zg).proxySet_(e,n):ZK(e,n);return((n==null?void 0:n.scope_)??A4()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?XK(n,o,r):o.callbacks_.push(function(c){var h;(h=c.mapSetPlugin_)==null||h.fixSetContents(o);const{patchPlugin_:f}=c;o.modified_&&f&&f.generatePatches_(o,[],c)}),i}function Ki(t){return Ea(t)||qi(10,t),k4(t)}function k4(t){if(!Qi(t)||pv(t))return t;const e=t[Ir];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=nT(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=nT(t,!0);return Vh(n,(i,o)=>{Qg(n,i,k4(o))},r),e&&(e.finalized_=!1),n}var nY=new tY,M4=nY.produce;function N4(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var rY=N4(),iY=N4,oY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Wg:Wg.apply(null,arguments)};function Pi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ai(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>w4(r)&&r.type===t,n}var D4=class Ld extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ld.prototype)}static get[Symbol.species](){return Ld}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ld(...e[0].concat(this)):new Ld(...e.concat(this))}};function rM(t){return Qi(t)?M4(t,()=>{}):t}function Km(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function aY(t){return typeof t=="boolean"}var sY=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let a=new D4;return n&&(aY(n)?a.push(rY):a.push(iY(n.extraArgument))),a},O4="RTK_autoBatch",jt=()=>t=>({payload:t,meta:{[O4]:!0}}),iM=t=>e=>{setTimeout(e,t)},L4=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,a=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:iM(10):t.type==="callback"?t.queueNotification:iM(t.timeout),f=()=>{a=!1,o&&(o=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),g=r.subscribe(p);return l.add(h),()=>{g(),l.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[O4]),o=!i,o&&(a||(a=!0,c(f))),r.dispatch(h)}finally{i=!0}}})},lY=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new D4(t);return r&&i.push(L4(typeof r=="object"?r:void 0)),i};function uY(t){const e=sY(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:a=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(JS(n))l=E4(n);else throw new Error(ai(1));let c;typeof r=="function"?c=r(e):c=e();let f=Wg;i&&(f=oY({trace:!1,...typeof i=="object"&&i}));const h=qK(...c),p=lY(h);let g=typeof a=="function"?a(p):p();const v=f(...g);return b4(l,o,v)}function U4(t){const e={},n=[];let r;const i={addCase(o,a){const l=typeof o=="string"?o:o.type;if(!l)throw new Error(ai(28));if(l in e)throw new Error(ai(29));return e[l]=a,i},addAsyncThunk(o,a){return a.pending&&(e[o.pending.type]=a.pending),a.rejected&&(e[o.rejected.type]=a.rejected),a.fulfilled&&(e[o.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:o.settled,reducer:a.settled}),i},addMatcher(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function cY(t){return typeof t=="function"}function fY(t,e){let[n,r,i]=U4(e),o;if(cY(t))o=()=>rM(t());else{const l=rM(t);o=()=>l}function a(l=o(),c){let f=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(Ea(h)){const v=p(h,c);return v===void 0?h:v}else{if(Qi(h))return M4(h,g=>p(g,c));{const g=p(h,c);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},l)}return a.getInitialState=o,a}var dY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",hY=(t=21)=>{let e="",n=t;for(;n--;)e+=dY[Math.random()*64|0];return e},pY=Symbol.for("rtk-slice-createasyncthunk");function mY(t,e){return`${t}/${e}`}function gY({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[pY];return function(i){const{name:o,reducerPath:a=o}=i;if(!o)throw new Error(ai(11));const l=(typeof i.reducers=="function"?i.reducers(vY()):i.reducers)||{},c=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(G,$){const z=typeof G=="string"?G:G.type;if(!z)throw new Error(ai(12));if(z in f.sliceCaseReducersByType)throw new Error(ai(13));return f.sliceCaseReducersByType[z]=$,h},addMatcher(G,$){return f.sliceMatchers.push({matcher:G,reducer:$}),h},exposeAction(G,$){return f.actionCreators[G]=$,h},exposeCaseReducer(G,$){return f.sliceCaseReducersByName[G]=$,h}};c.forEach(G=>{const $=l[G],z={reducerName:G,type:mY(o,G),createNotation:typeof i.reducers=="function"};bY($)?wY(z,$,h,e):_Y(z,$,h)});function p(){const[G={},$=[],z=void 0]=typeof i.extraReducers=="function"?U4(i.extraReducers):[i.extraReducers],N={...G,...f.sliceCaseReducersByType};return fY(i.initialState,U=>{for(let V in N)U.addCase(V,N[V]);for(let V of f.sliceMatchers)U.addMatcher(V.matcher,V.reducer);for(let V of $)U.addMatcher(V.matcher,V.reducer);z&&U.addDefaultCase(z)})}const g=G=>G,v=new Map,T=new WeakMap;let x;function S(G,$){return x||(x=p()),x(G,$)}function C(){return x||(x=p()),x.getInitialState()}function L(G,$=!1){function z(U){let V=U[G];return typeof V>"u"&&$&&(V=Km(T,z,C)),V}function N(U=g){const V=Km(v,$,()=>new WeakMap);return Km(V,U,()=>{const k={};for(const[P,F]of Object.entries(i.selectors??{}))k[P]=yY(F,U,()=>Km(T,U,C),$);return k})}return{reducerPath:G,getSelectors:N,get selectors(){return N(z)},selectSlice:z}}const M={name:o,reducer:S,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:C,...L(a),injectInto(G,{reducerPath:$,...z}={}){const N=$??a;return G.inject({reducerPath:N,reducer:S},z),{...M,...L(N,!0)}}};return M}}function yY(t,e,n,r){function i(o,...a){let l=e(o);return typeof l>"u"&&r&&(l=n()),t(l,...a)}return i.unwrapped=t,i}var Hr=gY();function vY(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function _Y({type:t,reducerName:e,createNotation:n},r,i){let o,a;if("reducer"in r){if(n&&!EY(r))throw new Error(ai(17));o=r.reducer,a=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,a?Pi(t,a):Pi(t))}function bY(t){return t._reducerDefinitionType==="asyncThunk"}function EY(t){return t._reducerDefinitionType==="reducerWithPrepare"}function wY({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ai(18));const{payloadCreator:o,fulfilled:a,pending:l,rejected:c,settled:f,options:h}=n,p=i(t,o,h);r.exposeAction(e,p),a&&r.addCase(p.fulfilled,a),l&&r.addCase(p.pending,l),c&&r.addCase(p.rejected,c),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:a||Ym,pending:l||Ym,rejected:c||Ym,settled:f||Ym})}function Ym(){}var TY="task",V4="listener",F4="completed",nx="cancelled",SY=`task-${nx}`,xY=`task-${F4}`,lT=`${V4}-${nx}`,AY=`${V4}-${F4}`,gv=class{constructor(t){bb(this,"name","TaskAbortError");bb(this,"message");this.code=t,this.message=`${TY} ${nx} (reason: ${t})`}},rx=(t,e)=>{if(typeof t!="function")throw new TypeError(ai(32))},ey=()=>{},z4=(t,e=ey)=>(t.catch(e),t),B4=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Gl=t=>{if(t.aborted)throw new gv(t.reason)};function q4(t,e){let n=ey;return new Promise((r,i)=>{const o=()=>i(new gv(t.reason));if(t.aborted){o();return}n=B4(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=ey})}var CY=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof gv?"cancelled":"rejected",error:n}}finally{e==null||e()}},ty=t=>e=>z4(q4(t,e).then(n=>(Gl(t),n))),H4=t=>{const e=ty(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:xc}=Object,oM={},yv="listenerMiddleware",IY=(t,e)=>{const n=r=>B4(t,()=>r.abort(t.reason));return(r,i)=>{rx(r);const o=new AbortController;n(o);const a=CY(async()=>{Gl(t),Gl(o.signal);const l=await r({pause:ty(o.signal),delay:H4(o.signal),signal:o.signal});return Gl(o.signal),l},()=>o.abort(xY));return i!=null&&i.autoJoin&&e.push(a.catch(ey)),{result:ty(t)(a),cancel(){o.abort(SY)}}}},RY=(t,e)=>{const n=async(r,i)=>{Gl(e);let o=()=>{};const l=[new Promise((c,f)=>{let h=t({predicate:r,effect:(p,g)=>{g.unsubscribe(),c([p,g.getState(),g.getOriginalState()])}});o=()=>{h(),f()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await q4(e,Promise.race(l));return Gl(e),c}finally{o()}};return(r,i)=>z4(n(r,i))},j4=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=Pi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ai(21));return rx(o),{predicate:i,type:e,effect:o}},$4=xc(t=>{const{type:e,predicate:n,effect:r}=j4(t);return{id:hY(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ai(22))}}},{withTypes:()=>$4}),aM=(t,e)=>{const{type:n,effect:r,predicate:i}=j4(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},uT=t=>{t.pending.forEach(e=>{e.abort(lT)})},PY=(t,e)=>()=>{for(const n of e.keys())uT(n);t.clear()},sM=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},G4=xc(Pi(`${yv}/add`),{withTypes:()=>G4}),kY=Pi(`${yv}/removeAll`),K4=xc(Pi(`${yv}/remove`),{withTypes:()=>K4}),MY=(...t)=>{console.error(`${yv}/error`,...t)},zh=(t={})=>{const e=new Map,n=new Map,r=v=>{const T=n.get(v)??0;n.set(v,T+1)},i=v=>{const T=n.get(v)??1;T===1?n.delete(v):n.set(v,T-1)},{extra:o,onError:a=MY}=t;rx(a);const l=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),T=>{v.unsubscribe(),T!=null&&T.cancelActive&&uT(v)}),c=v=>{const T=aM(e,v)??$4(v);return l(T)};xc(c,{withTypes:()=>c});const f=v=>{const T=aM(e,v);return T&&(T.unsubscribe(),v.cancelActive&&uT(T)),!!T};xc(f,{withTypes:()=>f});const h=async(v,T,x,S)=>{const C=new AbortController,L=RY(c,C.signal),M=[];try{v.pending.add(C),r(v),await Promise.resolve(v.effect(T,xc({},x,{getOriginalState:S,condition:(G,$)=>L(G,$).then(Boolean),take:L,delay:H4(C.signal),pause:ty(C.signal),extra:o,signal:C.signal,fork:IY(C.signal,M),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((G,$,z)=>{G!==C&&(G.abort(lT),z.delete(G))})},cancel:()=>{C.abort(lT),v.pending.delete(C)},throwIfCancelled:()=>{Gl(C.signal)}})))}catch(G){G instanceof gv||sM(a,G,{raisedBy:"effect"})}finally{await Promise.all(M),C.abort(AY),i(v),v.pending.delete(C)}},p=PY(e,n);return{middleware:v=>T=>x=>{if(!w4(x))return T(x);if(G4.match(x))return c(x.payload);if(kY.match(x)){p();return}if(K4.match(x))return f(x.payload);let S=v.getState();const C=()=>{if(S===oM)throw new Error(ai(23));return S};let L;try{if(L=T(x),e.size>0){const M=v.getState(),G=Array.from(e.values());for(const $ of G){let z=!1;try{z=$.predicate(x,M,S)}catch(N){z=!1,sM(a,N,{raisedBy:"predicate"})}z&&h($,x,v,C)}}}finally{S=oM}return L},startListening:c,stopListening:f,clearListeners:p}};function ai(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var NY={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Y4=Hr({name:"chartLayout",initialState:NY,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:DY,setLayout:OY,setChartSize:LY,setScale:UY}=Y4.actions,VY=Y4.reducer;function W4(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function xn(t){return Number.isFinite(t)}function js(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function lM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lM(Object(n),!0).forEach(function(r){FY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FY(t,e,n){return(e=zY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zY(t){var e=BY(t,"string");return typeof e=="symbol"?e:e+""}function BY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function an(t,e,n){return li(t)||li(e)?n:ba(e)?rh(t,e,n):typeof e=="function"?e(t):n}var qY=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:a,layout:l}=e;if((l==="vertical"||l==="horizontal"&&a==="middle")&&o!=="center"&&ze(t[o]))return _c(_c({},t),{},{[o]:t[o]+(r||0)});if((l==="horizontal"||l==="vertical"&&o==="center")&&a!=="middle"&&ze(t[a]))return _c(_c({},t),{},{[a]:t[a]+(i||0)})}return t},hu=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",uM=1e-4,HY=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-uM,o=Math.max(r[0],r[1])+uM,a=t(e[0]),l=t(e[n-1]);(a<i||a>o||l<i||l>o)&&t.domain([e[0],e[n-1]])}},jY=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,a=0,l=0;l<n;++l){var c=t[l],f=c==null?void 0:c[i];if(f!=null){var h=f[1],p=f[0],g=va(h)?p:h;g>=0?(f[0]=o,f[1]=o+g,o=h):(f[0]=a,f[1]=a+g,a=h)}}}},$Y=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,a=0;a<n;++a){var l=t[a],c=l==null?void 0:l[i];if(c!=null){var f=va(c[1])?c[0]:c[1];f>=0?(c[0]=o,c[1]=o+f,o=c[1]):(c[0]=0,c[1]=0)}}}},GY={sign:jY,expand:y7,none:Zl,silhouette:v7,wiggle:_7,positive:$Y},KY=(t,e,n)=>{var r,i=(r=GY[n])!==null&&r!==void 0?r:Zl,o=g7().keys(e).value((l,c)=>Number(an(l,c,0))).order(Qw).offset(i),a=o(t);return a.forEach((l,c)=>{l.forEach((f,h)=>{var p=an(t[h],e[c],0);Array.isArray(p)&&p.length===2&&ze(p[0])&&ze(p[1])&&(f[0]=p[0],f[1]=p[1])})}),a},YY=t=>{var e=t.flat(2).filter(ze);return[Math.min(...e),Math.max(...e)]},WY=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],JY=(t,e,n)=>{if(t!=null)return WY(Object.keys(t).reduce((r,i)=>{var o=t[i];if(!o)return r;var{stackedData:a}=o,l=a.reduce((c,f)=>{var h=W4(f,e,n),p=YY(h);return!xn(p[0])||!xn(p[1])?c:[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},cM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dM=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();return r}if(t&&e&&e.length>=2){for(var i=uv(e,h=>h.coordinate),o=1/0,a=1,l=i.length;a<l;a++){var c=i[a],f=i[a-1];o=Math.min(((c==null?void 0:c.coordinate)||0)-((f==null?void 0:f.coordinate)||0),o)}return o===1/0?0:o}return n?void 0:0};function hM(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return _c(_c({},e),{},{dataKey:n,payload:r,value:i,name:o})}function J4(t,e){if(t)return String(t);if(typeof e=="string")return e}var XY=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},QY=(t,e)=>e==="centric"?t.angle:t.radius,ka=t=>t.layout.width,Ma=t=>t.layout.height,ZY=t=>t.layout.scale,X4=t=>t.layout.margin,vv=re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),_v=re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Q4="data-recharts-item-index",Z4="data-recharts-item-id",Bh=60;function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){eW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eW(t,e,n){return(e=tW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tW(t){var e=nW(t,"string");return typeof e=="symbol"?e:e+""}function nW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rW=t=>t.brush.height;function iW(t){var e=_v(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Bh;return n+i}return n},0)}function oW(t){var e=_v(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Bh;return n+i}return n},0)}function aW(t){var e=vv(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function sW(t){var e=vv(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var jn=re([ka,Ma,X4,rW,iW,oW,aW,sW,_4,LK],(t,e,n,r,i,o,a,l,c,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+o},p={top:(n.top||0)+a,bottom:(n.bottom||0)+l},g=Wm(Wm({},p),h),v=g.bottom;g.bottom+=r,g=qY(g,c,f);var T=t-g.left-g.right,x=e-g.top-g.bottom;return Wm(Wm({brushBottom:v},g),{},{width:Math.max(T,0),height:Math.max(x,0)})}),lW=re(jn,t=>({x:t.left,y:t.top,width:t.width,height:t.height}));re(ka,Ma,(t,e)=>({x:0,y:0,width:t,height:e}));var uW=O.createContext(null),Qs=()=>O.useContext(uW)!=null,bv=t=>t.brush,Ev=re([bv,jn,X4],(t,e,n)=>({height:t.height,x:ze(t.x)?t.x:e.left,y:ze(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:ze(t.width)?t.width:e.width})),AE={},CE={},IE={},mM;function cW(){return mM||(mM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let a,l=null;const c=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),h=()=>{l!==null&&(n.apply(a,l),a=void 0,l=null)},p=()=>{f&&h(),x()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},T=()=>{g!==null&&(clearTimeout(g),g=null)},x=()=>{T(),a=void 0,l=null},S=()=>{h()},C=function(...L){if(i!=null&&i.aborted)return;a=this,l=L;const M=g==null;v(),c&&M&&h()};return C.schedule=v,C.cancel=x,C.flush=S,i==null||i.addEventListener("abort",x,{once:!0}),C}t.debounce=e})(IE)),IE}var gM;function fW(){return gM||(gM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cW();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:a=!1,trailing:l=!0,maxWait:c}=o,f=Array(2);a&&(f[0]="leading"),l&&(f[1]="trailing");let h,p=null;const g=e.debounce(function(...x){h=r.apply(this,x),p=null},i,{edges:f}),v=function(...x){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(h=r.apply(this,x),p=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,x),h)},T=()=>(g.flush(),h);return v.cancel=g.cancel,v.flush=T,v}t.debounce=n})(CE)),CE}var yM;function dW(){return yM||(yM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fW();function n(r,i=0,o={}){const{leading:a=!0,trailing:l=!0}=o;return e.debounce(r,i,{leading:a,maxWait:i,trailing:l})}t.throttle=n})(AE)),AE}var RE,vM;function hW(){return vM||(vM=1,RE=dW().throttle),RE}var pW=hW();const mW=Ni(pW);var _M=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},eF=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:a}=n,l=_a(r)?t:Number(r),c=_a(i)?e:Number(i);return o&&o>0&&(l?c=l/o:c&&(l=c*o),a&&c!=null&&c>a&&(c=a)),{calculatedWidth:l,calculatedHeight:c}},gW={width:0,height:0,overflow:"visible"},yW={width:0,overflowX:"visible"},vW={height:0,overflowY:"visible"},_W={},bW=t=>{var{width:e,height:n}=t,r=_a(e),i=_a(n);return r&&i?gW:r?yW:i?vW:_W};function EW(t){var{width:e,height:n,aspect:r}=t,i=e,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function cT(){return cT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cT.apply(null,arguments)}function bM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(n),!0).forEach(function(r){wW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wW(t,e,n){return(e=TW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TW(t){var e=SW(t,"string");return typeof e=="symbol"?e:e+""}function SW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tF=O.createContext({width:-1,height:-1});function xW(t){return js(t.width)&&js(t.height)}function nF(t){var{children:e,width:n,height:r}=t,i=O.useMemo(()=>({width:n,height:r}),[n,r]);return xW(i)?O.createElement(tF.Provider,{value:i},e):null}var ix=()=>O.useContext(tF),AW=O.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:a=0,minHeight:l,maxHeight:c,children:f,debounce:h=0,id:p,className:g,onResize:v,style:T={}}=t,x=O.useRef(null),S=O.useRef();S.current=v,O.useImperativeHandle(e,()=>x.current);var[C,L]=O.useState({containerWidth:r.width,containerHeight:r.height}),M=O.useCallback((U,V)=>{L(k=>{var P=Math.round(U),F=Math.round(V);return k.containerWidth===P&&k.containerHeight===F?k:{containerWidth:P,containerHeight:F}})},[]);O.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return Uh;var U=F=>{var B,{width:ie,height:ae}=F[0].contentRect;M(ie,ae),(B=S.current)===null||B===void 0||B.call(S,ie,ae)};h>0&&(U=mW(U,h,{trailing:!0,leading:!1}));var V=new ResizeObserver(U),{width:k,height:P}=x.current.getBoundingClientRect();return M(k,P),V.observe(x.current),()=>{V.disconnect()}},[M,h]);var{containerWidth:G,containerHeight:$}=C;_M(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:z,calculatedHeight:N}=eF(G,$,{width:i,height:o,aspect:n,maxHeight:c});return _M(z!=null&&z>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,N,i,o,a,l,n),O.createElement("div",{id:p?"".concat(p):void 0,className:Sn("recharts-responsive-container",g),style:EM(EM({},T),{},{width:i,height:o,minWidth:a,minHeight:l,maxHeight:c}),ref:x},O.createElement("div",{style:bW({width:i,height:o})},O.createElement(nF,{width:z,height:N},f)))}),CW=O.forwardRef((t,e)=>{var n=ix();if(js(n.width)&&js(n.height))return t.children;var{width:r,height:i}=EW({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:o,calculatedHeight:a}=eF(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return ze(o)&&ze(a)?O.createElement(nF,{width:o,height:a},t.children):O.createElement(AW,cT({},t,{width:r,height:i,ref:e}))});function rF(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var wv=()=>{var t,e=Qs(),n=Je(lW),r=Je(Ev),i=(t=Je(bv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},IW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},RW=()=>{var t;return(t=Je(jn))!==null&&t!==void 0?t:IW},PW=()=>Je(ka),kW=()=>Je(Ma),Lt=t=>t.layout.layoutType,Tv=()=>Je(Lt),MW=()=>{var t=Tv();return t!==void 0},Sv=t=>{var e=kn(),n=Qs(),{width:r,height:i}=t,o=ix(),a=r,l=i;return o&&(a=o.width>0?o.width:r,l=o.height>0?o.height:i),O.useEffect(()=>{!n&&js(a)&&js(l)&&e(LY({width:a,height:l}))},[e,n,a,l]),null},iF=Symbol.for("immer-nothing"),wM=Symbol.for("immer-draftable"),ui=Symbol.for("immer-state");function Hi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var lh=Object.getPrototypeOf;function Vc(t){return!!t&&!!t[ui]}function tu(t){var e;return t?oF(t)||Array.isArray(t)||!!t[wM]||!!((e=t.constructor)!=null&&e[wM])||qh(t)||Av(t):!1}var NW=Object.prototype.constructor.toString(),TM=new WeakMap;function oF(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=TM.get(n);return r===void 0&&(r=Function.toString.call(n),TM.set(n,r)),r===NW}function ny(t,e,n=!0){xv(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function xv(t){const e=t[ui];return e?e.type_:Array.isArray(t)?1:qh(t)?2:Av(t)?3:0}function fT(t,e){return xv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function aF(t,e,n){const r=xv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function DW(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function qh(t){return t instanceof Map}function Av(t){return t instanceof Set}function Ll(t){return t.copy_||t.base_}function dT(t,e){if(qh(t))return new Map(t);if(Av(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=oF(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ui];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],l=r[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[a]})}return Object.create(lh(t),r)}else{const r=lh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function ox(t,e=!1){return Cv(t)||Vc(t)||!tu(t)||(xv(t)>1&&Object.defineProperties(t,{set:Jm,add:Jm,clear:Jm,delete:Jm}),Object.freeze(t),e&&Object.values(t).forEach(n=>ox(n,!0))),t}function OW(){Hi(2)}var Jm={value:OW};function Cv(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var LW={};function nu(t){const e=LW[t];return e||Hi(0,t),e}var uh;function sF(){return uh}function UW(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function SM(t,e){e&&(nu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function hT(t){pT(t),t.drafts_.forEach(VW),t.drafts_=null}function pT(t){t===uh&&(uh=t.parent_)}function xM(t){return uh=UW(uh,t)}function VW(t){const e=t[ui];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function AM(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ui].modified_&&(hT(e),Hi(4)),tu(t)&&(t=ry(e,t),e.parent_||iy(e,t)),e.patches_&&nu("Patches").generateReplacementPatches_(n[ui].base_,t,e.patches_,e.inversePatches_)):t=ry(e,n,[]),hT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==iF?t:void 0}function ry(t,e,n){if(Cv(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[ui];if(!i)return ny(e,(o,a)=>CM(t,i,e,o,a,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return iy(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let a=o,l=!1;i.type_===3&&(a=new Set(o),o.clear(),l=!0),ny(a,(c,f)=>CM(t,i,o,c,f,n,l),r),iy(t,o,!1),n&&t.patches_&&nu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function CM(t,e,n,r,i,o,a){if(i==null||typeof i!="object"&&!a)return;const l=Cv(i);if(!(l&&!a)){if(Vc(i)){const c=o&&e&&e.type_!==3&&!fT(e.assigned_,r)?o.concat(r):void 0,f=ry(t,i,c);if(aF(n,r,f),Vc(f))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(tu(i)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&l)return;ry(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(qh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&iy(t,i)}}}function iy(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&ox(e,n)}function FW(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:sF(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=ax;n&&(i=[r],o=ch);const{revoke:a,proxy:l}=Proxy.revocable(i,o);return r.draft_=l,r.revoke_=a,l}var ax={get(t,e){if(e===ui)return t;const n=Ll(t);if(!fT(n,e))return zW(t,n,e);const r=n[e];return t.finalized_||!tu(r)?r:r===PE(t.base_,e)?(kE(t),t.copy_[e]=gT(r,t)):r},has(t,e){return e in Ll(t)},ownKeys(t){return Reflect.ownKeys(Ll(t))},set(t,e,n){const r=lF(Ll(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=PE(Ll(t),e),o=i==null?void 0:i[ui];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(DW(n,i)&&(n!==void 0||fT(t.base_,e)))return!0;kE(t),mT(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return PE(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,kE(t),mT(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ll(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Hi(11)},getPrototypeOf(t){return lh(t.base_)},setPrototypeOf(){Hi(12)}},ch={};ny(ax,(t,e)=>{ch[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ch.deleteProperty=function(t,e){return ch.set.call(this,t,e,void 0)};ch.set=function(t,e,n){return ax.set.call(this,t[0],e,n,t[0])};function PE(t,e){const n=t[ui];return(n?Ll(n):t)[e]}function zW(t,e,n){var i;const r=lF(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function lF(t,e){if(!(e in t))return;let n=lh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=lh(n)}}function mT(t){t.modified_||(t.modified_=!0,t.parent_&&mT(t.parent_))}function kE(t){t.copy_||(t.copy_=dT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var BW=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const a=this;return function(c=o,...f){return a.produce(c,h=>n.call(this,h,...f))}}typeof n!="function"&&Hi(6),r!==void 0&&typeof r!="function"&&Hi(7);let i;if(tu(e)){const o=xM(this),a=gT(e,void 0);let l=!0;try{i=n(a),l=!1}finally{l?hT(o):pT(o)}return SM(o,r),AM(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===iF&&(i=void 0),this.autoFreeze_&&ox(i,!0),r){const o=[],a=[];nu("Patches").generateReplacementPatches_(e,i,o,a),r(o,a)}return i}else Hi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,c=>e(c,...l));let r,i;return[this.produce(e,n,(a,l)=>{r=a,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){tu(t)||Hi(8),Vc(t)&&(t=qW(t));const e=xM(this),n=gT(t,void 0);return n[ui].isManual_=!0,pT(e),n}finishDraft(t,e){const n=t&&t[ui];(!n||!n.isManual_)&&Hi(9);const{scope_:r}=n;return SM(r,e),AM(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=nu("Patches").applyPatches_;return Vc(t)?r(t,e):this.produce(t,i=>r(i,e))}};function gT(t,e){const n=qh(t)?nu("MapSet").proxyMap_(t,e):Av(t)?nu("MapSet").proxySet_(t,e):FW(t,e);return(e?e.scope_:sF()).drafts_.push(n),n}function qW(t){return Vc(t)||Hi(10,t),uF(t)}function uF(t){if(!tu(t)||Cv(t))return t;const e=t[ui];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=dT(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=dT(t,!0);return ny(n,(i,o)=>{aF(n,i,uF(o))},r),e&&(e.finalized_=!1),n}var HW=new BW;HW.produce;var jW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},cF=Hr({name:"legend",initialState:jW,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:jt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ki(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:jt()},removeLegendPayload:{reducer(t,e){var n=Ki(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:jt()}}}),{setLegendSize:QCe,setLegendSettings:ZCe,addLegendPayload:$W,replaceLegendPayload:GW,removeLegendPayload:KW}=cF.actions,YW=cF.reducer;function yT(){return yT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yT.apply(null,arguments)}function IM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ME(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(n),!0).forEach(function(r){WW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WW(t,e,n){return(e=JW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JW(t){var e=XW(t,"string");return typeof e=="symbol"?e:e+""}function XW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QW(t){return Array.isArray(t)&&ba(t[0])&&ba(t[1])?t.join(" ~ "):t}var ZW=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:a,itemSorter:l,wrapperClassName:c,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:g=!1}=t,v=()=>{if(o&&o.length){var $={padding:0,margin:0},z=(l?uv(o,l):o).map((N,U)=>{if(N.type==="none")return null;var V=N.formatter||a||QW,{value:k,name:P}=N,F=k,B=P;if(V){var ie=V(k,P,N,U,o);if(Array.isArray(ie))[F,B]=ie;else if(ie!=null)F=ie;else return null}var ae=ME({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:ae},ba(B)?O.createElement("span",{className:"recharts-tooltip-item-name"},B):null,ba(B)?O.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,O.createElement("span",{className:"recharts-tooltip-item-value"},F),O.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:$},z)}return null},T=ME({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),x=ME({margin:0},i),S=!li(h),C=S?h:"",L=Sn("recharts-default-tooltip",c),M=Sn("recharts-tooltip-label",f);S&&p&&o!==void 0&&o!==null&&(C=p(h,o));var G=g?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",yT({className:L,style:T},G),O.createElement("p",{className:M,style:x},O.isValidElement(C)?C:"".concat(C)),v())},bd="recharts-tooltip-wrapper",eJ={visibility:"hidden"};function tJ(t){var{coordinate:e,translateX:n,translateY:r}=t;return Sn(bd,{["".concat(bd,"-right")]:ze(n)&&e&&ze(e.x)&&n>=e.x,["".concat(bd,"-left")]:ze(n)&&e&&ze(e.x)&&n<e.x,["".concat(bd,"-bottom")]:ze(r)&&e&&ze(e.y)&&r>=e.y,["".concat(bd,"-top")]:ze(r)&&e&&ze(e.y)&&r<e.y})}function RM(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:a,tooltipDimension:l,viewBox:c,viewBoxDimension:f}=t;if(o&&ze(o[r]))return o[r];var h=n[r]-l-(i>0?i:0),p=n[r]+i;if(e[r])return a[r]?h:p;var g=c[r];if(g==null)return 0;if(a[r]){var v=h,T=g;return v<T?Math.max(p,g):Math.max(h,g)}if(f==null)return 0;var x=p+l,S=g+f;return x>S?Math.max(h,g):Math.max(p,g)}function nJ(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function rJ(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:a,useTranslate3d:l,viewBox:c}=t,f,h,p;return a.height>0&&a.width>0&&n?(h=RM({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),p=RM({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),f=nJ({translateX:h,translateY:p,useTranslate3d:l})):f=eJ,{cssProperties:f,cssClasses:tJ({translateX:h,translateY:p,coordinate:n})}}function PM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PM(Object(n),!0).forEach(function(r){vT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vT(t,e,n){return(e=iJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iJ(t){var e=oJ(t,"string");return typeof e=="symbol"?e:e+""}function oJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class aJ extends O.PureComponent{constructor(){super(...arguments),vT(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),vT(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:a,hasPayload:l,isAnimationActive:c,offset:f,position:h,reverseDirection:p,useTranslate3d:g,viewBox:v,wrapperStyle:T,lastBoundingBox:x,innerRef:S,hasPortalFromProps:C}=this.props,{cssClasses:L,cssProperties:M}=rJ({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:f,position:h,reverseDirection:p,tooltipBox:{height:x.height,width:x.width},useTranslate3d:g,viewBox:v}),G=C?{}:Xm(Xm({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),$=Xm(Xm({},G),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},T);return O.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:L,style:$,ref:S},o)}}var fF=()=>{var t;return(t=Je(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function _T(){return _T=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_T.apply(null,arguments)}function kM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(n),!0).forEach(function(r){sJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sJ(t,e,n){return(e=lJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lJ(t){var e=uJ(t,"string");return typeof e=="symbol"?e:e+""}function uJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NM={curveBasisClosed:o7,curveBasisOpen:a7,curveBasis:i7,curveBumpX:j8,curveBumpY:$8,curveLinearClosed:s7,curveLinear:sv,curveMonotoneX:l7,curveMonotoneY:u7,curveNatural:c7,curveStep:f7,curveStepAfter:h7,curveStepBefore:d7},oy=t=>xn(t.x)&&xn(t.y),DM=t=>t.base!=null&&oy(t.base)&&oy(t),Ed=t=>t.x,wd=t=>t.y,cJ=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Lh(t));return(n==="curveMonotone"||n==="curveBump")&&e?NM["".concat(n).concat(e==="vertical"?"Y":"X")]:NM[n]||sv},fJ=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,a=cJ(e,i),l=o?n.filter(oy):n,c;if(Array.isArray(r)){var f=n.map((v,T)=>MM(MM({},v),{},{base:r[T]}));i==="vertical"?c=Hm().y(wd).x1(Ed).x0(v=>v.base.x):c=Hm().x(Ed).y1(wd).y0(v=>v.base.y);var h=c.defined(DM).curve(a),p=o?f.filter(DM):f;return h(p)}i==="vertical"&&ze(r)?c=Hm().y(wd).x1(Ed).x0(r):ze(r)?c=Hm().x(Ed).y1(wd).y0(r):c=$V().x(Ed).y(wd);var g=c.defined(oy).curve(a);return g(l)},sx=t=>{var{className:e,points:n,path:r,pathRef:i}=t,o=Tv();if((!n||!n.length)&&!r)return null;var a={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||o,connectNulls:t.connectNulls},l=n&&n.length?fJ(a):r;return O.createElement("path",_T({},Lc(t),V7(t),{className:Sn("recharts-curve",e),d:l===null?void 0:l,ref:i}))},dJ=["x","y","top","left","width","height","className"];function bT(){return bT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bT.apply(null,arguments)}function OM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(n),!0).forEach(function(r){pJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pJ(t,e,n){return(e=mJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mJ(t){var e=gJ(t,"string");return typeof e=="symbol"?e:e+""}function gJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yJ(t,e){if(t==null)return{};var n,r,i=vJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _J=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),bJ=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:a=0,className:l}=t,c=yJ(t,dJ),f=hJ({x:e,y:n,top:r,left:i,width:o,height:a},c);return!ze(e)||!ze(n)||!ze(o)||!ze(a)||!ze(r)||!ze(i)?null:O.createElement("path",bT({},Ri(f),{className:Sn("recharts-cross",l),d:_J(e,n,o,a,r,i)}))};function EJ(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(n),!0).forEach(function(r){wJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wJ(t,e,n){return(e=TJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TJ(t){var e=SJ(t,"string");return typeof e=="symbol"?e:e+""}function SJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xJ=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),dF=(t,e,n)=>t.map(r=>"".concat(xJ(r)," ").concat(e,"ms ").concat(n)).join(","),AJ=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),fh=(t,e)=>Object.keys(e).reduce((n,r)=>UM(UM({},n),{},{[r]:t(r,e[r])}),{});function VM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(n),!0).forEach(function(r){CJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CJ(t,e,n){return(e=IJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IJ(t){var e=RJ(t,"string");return typeof e=="symbol"?e:e+""}function RJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ay=(t,e,n)=>t+(e-t)*n,ET=t=>{var{from:e,to:n}=t;return e!==n},hF=(t,e,n)=>{var r=fh((i,o)=>{if(ET(o)){var[a,l]=t(o.from,o.to,o.velocity);return In(In({},o),{},{from:a,velocity:l})}return o},e);return n<1?fh((i,o)=>ET(o)&&r[i]!=null?In(In({},o),{},{velocity:ay(o.velocity,r[i].velocity,n),from:ay(o.from,r[i].from,n)}):o,e):hF(t,r,n-1)};function PJ(t,e,n,r,i,o){var a,l=r.reduce((g,v)=>In(In({},g),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),c=()=>fh((g,v)=>v.from,l),f=()=>!Object.values(l).filter(ET).length,h=null,p=g=>{a||(a=g);var v=g-a,T=v/n.dt;l=hF(n,l,T),i(In(In(In({},t),e),c())),a=g,f()||(h=o.setTimeout(p))};return()=>(h=o.setTimeout(p),()=>{var g;(g=h)===null||g===void 0||g()})}function kJ(t,e,n,r,i,o,a){var l=null,c=i.reduce((p,g)=>{var v=t[g],T=e[g];return v==null||T==null?p:In(In({},p),{},{[g]:[v,T]})},{}),f,h=p=>{f||(f=p);var g=(p-f)/r,v=fh((x,S)=>ay(...S,n(g)),c);if(o(In(In(In({},t),e),v)),g<1)l=a.setTimeout(h);else{var T=fh((x,S)=>ay(...S,n(1)),c);o(In(In(In({},t),e),T))}};return()=>(l=a.setTimeout(h),()=>{var p;(p=l)===null||p===void 0||p()})}const MJ=(t,e,n,r,i,o)=>{var a=AJ(t,e);return n==null?()=>(i(In(In({},t),e)),()=>{}):n.isStepper===!0?PJ(t,e,n,a,i,o):kJ(t,e,n,r,a,i,o)};var sy=1e-4,pF=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],mF=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),FM=(t,e)=>n=>{var r=pF(t,e);return mF(r,n)},NJ=(t,e)=>n=>{var r=pF(t,e),i=[...r.map((o,a)=>o*a).slice(1),0];return mF(i,n)},DJ=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},OJ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=DJ(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},LJ=(t,e,n,r)=>{var i=FM(t,n),o=FM(e,r),a=NJ(t,n),l=f=>f>1?1:f<0?0:f,c=f=>{for(var h=f>1?1:f,p=h,g=0;g<8;++g){var v=i(p)-h,T=a(p);if(Math.abs(v-h)<sy||T<sy)return o(p);p=l(p-v/T)}return o(p)};return c.isStepper=!1,c},zM=function(){return LJ(...OJ(...arguments))},UJ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(a,l,c)=>{var f=-(a-l)*n,h=c*r,p=c+(f-h)*i/1e3,g=c*i/1e3+a;return Math.abs(g-l)<sy&&Math.abs(p)<sy?[l,0]:[g,p]};return o.isStepper=!0,o.dt=i,o},VJ=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zM(t);case"spring":return UJ();default:if(t.split("(")[0]==="cubic-bezier")return zM(t)}return typeof t=="function"?t:null};function FJ(t){var e,n=()=>null,r=!1,i=null,o=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var l=a,[c,...f]=l;if(typeof c=="number"){i=t.setTimeout(o.bind(null,f),c);return}o(c),i=t.setTimeout(o.bind(null,f));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),o(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class zJ{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function BJ(){return FJ(new zJ)}var qJ=O.createContext(BJ);function HJ(t,e){var n=O.useContext(qJ);return O.useMemo(()=>e??n(t),[t,e,n])}var jJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),lx={isSsr:jJ()},$J={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},BM={t:0},NE={t:1};function ux(t){var e=ko(t,$J),{isActive:n,canBegin:r,duration:i,easing:o,begin:a,onAnimationEnd:l,onAnimationStart:c,children:f}=e,h=n==="auto"?!lx.isSsr:n,p=HJ(e.animationId,e.animationManager),[g,v]=O.useState(h?BM:NE),T=O.useRef(null);return O.useEffect(()=>{h||v(NE)},[h]),O.useEffect(()=>{if(!h||!r)return Uh;var x=MJ(BM,NE,VJ(o),i,v,p.getTimeoutController()),S=()=>{T.current=x()};return p.start([c,a,S,i,l]),()=>{p.stop(),T.current&&T.current(),l()}},[h,r,i,o,a,c,l,p]),f(g.t)}function cx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=O.useRef(ih(e)),r=O.useRef(t);return r.current!==t&&(n.current=ih(e),r.current=t),n.current}var GJ=["radius"],KJ=["radius"],qM,HM,jM,$M,GM,KM,YM,WM,JM,XM;function QM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QM(Object(n),!0).forEach(function(r){YJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YJ(t,e,n){return(e=WJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WJ(t){var e=JJ(t,"string");return typeof e=="symbol"?e:e+""}function JJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ly(){return ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ly.apply(null,arguments)}function eN(t,e){if(t==null)return{};var n,r,i=XJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function XJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function go(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var tN=(t,e,n,r,i)=>{var o=Ls(n),a=Ls(r),l=Math.min(Math.abs(o)/2,Math.abs(a)/2),c=a>=0?1:-1,f=o>=0?1:-1,h=a>=0&&o>=0||a<0&&o<0?1:0,p;if(l>0&&i instanceof Array){for(var g=[0,0,0,0],v=0,T=4;v<T;v++)g[v]=i[v]>l?l:i[v];p=nn(qM||(qM=go(["M",",",""])),t,e+c*g[0]),g[0]>0&&(p+=nn(HM||(HM=go(["A ",",",",0,0,",",",",",""])),g[0],g[0],h,t+f*g[0],e)),p+=nn(jM||(jM=go(["L ",",",""])),t+n-f*g[1],e),g[1]>0&&(p+=nn($M||($M=go(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],h,t+n,e+c*g[1])),p+=nn(GM||(GM=go(["L ",",",""])),t+n,e+r-c*g[2]),g[2]>0&&(p+=nn(KM||(KM=go(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],h,t+n-f*g[2],e+r)),p+=nn(YM||(YM=go(["L ",",",""])),t+f*g[3],e+r),g[3]>0&&(p+=nn(WM||(WM=go(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],h,t,e+r-c*g[3])),p+="Z"}else if(l>0&&i===+i&&i>0){var x=Math.min(l,i);p=nn(JM||(JM=go(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+c*x,x,x,h,t+f*x,e,t+n-f*x,e,x,x,h,t+n,e+c*x,t+n,e+r-c*x,x,x,h,t+n-f*x,e+r,t+f*x,e+r,x,x,h,t,e+r-c*x)}else p=nn(XM||(XM=go(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return p},nN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gF=t=>{var e=ko(t,nN),n=O.useRef(null),[r,i]=O.useState(-1);O.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var le=n.current.getTotalLength();le&&i(le)}catch{}},[]);var{x:o,y:a,width:l,height:c,radius:f,className:h}=e,{animationEasing:p,animationDuration:g,animationBegin:v,isAnimationActive:T,isUpdateAnimationActive:x}=e,S=O.useRef(l),C=O.useRef(c),L=O.useRef(o),M=O.useRef(a),G=O.useMemo(()=>({x:o,y:a,width:l,height:c,radius:f}),[o,a,l,c,f]),$=cx(G,"rectangle-");if(o!==+o||a!==+a||l!==+l||c!==+c||l===0||c===0)return null;var z=Sn("recharts-rectangle",h);if(!x){var N=Ri(e),{radius:U}=N,V=eN(N,GJ);return O.createElement("path",ly({},V,{x:Ls(o),y:Ls(a),width:Ls(l),height:Ls(c),radius:typeof f=="number"?f:void 0,className:z,d:tN(o,a,l,c,f)}))}var k=S.current,P=C.current,F=L.current,B=M.current,ie="0px ".concat(r===-1?1:r,"px"),ae="".concat(r,"px 0px"),J=dF(["strokeDasharray"],g,typeof p=="string"?p:nN.animationEasing);return O.createElement(ux,{animationId:$,key:$,canBegin:r>0,duration:g,easing:p,isActive:x,begin:v},le=>{var _e=Bi(k,l,le),Se=Bi(P,c,le),K=Bi(F,o,le),W=Bi(B,a,le);n.current&&(S.current=_e,C.current=Se,L.current=K,M.current=W);var oe;T?le>0?oe={transition:J,strokeDasharray:ae}:oe={strokeDasharray:ie}:oe={strokeDasharray:ae};var j=Ri(e),{radius:Ee}=j,Ce=eN(j,KJ);return O.createElement("path",ly({},Ce,{radius:typeof f=="number"?f:void 0,className:z,d:tN(K,W,_e,Se,f),ref:n,style:ZM(ZM({},oe),e.style)}))})};function rN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(n),!0).forEach(function(r){QJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QJ(t,e,n){return(e=ZJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZJ(t){var e=eX(t,"string");return typeof e=="symbol"?e:e+""}function eX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uy=Math.PI/180,tX=t=>t*180/Math.PI,En=(t,e,n,r)=>({x:t+Math.cos(-uy*r)*n,y:e+Math.sin(-uy*r)*n}),yF=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},nX=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},rX=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,a=nX({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var l=(n-i)/a,c=Math.acos(l);return r>o&&(c=2*Math.PI-c),{radius:a,angle:tX(c),angleInRadian:c}},iX=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},oX=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return t+a*360},aX=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:o}=rX({x:n,y:r},e),{innerRadius:a,outerRadius:l}=e;if(i<a||i>l||i===0)return null;var{startAngle:c,endAngle:f}=iX(e),h=o,p;if(c<=f){for(;h>f;)h-=360;for(;h<c;)h+=360;p=h>=c&&h<=f}else{for(;h>c;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=c}return p?iN(iN({},e),{},{radius:i,angle:oX(h,e)}):null};function vF(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,a=En(e,n,r,i),l=En(e,n,r,o);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}var oN,aN,sN,lN,uN,cN,fN;function wT(){return wT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wT.apply(null,arguments)}function zl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var sX=(t,e)=>{var n=zr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Qm=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:a,cornerRadius:l,cornerIsExternal:c}=t,f=l*(a?1:-1)+r,h=Math.asin(l/f)/uy,p=c?i:i+o*h,g=En(e,n,f,p),v=En(e,n,r,p),T=c?i-o*h:i,x=En(e,n,f*Math.cos(h*uy),T);return{center:g,circleTangency:v,lineTangency:x,theta:h}},_F=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a}=t,l=sX(o,a),c=o+l,f=En(e,n,i,o),h=En(e,n,i,c),p=nn(oN||(oN=zl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(l)>180),+(o>c),h.x,h.y);if(r>0){var g=En(e,n,r,o),v=En(e,n,r,c);p+=nn(aN||(aN=zl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),v.x,v.y,r,r,+(Math.abs(l)>180),+(o<=c),g.x,g.y)}else p+=nn(sN||(sN=zl(["L ",","," Z"])),e,n);return p},lX=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:f}=t,h=zr(f-c),{circleTangency:p,lineTangency:g,theta:v}=Qm({cx:e,cy:n,radius:i,angle:c,sign:h,cornerRadius:o,cornerIsExternal:l}),{circleTangency:T,lineTangency:x,theta:S}=Qm({cx:e,cy:n,radius:i,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:l}),C=l?Math.abs(c-f):Math.abs(c-f)-v-S;if(C<0)return a?nn(lN||(lN=zl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,o,o,o*2,o,o,-o*2):_F({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:f});var L=nn(uN||(uN=zl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,o,o,+(h<0),p.x,p.y,i,i,+(C>180),+(h<0),T.x,T.y,o,o,+(h<0),x.x,x.y);if(r>0){var{circleTangency:M,lineTangency:G,theta:$}=Qm({cx:e,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),{circleTangency:z,lineTangency:N,theta:U}=Qm({cx:e,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),V=l?Math.abs(c-f):Math.abs(c-f)-$-U;if(V<0&&o===0)return"".concat(L,"L").concat(e,",").concat(n,"Z");L+=nn(cN||(cN=zl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),N.x,N.y,o,o,+(h<0),z.x,z.y,r,r,+(V>180),+(h>0),M.x,M.y,o,o,+(h<0),G.x,G.y)}else L+=nn(fN||(fN=zl(["L",",","Z"])),e,n);return L},uX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},bF=t=>{var e=ko(t,uX),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:h,className:p}=e;if(o<i||f===h)return null;var g=Sn("recharts-sector",p),v=o-i,T=oi(a,v,0,!0),x;return T>0&&Math.abs(f-h)<360?x=lX({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(T,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:h}):x=_F({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h}),O.createElement("path",wT({},Ri(e),{className:g,d:x}))};function cX(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(a4(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:a,angle:l}=e,c=En(r,i,o,l),f=En(r,i,a,l);return[{x:c.x,y:c.y},{x:f.x,y:f.y}]}return vF(e)}}var DE={},OE={},LE={},dN;function fX(){return dN||(dN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y4();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(LE)),LE}var hN;function dX(){return hN||(hN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fX();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(OE)),OE}var pN;function hX(){return pN||(pN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v4(),n=dX();function r(i,o,a){a&&typeof a!="number"&&e.isIterateeCall(i,o,a)&&(o=a=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),a=a===void 0?i<o?1:-1:n.toFinite(a);const l=Math.max(Math.ceil((o-i)/(a||1)),0),c=new Array(l);for(let f=0;f<l;f++)c[f]=i,i+=a;return c}t.range=r})(DE)),DE}var UE,mN;function pX(){return mN||(mN=1,UE=hX().range),UE}var mX=pX();const EF=Ni(mX);function zs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gX(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fx(t){let e,n,r;t.length!==2?(e=zs,n=(l,c)=>zs(t(l),c),r=(l,c)=>t(l)-c):(e=t===zs||t===gX?t:yX,n=t,r=t);function i(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(l[p],c)<0?f=p+1:h=p}while(f<h)}return f}function o(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(l[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function a(l,c,f=0,h=l.length){const p=i(l,c,f,h-1);return p>f&&r(l[p-1],c)>-r(l[p],c)?p-1:p}return{left:i,center:a,right:o}}function yX(){return 0}function wF(t){return t===null?NaN:+t}function*vX(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const _X=fx(zs),Hh=_X.right;fx(wF).center;class gN extends Map{constructor(e,n=wX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(yN(this,e))}has(e){return super.has(yN(this,e))}set(e,n){return super.set(bX(this,e),n)}delete(e){return super.delete(EX(this,e))}}function yN({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function bX({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function EX({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function wX(t){return t!==null&&typeof t=="object"?t.valueOf():t}function TX(t=zs){if(t===zs)return TF;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function TF(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const SX=Math.sqrt(50),xX=Math.sqrt(10),AX=Math.sqrt(2);function cy(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=SX?10:o>=xX?5:o>=AX?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/a,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*a,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=n&&n<2?cy(t,e,n*2):[l,c,f]}function TT(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?cy(e,t,n):cy(t,e,n);if(!(o>=i))return[];const l=o-i+1,c=new Array(l);if(r)if(a<0)for(let f=0;f<l;++f)c[f]=(o-f)/-a;else for(let f=0;f<l;++f)c[f]=(o-f)*a;else if(a<0)for(let f=0;f<l;++f)c[f]=(i+f)/-a;else for(let f=0;f<l;++f)c[f]=(i+f)*a;return c}function ST(t,e,n){return e=+e,t=+t,n=+n,cy(t,e,n)[2]}function xT(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?ST(e,t,n):ST(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function vN(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function _N(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function SF(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?TF:TX(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),v=Math.max(n,Math.floor(e-f*p/c+g)),T=Math.min(r,Math.floor(e+(c-f)*p/c+g));SF(t,e,v,T,i)}const o=t[e];let a=n,l=r;for(Td(t,n,e),i(t[r],o)>0&&Td(t,n,r);a<l;){for(Td(t,a,l),++a,--l;i(t[a],o)<0;)++a;for(;i(t[l],o)>0;)--l}i(t[n],o)===0?Td(t,n,l):(++l,Td(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Td(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function CX(t,e,n){if(t=Float64Array.from(vX(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return _N(t);if(e>=1)return vN(t);var r,i=(r-1)*e,o=Math.floor(i),a=vN(SF(t,o).subarray(0,o+1)),l=_N(t.subarray(o+1));return a+(l-a)*(i-o)}}function IX(t,e,n=wF){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),l=+n(t[o+1],o+1,t);return a+(l-a)*(i-o)}}function RX(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Di(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Na(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const AT=Symbol("implicit");function dx(){var t=new gN,e=[],n=[],r=AT;function i(o){let a=t.get(o);if(a===void 0){if(r!==AT)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new gN;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return dx(e,n).unknown(r)},Di.apply(i,arguments),i}function hx(){var t=dx().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,l=!1,c=0,f=0,h=.5;delete t.unknown;function p(){var g=e().length,v=i<r,T=v?i:r,x=v?r:i;o=(x-T)/Math.max(1,g-c+f*2),l&&(o=Math.floor(o)),T+=(x-T-o*(g-c))*h,a=o*(1-c),l&&(T=Math.round(T),a=Math.round(a));var S=RX(g).map(function(C){return T+o*C});return n(v?S.reverse():S)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(g){return arguments.length?(l=!!g,p()):l},t.padding=function(g){return arguments.length?(c=Math.min(1,f=+g),p()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},t.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},t.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},t.copy=function(){return hx(e(),[r,i]).round(l).paddingInner(c).paddingOuter(f).align(h)},Di.apply(p(),arguments)}function xF(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return xF(e())},t}function PX(){return xF(hx.apply(null,arguments).paddingInner(1))}function px(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function AF(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function jh(){}var dh=.7,fy=1/dh,Ac="\\s*([+-]?\\d+)\\s*",hh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kX=/^#([0-9a-f]{3,8})$/,MX=new RegExp(`^rgb\\(${Ac},${Ac},${Ac}\\)$`),NX=new RegExp(`^rgb\\(${wo},${wo},${wo}\\)$`),DX=new RegExp(`^rgba\\(${Ac},${Ac},${Ac},${hh}\\)$`),OX=new RegExp(`^rgba\\(${wo},${wo},${wo},${hh}\\)$`),LX=new RegExp(`^hsl\\(${hh},${wo},${wo}\\)$`),UX=new RegExp(`^hsla\\(${hh},${wo},${wo},${hh}\\)$`),bN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};px(jh,ph,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:EN,formatHex:EN,formatHex8:VX,formatHsl:FX,formatRgb:wN,toString:wN});function EN(){return this.rgb().formatHex()}function VX(){return this.rgb().formatHex8()}function FX(){return CF(this).formatHsl()}function wN(){return this.rgb().formatRgb()}function ph(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=kX.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?TN(e):n===3?new Br(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Zm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Zm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=MX.exec(t))?new Br(e[1],e[2],e[3],1):(e=NX.exec(t))?new Br(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=DX.exec(t))?Zm(e[1],e[2],e[3],e[4]):(e=OX.exec(t))?Zm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=LX.exec(t))?AN(e[1],e[2]/100,e[3]/100,1):(e=UX.exec(t))?AN(e[1],e[2]/100,e[3]/100,e[4]):bN.hasOwnProperty(t)?TN(bN[t]):t==="transparent"?new Br(NaN,NaN,NaN,0):null}function TN(t){return new Br(t>>16&255,t>>8&255,t&255,1)}function Zm(t,e,n,r){return r<=0&&(t=e=n=NaN),new Br(t,e,n,r)}function zX(t){return t instanceof jh||(t=ph(t)),t?(t=t.rgb(),new Br(t.r,t.g,t.b,t.opacity)):new Br}function CT(t,e,n,r){return arguments.length===1?zX(t):new Br(t,e,n,r??1)}function Br(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}px(Br,CT,AF(jh,{brighter(t){return t=t==null?fy:Math.pow(fy,t),new Br(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?dh:Math.pow(dh,t),new Br(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Br(Kl(this.r),Kl(this.g),Kl(this.b),dy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SN,formatHex:SN,formatHex8:BX,formatRgb:xN,toString:xN}));function SN(){return`#${Bl(this.r)}${Bl(this.g)}${Bl(this.b)}`}function BX(){return`#${Bl(this.r)}${Bl(this.g)}${Bl(this.b)}${Bl((isNaN(this.opacity)?1:this.opacity)*255)}`}function xN(){const t=dy(this.opacity);return`${t===1?"rgb(":"rgba("}${Kl(this.r)}, ${Kl(this.g)}, ${Kl(this.b)}${t===1?")":`, ${t})`}`}function dy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Kl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Bl(t){return t=Kl(t),(t<16?"0":"")+t.toString(16)}function AN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ji(t,e,n,r)}function CF(t){if(t instanceof ji)return new ji(t.h,t.s,t.l,t.opacity);if(t instanceof jh||(t=ph(t)),!t)return new ji;if(t instanceof ji)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,l=o-i,c=(o+i)/2;return l?(e===o?a=(n-r)/l+(n<r)*6:n===o?a=(r-e)/l+2:a=(e-n)/l+4,l/=c<.5?o+i:2-o-i,a*=60):l=c>0&&c<1?0:a,new ji(a,l,c,t.opacity)}function qX(t,e,n,r){return arguments.length===1?CF(t):new ji(t,e,n,r??1)}function ji(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}px(ji,qX,AF(jh,{brighter(t){return t=t==null?fy:Math.pow(fy,t),new ji(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?dh:Math.pow(dh,t),new ji(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Br(VE(t>=240?t-240:t+120,i,r),VE(t,i,r),VE(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ji(CN(this.h),eg(this.s),eg(this.l),dy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=dy(this.opacity);return`${t===1?"hsl(":"hsla("}${CN(this.h)}, ${eg(this.s)*100}%, ${eg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function CN(t){return t=(t||0)%360,t<0?t+360:t}function eg(t){return Math.max(0,Math.min(1,t||0))}function VE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const mx=t=>()=>t;function HX(t,e){return function(n){return t+n*e}}function jX(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function $X(t){return(t=+t)==1?IF:function(e,n){return n-e?jX(e,n,t):mx(isNaN(e)?n:e)}}function IF(t,e){var n=e-t;return n?HX(t,n):mx(isNaN(t)?e:t)}const IN=(function t(e){var n=$X(e);function r(i,o){var a=n((i=CT(i)).r,(o=CT(o)).r),l=n(i.g,o.g),c=n(i.b,o.b),f=IF(i.opacity,o.opacity);return function(h){return i.r=a(h),i.g=l(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function GX(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function KX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function YX(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Zc(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(l){for(a=0;a<r;++a)o[a]=i[a](l);return o}}function WX(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function hy(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function JX(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Zc(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var IT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,FE=new RegExp(IT.source,"g");function XX(t){return function(){return t}}function QX(t){return function(e){return t(e)+""}}function ZX(t,e){var n=IT.lastIndex=FE.lastIndex=0,r,i,o,a=-1,l=[],c=[];for(t=t+"",e=e+"";(r=IT.exec(t))&&(i=FE.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[a]?l[a]+=o:l[++a]=o),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:hy(r,i)})),n=FE.lastIndex;return n<e.length&&(o=e.slice(n),l[a]?l[a]+=o:l[++a]=o),l.length<2?c[0]?QX(c[0].x):XX(e):(e=c.length,function(f){for(var h=0,p;h<e;++h)l[(p=c[h]).i]=p.x(f);return l.join("")})}function Zc(t,e){var n=typeof e,r;return e==null||n==="boolean"?mx(e):(n==="number"?hy:n==="string"?(r=ph(e))?(e=r,IN):ZX:e instanceof ph?IN:e instanceof Date?WX:KX(e)?GX:Array.isArray(e)?YX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?JX:hy)(t,e)}function gx(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function eQ(t,e){e===void 0&&(e=t,t=Zc);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[l](a-l)}}function tQ(t){return function(){return t}}function py(t){return+t}var RN=[0,1];function Cr(t){return t}function RT(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:tQ(isNaN(e)?NaN:.5)}function nQ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function rQ(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=RT(i,r),o=n(a,o)):(r=RT(r,i),o=n(o,a)),function(l){return o(r(l))}}function iQ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=RT(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(l){var c=Hh(t,l,1,r)-1;return o[c](i[c](l))}}function $h(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Iv(){var t=RN,e=RN,n=Zc,r,i,o,a=Cr,l,c,f;function h(){var g=Math.min(t.length,e.length);return a!==Cr&&(a=nQ(t[0],t[g-1])),l=g>2?iQ:rQ,c=f=null,p}function p(g){return g==null||isNaN(g=+g)?o:(c||(c=l(t.map(r),e,n)))(r(a(g)))}return p.invert=function(g){return a(i((f||(f=l(e,t.map(r),hy)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,py),h()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),n=gx,h()},p.clamp=function(g){return arguments.length?(a=g?!0:Cr,h()):a!==Cr},p.interpolate=function(g){return arguments.length?(n=g,h()):n},p.unknown=function(g){return arguments.length?(o=g,p):o},function(g,v){return r=g,i=v,h()}}function yx(){return Iv()(Cr,Cr)}function oQ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function my(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Fc(t){return t=my(Math.abs(t)),t?t[1]:NaN}function aQ(t,e){return function(n,r){for(var i=n.length,o=[],a=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),o.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[a=(a+1)%t.length];return o.reverse().join(e)}}function sQ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var lQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mh(t){if(!(e=lQ.exec(t)))throw new Error("invalid format: "+t);var e;return new vx({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}mh.prototype=vx.prototype;function vx(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}vx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uQ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var RF;function cQ(t,e){var n=my(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(RF=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+my(t,Math.max(0,e+o-1))[0]}function PN(t,e){var n=my(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const kN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:oQ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>PN(t*100,e),r:PN,s:cQ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function MN(t){return t}var NN=Array.prototype.map,DN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fQ(t){var e=t.grouping===void 0||t.thousands===void 0?MN:aQ(NN.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?MN:sQ(NN.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p){p=mh(p);var g=p.fill,v=p.align,T=p.sign,x=p.symbol,S=p.zero,C=p.width,L=p.comma,M=p.precision,G=p.trim,$=p.type;$==="n"?(L=!0,$="g"):kN[$]||(M===void 0&&(M=12),G=!0,$="g"),(S||g==="0"&&v==="=")&&(S=!0,g="0",v="=");var z=x==="$"?n:x==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",N=x==="$"?r:/[%p]/.test($)?a:"",U=kN[$],V=/[defgprs%]/.test($);M=M===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function k(P){var F=z,B=N,ie,ae,J;if($==="c")B=U(P)+B,P="";else{P=+P;var le=P<0||1/P<0;if(P=isNaN(P)?c:U(Math.abs(P),M),G&&(P=uQ(P)),le&&+P==0&&T!=="+"&&(le=!1),F=(le?T==="("?T:l:T==="-"||T==="("?"":T)+F,B=($==="s"?DN[8+RF/3]:"")+B+(le&&T==="("?")":""),V){for(ie=-1,ae=P.length;++ie<ae;)if(J=P.charCodeAt(ie),48>J||J>57){B=(J===46?i+P.slice(ie+1):P.slice(ie))+B,P=P.slice(0,ie);break}}}L&&!S&&(P=e(P,1/0));var _e=F.length+P.length+B.length,Se=_e<C?new Array(C-_e+1).join(g):"";switch(L&&S&&(P=e(Se+P,Se.length?C-B.length:1/0),Se=""),v){case"<":P=F+P+B+Se;break;case"=":P=F+Se+P+B;break;case"^":P=Se.slice(0,_e=Se.length>>1)+F+P+B+Se.slice(_e);break;default:P=Se+F+P+B;break}return o(P)}return k.toString=function(){return p+""},k}function h(p,g){var v=f((p=mh(p),p.type="f",p)),T=Math.max(-8,Math.min(8,Math.floor(Fc(g)/3)))*3,x=Math.pow(10,-T),S=DN[8+T/3];return function(C){return v(x*C)+S}}return{format:f,formatPrefix:h}}var tg,_x,PF;dQ({thousands:",",grouping:[3],currency:["$",""]});function dQ(t){return tg=fQ(t),_x=tg.format,PF=tg.formatPrefix,tg}function hQ(t){return Math.max(0,-Fc(Math.abs(t)))}function pQ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fc(e)/3)))*3-Fc(Math.abs(t)))}function mQ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fc(e)-Fc(t))+1}function kF(t,e,n,r){var i=xT(t,e,n),o;switch(r=mh(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=pQ(i,a))&&(r.precision=o),PF(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=mQ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=hQ(i))&&(r.precision=o-(r.type==="%")*2);break}}return _x(r)}function Zs(t){var e=t.domain;return t.ticks=function(n){var r=e();return TT(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return kF(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],l=r[o],c,f,h=10;for(l<a&&(f=a,a=l,l=f,f=i,i=o,o=f);h-- >0;){if(f=ST(a,l,n),f===c)return r[i]=a,r[o]=l,e(r);if(f>0)a=Math.floor(a/f)*f,l=Math.ceil(l/f)*f;else if(f<0)a=Math.ceil(a*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function MF(){var t=yx();return t.copy=function(){return $h(t,MF())},Di.apply(t,arguments),Zs(t)}function NF(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,py),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return NF(t).unknown(e)},t=arguments.length?Array.from(t,py):[0,1],Zs(n)}function DF(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function ON(t){return Math.log(t)}function LN(t){return Math.exp(t)}function gQ(t){return-Math.log(-t)}function yQ(t){return-Math.exp(-t)}function vQ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function _Q(t){return t===10?vQ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function bQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function UN(t){return(e,n)=>-t(-e,n)}function bx(t){const e=t(ON,LN),n=e.domain;let r=10,i,o;function a(){return i=bQ(r),o=_Q(r),n()[0]<0?(i=UN(i),o=UN(o),t(gQ,yQ)):t(ON,LN),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const c=n();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let g=i(f),v=i(h),T,x;const S=l==null?10:+l;let C=[];if(!(r%1)&&v-g<S){if(g=Math.floor(g),v=Math.ceil(v),f>0){for(;g<=v;++g)for(T=1;T<r;++T)if(x=g<0?T/o(-g):T*o(g),!(x<f)){if(x>h)break;C.push(x)}}else for(;g<=v;++g)for(T=r-1;T>=1;--T)if(x=g>0?T/o(-g):T*o(g),!(x<f)){if(x>h)break;C.push(x)}C.length*2<S&&(C=TT(f,h,S))}else C=TT(g,v,Math.min(v-g,S)).map(o);return p?C.reverse():C},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=mh(c)).precision==null&&(c.trim=!0),c=_x(c)),l===1/0)return c;const f=Math.max(1,r*l/e.ticks().length);return h=>{let p=h/o(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?c(h):""}},e.nice=()=>n(DF(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),e}function OF(){const t=bx(Iv()).domain([1,10]);return t.copy=()=>$h(t,OF()).base(t.base()),Di.apply(t,arguments),t}function VN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function FN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Ex(t){var e=1,n=t(VN(e),FN(e));return n.constant=function(r){return arguments.length?t(VN(e=+r),FN(e)):e},Zs(n)}function LF(){var t=Ex(Iv());return t.copy=function(){return $h(t,LF()).constant(t.constant())},Di.apply(t,arguments)}function zN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function EQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function wQ(t){return t<0?-t*t:t*t}function wx(t){var e=t(Cr,Cr),n=1;function r(){return n===1?t(Cr,Cr):n===.5?t(EQ,wQ):t(zN(n),zN(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Zs(e)}function Tx(){var t=wx(Iv());return t.copy=function(){return $h(t,Tx()).exponent(t.exponent())},Di.apply(t,arguments),t}function TQ(){return Tx.apply(null,arguments).exponent(.5)}function BN(t){return Math.sign(t)*t*t}function SQ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function UF(){var t=yx(),e=[0,1],n=!1,r;function i(o){var a=SQ(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(BN(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,py)).map(BN)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return UF(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Di.apply(i,arguments),Zs(i)}function VF(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=IX(t,a/l);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Hh(n,a)]}return o.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(zs),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return VF().domain(t).range(e).unknown(r)},Di.apply(o,arguments)}function FF(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(c){return c!=null&&c<=c?i[Hh(r,c,0,n)]:o}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},a.unknown=function(c){return arguments.length&&(o=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return FF().domain([t,e]).range(i).unknown(o)},Di.apply(Zs(a),arguments)}function zF(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Hh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return zF().domain(t).range(e).unknown(n)},Di.apply(i,arguments)}const zE=new Date,BE=new Date;function Mn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),l=i.ceil(o);return o-a<l-o?a:l},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,l)=>{const c=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<a)||!(l>0))return c;let f;do c.push(f=new Date(+o)),e(o,l),t(o);while(f<o&&o<a);return c},i.filter=o=>Mn(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!o(a););else for(;--l>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(zE.setTime(+o),BE.setTime(+a),t(zE),t(BE),Math.floor(n(zE,BE))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const gy=Mn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);gy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Mn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):gy);gy.range;const ca=1e3,Ai=ca*60,fa=Ai*60,wa=fa*24,Sx=wa*7,qN=wa*30,qE=wa*365,ql=Mn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ca)},(t,e)=>(e-t)/ca,t=>t.getUTCSeconds());ql.range;const xx=Mn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ca)},(t,e)=>{t.setTime(+t+e*Ai)},(t,e)=>(e-t)/Ai,t=>t.getMinutes());xx.range;const Ax=Mn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ai)},(t,e)=>(e-t)/Ai,t=>t.getUTCMinutes());Ax.range;const Cx=Mn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ca-t.getMinutes()*Ai)},(t,e)=>{t.setTime(+t+e*fa)},(t,e)=>(e-t)/fa,t=>t.getHours());Cx.range;const Ix=Mn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*fa)},(t,e)=>(e-t)/fa,t=>t.getUTCHours());Ix.range;const Gh=Mn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ai)/wa,t=>t.getDate()-1);Gh.range;const Rv=Mn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/wa,t=>t.getUTCDate()-1);Rv.range;const BF=Mn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/wa,t=>Math.floor(t/wa));BF.range;function pu(t){return Mn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ai)/Sx)}const Pv=pu(0),yy=pu(1),xQ=pu(2),AQ=pu(3),zc=pu(4),CQ=pu(5),IQ=pu(6);Pv.range;yy.range;xQ.range;AQ.range;zc.range;CQ.range;IQ.range;function mu(t){return Mn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Sx)}const kv=mu(0),vy=mu(1),RQ=mu(2),PQ=mu(3),Bc=mu(4),kQ=mu(5),MQ=mu(6);kv.range;vy.range;RQ.range;PQ.range;Bc.range;kQ.range;MQ.range;const Rx=Mn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Rx.range;const Px=Mn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Px.range;const Ta=Mn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ta.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ta.range;const Sa=Mn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Sa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Sa.range;function qF(t,e,n,r,i,o){const a=[[ql,1,ca],[ql,5,5*ca],[ql,15,15*ca],[ql,30,30*ca],[o,1,Ai],[o,5,5*Ai],[o,15,15*Ai],[o,30,30*Ai],[i,1,fa],[i,3,3*fa],[i,6,6*fa],[i,12,12*fa],[r,1,wa],[r,2,2*wa],[n,1,Sx],[e,1,qN],[e,3,3*qN],[t,1,qE]];function l(f,h,p){const g=h<f;g&&([f,h]=[h,f]);const v=p&&typeof p.range=="function"?p:c(f,h,p),T=v?v.range(f,+h+1):[];return g?T.reverse():T}function c(f,h,p){const g=Math.abs(h-f)/p,v=fx(([,,S])=>S).right(a,g);if(v===a.length)return t.every(xT(f/qE,h/qE,p));if(v===0)return gy.every(Math.max(xT(f,h,p),1));const[T,x]=a[g/a[v-1][2]<a[v][2]/g?v-1:v];return T.every(x)}return[l,c]}const[NQ,DQ]=qF(Sa,Px,kv,BF,Ix,Ax),[OQ,LQ]=qF(Ta,Rx,Pv,Gh,Cx,xx);function HE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function jE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Sd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function UQ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,l=t.months,c=t.shortMonths,f=xd(i),h=Ad(i),p=xd(o),g=Ad(o),v=xd(a),T=Ad(a),x=xd(l),S=Ad(l),C=xd(c),L=Ad(c),M={a:le,A:_e,b:Se,B:K,c:null,d:YN,e:YN,f:aZ,g:gZ,G:vZ,H:rZ,I:iZ,j:oZ,L:HF,m:sZ,M:lZ,p:W,q:oe,Q:XN,s:QN,S:uZ,u:cZ,U:fZ,V:dZ,w:hZ,W:pZ,x:null,X:null,y:mZ,Y:yZ,Z:_Z,"%":JN},G={a:j,A:Ee,b:Ce,B:Ie,c:null,d:WN,e:WN,f:TZ,g:NZ,G:OZ,H:bZ,I:EZ,j:wZ,L:$F,m:SZ,M:xZ,p:ke,q:_t,Q:XN,s:QN,S:AZ,u:CZ,U:IZ,V:RZ,w:PZ,W:kZ,x:null,X:null,y:MZ,Y:DZ,Z:LZ,"%":JN},$={a:k,A:P,b:F,B,c:ie,d:GN,e:GN,f:ZQ,g:$N,G:jN,H:KN,I:KN,j:WQ,L:QQ,m:YQ,M:JQ,p:V,q:KQ,Q:tZ,s:nZ,S:XQ,u:qQ,U:HQ,V:jQ,w:BQ,W:$Q,x:ae,X:J,y:$N,Y:jN,Z:GQ,"%":eZ};M.x=z(n,M),M.X=z(r,M),M.c=z(e,M),G.x=z(n,G),G.X=z(r,G),G.c=z(e,G);function z(fe,Ne){return function(Fe){var me=[],Kt=-1,Xe=0,qt=fe.length,Yt,kr,Do;for(Fe instanceof Date||(Fe=new Date(+Fe));++Kt<qt;)fe.charCodeAt(Kt)===37&&(me.push(fe.slice(Xe,Kt)),(kr=HN[Yt=fe.charAt(++Kt)])!=null?Yt=fe.charAt(++Kt):kr=Yt==="e"?" ":"0",(Do=Ne[Yt])&&(Yt=Do(Fe,kr)),me.push(Yt),Xe=Kt+1);return me.push(fe.slice(Xe,Kt)),me.join("")}}function N(fe,Ne){return function(Fe){var me=Sd(1900,void 0,1),Kt=U(me,fe,Fe+="",0),Xe,qt;if(Kt!=Fe.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(Ne&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Xe=jE(Sd(me.y,0,1)),qt=Xe.getUTCDay(),Xe=qt>4||qt===0?vy.ceil(Xe):vy(Xe),Xe=Rv.offset(Xe,(me.V-1)*7),me.y=Xe.getUTCFullYear(),me.m=Xe.getUTCMonth(),me.d=Xe.getUTCDate()+(me.w+6)%7):(Xe=HE(Sd(me.y,0,1)),qt=Xe.getDay(),Xe=qt>4||qt===0?yy.ceil(Xe):yy(Xe),Xe=Gh.offset(Xe,(me.V-1)*7),me.y=Xe.getFullYear(),me.m=Xe.getMonth(),me.d=Xe.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),qt="Z"in me?jE(Sd(me.y,0,1)).getUTCDay():HE(Sd(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(qt+5)%7:me.w+me.U*7-(qt+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,jE(me)):HE(me)}}function U(fe,Ne,Fe,me){for(var Kt=0,Xe=Ne.length,qt=Fe.length,Yt,kr;Kt<Xe;){if(me>=qt)return-1;if(Yt=Ne.charCodeAt(Kt++),Yt===37){if(Yt=Ne.charAt(Kt++),kr=$[Yt in HN?Ne.charAt(Kt++):Yt],!kr||(me=kr(fe,Fe,me))<0)return-1}else if(Yt!=Fe.charCodeAt(me++))return-1}return me}function V(fe,Ne,Fe){var me=f.exec(Ne.slice(Fe));return me?(fe.p=h.get(me[0].toLowerCase()),Fe+me[0].length):-1}function k(fe,Ne,Fe){var me=v.exec(Ne.slice(Fe));return me?(fe.w=T.get(me[0].toLowerCase()),Fe+me[0].length):-1}function P(fe,Ne,Fe){var me=p.exec(Ne.slice(Fe));return me?(fe.w=g.get(me[0].toLowerCase()),Fe+me[0].length):-1}function F(fe,Ne,Fe){var me=C.exec(Ne.slice(Fe));return me?(fe.m=L.get(me[0].toLowerCase()),Fe+me[0].length):-1}function B(fe,Ne,Fe){var me=x.exec(Ne.slice(Fe));return me?(fe.m=S.get(me[0].toLowerCase()),Fe+me[0].length):-1}function ie(fe,Ne,Fe){return U(fe,e,Ne,Fe)}function ae(fe,Ne,Fe){return U(fe,n,Ne,Fe)}function J(fe,Ne,Fe){return U(fe,r,Ne,Fe)}function le(fe){return a[fe.getDay()]}function _e(fe){return o[fe.getDay()]}function Se(fe){return c[fe.getMonth()]}function K(fe){return l[fe.getMonth()]}function W(fe){return i[+(fe.getHours()>=12)]}function oe(fe){return 1+~~(fe.getMonth()/3)}function j(fe){return a[fe.getUTCDay()]}function Ee(fe){return o[fe.getUTCDay()]}function Ce(fe){return c[fe.getUTCMonth()]}function Ie(fe){return l[fe.getUTCMonth()]}function ke(fe){return i[+(fe.getUTCHours()>=12)]}function _t(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var Ne=z(fe+="",M);return Ne.toString=function(){return fe},Ne},parse:function(fe){var Ne=N(fe+="",!1);return Ne.toString=function(){return fe},Ne},utcFormat:function(fe){var Ne=z(fe+="",G);return Ne.toString=function(){return fe},Ne},utcParse:function(fe){var Ne=N(fe+="",!0);return Ne.toString=function(){return fe},Ne}}}var HN={"-":"",_:" ",0:"0"},$n=/^\s*\d+/,VQ=/^%/,FQ=/[\\^$*+?|[\]().{}]/g;function gt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function zQ(t){return t.replace(FQ,"\\$&")}function xd(t){return new RegExp("^(?:"+t.map(zQ).join("|")+")","i")}function Ad(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function BQ(t,e,n){var r=$n.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function qQ(t,e,n){var r=$n.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function HQ(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function jQ(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function $Q(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function jN(t,e,n){var r=$n.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function $N(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function GQ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function KQ(t,e,n){var r=$n.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function YQ(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function GN(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function WQ(t,e,n){var r=$n.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function KN(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function JQ(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function XQ(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function QQ(t,e,n){var r=$n.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ZQ(t,e,n){var r=$n.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function eZ(t,e,n){var r=VQ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function tZ(t,e,n){var r=$n.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function nZ(t,e,n){var r=$n.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function YN(t,e){return gt(t.getDate(),e,2)}function rZ(t,e){return gt(t.getHours(),e,2)}function iZ(t,e){return gt(t.getHours()%12||12,e,2)}function oZ(t,e){return gt(1+Gh.count(Ta(t),t),e,3)}function HF(t,e){return gt(t.getMilliseconds(),e,3)}function aZ(t,e){return HF(t,e)+"000"}function sZ(t,e){return gt(t.getMonth()+1,e,2)}function lZ(t,e){return gt(t.getMinutes(),e,2)}function uZ(t,e){return gt(t.getSeconds(),e,2)}function cZ(t){var e=t.getDay();return e===0?7:e}function fZ(t,e){return gt(Pv.count(Ta(t)-1,t),e,2)}function jF(t){var e=t.getDay();return e>=4||e===0?zc(t):zc.ceil(t)}function dZ(t,e){return t=jF(t),gt(zc.count(Ta(t),t)+(Ta(t).getDay()===4),e,2)}function hZ(t){return t.getDay()}function pZ(t,e){return gt(yy.count(Ta(t)-1,t),e,2)}function mZ(t,e){return gt(t.getFullYear()%100,e,2)}function gZ(t,e){return t=jF(t),gt(t.getFullYear()%100,e,2)}function yZ(t,e){return gt(t.getFullYear()%1e4,e,4)}function vZ(t,e){var n=t.getDay();return t=n>=4||n===0?zc(t):zc.ceil(t),gt(t.getFullYear()%1e4,e,4)}function _Z(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+gt(e/60|0,"0",2)+gt(e%60,"0",2)}function WN(t,e){return gt(t.getUTCDate(),e,2)}function bZ(t,e){return gt(t.getUTCHours(),e,2)}function EZ(t,e){return gt(t.getUTCHours()%12||12,e,2)}function wZ(t,e){return gt(1+Rv.count(Sa(t),t),e,3)}function $F(t,e){return gt(t.getUTCMilliseconds(),e,3)}function TZ(t,e){return $F(t,e)+"000"}function SZ(t,e){return gt(t.getUTCMonth()+1,e,2)}function xZ(t,e){return gt(t.getUTCMinutes(),e,2)}function AZ(t,e){return gt(t.getUTCSeconds(),e,2)}function CZ(t){var e=t.getUTCDay();return e===0?7:e}function IZ(t,e){return gt(kv.count(Sa(t)-1,t),e,2)}function GF(t){var e=t.getUTCDay();return e>=4||e===0?Bc(t):Bc.ceil(t)}function RZ(t,e){return t=GF(t),gt(Bc.count(Sa(t),t)+(Sa(t).getUTCDay()===4),e,2)}function PZ(t){return t.getUTCDay()}function kZ(t,e){return gt(vy.count(Sa(t)-1,t),e,2)}function MZ(t,e){return gt(t.getUTCFullYear()%100,e,2)}function NZ(t,e){return t=GF(t),gt(t.getUTCFullYear()%100,e,2)}function DZ(t,e){return gt(t.getUTCFullYear()%1e4,e,4)}function OZ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Bc(t):Bc.ceil(t),gt(t.getUTCFullYear()%1e4,e,4)}function LZ(){return"+0000"}function JN(){return"%"}function XN(t){return+t}function QN(t){return Math.floor(+t/1e3)}var lc,KF,YF;UZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function UZ(t){return lc=UQ(t),KF=lc.format,lc.parse,YF=lc.utcFormat,lc.utcParse,lc}function VZ(t){return new Date(t)}function FZ(t){return t instanceof Date?+t:+new Date(+t)}function kx(t,e,n,r,i,o,a,l,c,f){var h=yx(),p=h.invert,g=h.domain,v=f(".%L"),T=f(":%S"),x=f("%I:%M"),S=f("%I %p"),C=f("%a %d"),L=f("%b %d"),M=f("%B"),G=f("%Y");function $(z){return(c(z)<z?v:l(z)<z?T:a(z)<z?x:o(z)<z?S:r(z)<z?i(z)<z?C:L:n(z)<z?M:G)(z)}return h.invert=function(z){return new Date(p(z))},h.domain=function(z){return arguments.length?g(Array.from(z,FZ)):g().map(VZ)},h.ticks=function(z){var N=g();return t(N[0],N[N.length-1],z??10)},h.tickFormat=function(z,N){return N==null?$:f(N)},h.nice=function(z){var N=g();return(!z||typeof z.range!="function")&&(z=e(N[0],N[N.length-1],z??10)),z?g(DF(N,z)):h},h.copy=function(){return $h(h,kx(t,e,n,r,i,o,a,l,c,f))},h}function zZ(){return Di.apply(kx(OQ,LQ,Ta,Rx,Pv,Gh,Cx,xx,ql,KF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function BZ(){return Di.apply(kx(NQ,DQ,Sa,Px,kv,Rv,Ix,Ax,ql,YF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Mv(){var t=0,e=1,n,r,i,o,a=Cr,l=!1,c;function f(p){return p==null||isNaN(p=+p)?c:a(i===0?.5:(p=(o(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(a=p,f):a};function h(p){return function(g){var v,T;return arguments.length?([v,T]=g,a=p(v,T),f):[a(0),a(1)]}}return f.range=h(Zc),f.rangeRound=h(gx),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return o=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function el(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function WF(){var t=Zs(Mv()(Cr));return t.copy=function(){return el(t,WF())},Na.apply(t,arguments)}function JF(){var t=bx(Mv()).domain([1,10]);return t.copy=function(){return el(t,JF()).base(t.base())},Na.apply(t,arguments)}function XF(){var t=Ex(Mv());return t.copy=function(){return el(t,XF()).constant(t.constant())},Na.apply(t,arguments)}function Mx(){var t=wx(Mv());return t.copy=function(){return el(t,Mx()).exponent(t.exponent())},Na.apply(t,arguments)}function qZ(){return Mx.apply(null,arguments).exponent(.5)}function QF(){var t=[],e=Cr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Hh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(zs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>CX(t,o/r))},n.copy=function(){return QF(e).domain(t)},Na.apply(n,arguments)}function Nv(){var t=0,e=.5,n=1,r=1,i,o,a,l,c,f=Cr,h,p=!1,g;function v(x){return isNaN(x=+x)?g:(x=.5+((x=+h(x))-o)*(r*x<r*o?l:c),f(p?Math.max(0,Math.min(1,x)):x))}v.domain=function(x){return arguments.length?([t,e,n]=x,i=h(t=+t),o=h(e=+e),a=h(n=+n),l=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,v):[t,e,n]},v.clamp=function(x){return arguments.length?(p=!!x,v):p},v.interpolator=function(x){return arguments.length?(f=x,v):f};function T(x){return function(S){var C,L,M;return arguments.length?([C,L,M]=S,f=eQ(x,[C,L,M]),v):[f(0),f(.5),f(1)]}}return v.range=T(Zc),v.rangeRound=T(gx),v.unknown=function(x){return arguments.length?(g=x,v):g},function(x){return h=x,i=x(t),o=x(e),a=x(n),l=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,v}}function ZF(){var t=Zs(Nv()(Cr));return t.copy=function(){return el(t,ZF())},Na.apply(t,arguments)}function ez(){var t=bx(Nv()).domain([.1,1,10]);return t.copy=function(){return el(t,ez()).base(t.base())},Na.apply(t,arguments)}function tz(){var t=Ex(Nv());return t.copy=function(){return el(t,tz()).constant(t.constant())},Na.apply(t,arguments)}function Nx(){var t=wx(Nv());return t.copy=function(){return el(t,Nx()).exponent(t.exponent())},Na.apply(t,arguments)}function HZ(){return Nx.apply(null,arguments).exponent(.5)}const Ud=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hx,scaleDiverging:ZF,scaleDivergingLog:ez,scaleDivergingPow:Nx,scaleDivergingSqrt:HZ,scaleDivergingSymlog:tz,scaleIdentity:NF,scaleImplicit:AT,scaleLinear:MF,scaleLog:OF,scaleOrdinal:dx,scalePoint:PX,scalePow:Tx,scaleQuantile:VF,scaleQuantize:FF,scaleRadial:UF,scaleSequential:WF,scaleSequentialLog:JF,scaleSequentialPow:Mx,scaleSequentialQuantile:QF,scaleSequentialSqrt:qZ,scaleSequentialSymlog:XF,scaleSqrt:TQ,scaleSymlog:LF,scaleThreshold:zF,scaleTime:zZ,scaleUtc:BZ,tickFormat:kF},Symbol.toStringTag,{value:"Module"}));var tl=t=>t.chartData,Dx=re([tl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),nz=(t,e,n,r)=>r?Dx(t):tl(t);function $s(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(xn(e)&&xn(n))return!0}return!1}function ZN(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function rz(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(xn(n))i=n;else if(typeof n=="function")return;if(xn(r))o=r;else if(typeof r=="function")return;var a=[i,o];if($s(a))return a}}function jZ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if($s(r))return ZN(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,a,l;if(i==="auto")e!=null&&(a=Math.min(...e));else if(ze(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&cM.test(i)){var c=cM.exec(i);if(c==null||c[1]==null||e==null)a=void 0;else{var f=+c[1];a=e[0]-f}}else a=e==null?void 0:e[0];if(o==="auto")e!=null&&(l=Math.max(...e));else if(ze(o))l=o;else if(typeof o=="function")try{e!=null&&(l=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&fM.test(o)){var h=fM.exec(o);if(h==null||h[1]==null||e==null)l=void 0;else{var p=+h[1];l=e[1]+p}}else l=e==null?void 0:e[1];var g=[a,l];if($s(g))return e==null?g:ZN(g,e,n)}}}var ef=1e9,$Z={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Lx,$t=!0,ki="[DecimalError] ",Yl=ki+"Invalid argument: ",Ox=ki+"Exponent out of range: ",tf=Math.floor,Ul=Math.pow,GZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ni,Bn=1e7,Bt=7,iz=9007199254740991,_y=tf(iz/Bt),xe={};xe.absoluteValue=xe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};xe.comparedTo=xe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};xe.decimalPlaces=xe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Bt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};xe.dividedBy=xe.div=function(t){return ga(this,new this.constructor(t))};xe.dividedToIntegerBy=xe.idiv=function(t){var e=this,n=e.constructor;return Mt(ga(e,new n(t),0,1),n.precision)};xe.equals=xe.eq=function(t){return!this.cmp(t)};xe.exponent=function(){return Tn(this)};xe.greaterThan=xe.gt=function(t){return this.cmp(t)>0};xe.greaterThanOrEqualTo=xe.gte=function(t){return this.cmp(t)>=0};xe.isInteger=xe.isint=function(){return this.e>this.d.length-2};xe.isNegative=xe.isneg=function(){return this.s<0};xe.isPositive=xe.ispos=function(){return this.s>0};xe.isZero=function(){return this.s===0};xe.lessThan=xe.lt=function(t){return this.cmp(t)<0};xe.lessThanOrEqualTo=xe.lte=function(t){return this.cmp(t)<1};xe.logarithm=xe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ni))throw Error(ki+"NaN");if(n.s<1)throw Error(ki+(n.s?"NaN":"-Infinity"));return n.eq(ni)?new r(0):($t=!1,e=ga(gh(n,o),gh(t,o),o),$t=!0,Mt(e,i))};xe.minus=xe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sz(e,t):oz(e,(t.s=-t.s,t))};xe.modulo=xe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ki+"NaN");return n.s?($t=!1,e=ga(n,t,0,1).times(t),$t=!0,n.minus(e)):Mt(new r(n),i)};xe.naturalExponential=xe.exp=function(){return az(this)};xe.naturalLogarithm=xe.ln=function(){return gh(this)};xe.negated=xe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};xe.plus=xe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oz(e,t):sz(e,(t.s=-t.s,t))};xe.precision=xe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Yl+t);if(e=Tn(i)+1,r=i.d.length-1,n=r*Bt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};xe.squareRoot=xe.sqrt=function(){var t,e,n,r,i,o,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ki+"NaN")}for(t=Tn(l),$t=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=bo(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=tf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(o=r,r=o.plus(ga(l,o,a+2)).times(.5),bo(o.d).slice(0,a)===(e=bo(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Mt(o,n+1,0),o.times(o).eq(l)){r=o;break}}else if(e!="9999")break;a+=4}return $t=!0,Mt(r,n)};xe.times=xe.mul=function(t){var e,n,r,i,o,a,l,c,f,h=this,p=h.constructor,g=h.d,v=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,c=g.length,f=v.length,c<f&&(o=g,g=v,v=o,a=c,c=f,f=a),o=[],a=c+f,r=a;r--;)o.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)l=o[i]+v[r]*g[i-r-1]+e,o[i--]=l%Bn|0,e=l/Bn|0;o[i]=(o[i]+e)%Bn|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,$t?Mt(t,p.precision):t};xe.toDecimalPlaces=xe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Co(t,0,ef),e===void 0?e=r.rounding:Co(e,0,8),Mt(n,t+Tn(n)+1,e))};xe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ru(r,!0):(Co(t,0,ef),e===void 0?e=i.rounding:Co(e,0,8),r=Mt(new i(r),t+1,e),n=ru(r,!0,t+1)),n};xe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?ru(i):(Co(t,0,ef),e===void 0?e=o.rounding:Co(e,0,8),r=Mt(new o(i),t+Tn(i)+1,e),n=ru(r.abs(),!1,t+Tn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};xe.toInteger=xe.toint=function(){var t=this,e=t.constructor;return Mt(new e(t),Tn(t)+1,e.rounding)};xe.toNumber=function(){return+this};xe.toPower=xe.pow=function(t){var e,n,r,i,o,a,l=this,c=l.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(ni);if(l=new c(l),!l.s){if(t.s<1)throw Error(ki+"Infinity");return l}if(l.eq(ni))return l;if(r=c.precision,t.eq(ni))return Mt(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=l.s,a){if((n=h<0?-h:h)<=iz){for(i=new c(ni),e=Math.ceil(r/Bt+4),$t=!1;n%2&&(i=i.times(l),tD(i.d,e)),n=tf(n/2),n!==0;)l=l.times(l),tD(l.d,e);return $t=!0,t.s<0?new c(ni).div(i):Mt(i,r)}}else if(o<0)throw Error(ki+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,$t=!1,i=t.times(gh(l,r+f)),$t=!0,i=az(i),i.s=o,i};xe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Tn(i),r=ru(i,n<=o.toExpNeg||n>=o.toExpPos)):(Co(t,1,ef),e===void 0?e=o.rounding:Co(e,0,8),i=Mt(new o(i),t,e),n=Tn(i),r=ru(i,t<=n||n<=o.toExpNeg,t)),r};xe.toSignificantDigits=xe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Co(t,1,ef),e===void 0?e=r.rounding:Co(e,0,8)),Mt(new r(n),t,e)};xe.toString=xe.valueOf=xe.val=xe.toJSON=xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Tn(t),n=t.constructor;return ru(t,e<=n.toExpNeg||e>=n.toExpPos)};function oz(t,e){var n,r,i,o,a,l,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),$t?Mt(e,p):e;if(c=t.d,f=e.d,a=t.e,i=e.e,c=c.slice(),o=a-i,o){for(o<0?(r=c,o=-o,l=f.length):(r=f,i=a,l=c.length),a=Math.ceil(p/Bt),l=a>l?a+1:l+1,o>l&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(l=c.length,o=f.length,l-o<0&&(o=l,r=f,f=c,c=r),n=0;o;)n=(c[--o]=c[o]+f[o]+n)/Bn|0,c[o]%=Bn;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,$t?Mt(e,p):e}function Co(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Yl+t)}function bo(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Bt-r.length,n&&(o+=Rs(n)),o+=r;a=t[e],r=a+"",n=Bt-r.length,n&&(o+=Rs(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var ga=(function(){function t(r,i){var o,a=0,l=r.length;for(r=r.slice();l--;)o=r[l]*i+a,r[l]=o%Bn|0,a=o/Bn|0;return a&&r.unshift(a),r}function e(r,i,o,a){var l,c;if(o!=a)c=o>a?1:-1;else for(l=c=0;l<o;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Bn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var l,c,f,h,p,g,v,T,x,S,C,L,M,G,$,z,N,U,V=r.constructor,k=r.s==i.s?1:-1,P=r.d,F=i.d;if(!r.s)return new V(r);if(!i.s)throw Error(ki+"Division by zero");for(c=r.e-i.e,N=F.length,$=P.length,v=new V(k),T=v.d=[],f=0;F[f]==(P[f]||0);)++f;if(F[f]>(P[f]||0)&&--c,o==null?L=o=V.precision:a?L=o+(Tn(r)-Tn(i))+1:L=o,L<0)return new V(0);if(L=L/Bt+2|0,f=0,N==1)for(h=0,F=F[0],L++;(f<$||h)&&L--;f++)M=h*Bn+(P[f]||0),T[f]=M/F|0,h=M%F|0;else{for(h=Bn/(F[0]+1)|0,h>1&&(F=t(F,h),P=t(P,h),N=F.length,$=P.length),G=N,x=P.slice(0,N),S=x.length;S<N;)x[S++]=0;U=F.slice(),U.unshift(0),z=F[0],F[1]>=Bn/2&&++z;do h=0,l=e(F,x,N,S),l<0?(C=x[0],N!=S&&(C=C*Bn+(x[1]||0)),h=C/z|0,h>1?(h>=Bn&&(h=Bn-1),p=t(F,h),g=p.length,S=x.length,l=e(p,x,g,S),l==1&&(h--,n(p,N<g?U:F,g))):(h==0&&(l=h=1),p=F.slice()),g=p.length,g<S&&p.unshift(0),n(x,p,S),l==-1&&(S=x.length,l=e(F,x,N,S),l<1&&(h++,n(x,N<S?U:F,S))),S=x.length):l===0&&(h++,x=[0]),T[f++]=h,l&&x[0]?x[S++]=P[G]||0:(x=[P[G]],S=1);while((G++<$||x[0]!==void 0)&&L--)}return T[0]||T.shift(),v.e=c,Mt(v,a?o+Tn(v)+1:o)}})();function az(t,e){var n,r,i,o,a,l,c=0,f=0,h=t.constructor,p=h.precision;if(Tn(t)>16)throw Error(Ox+Tn(t));if(!t.s)return new h(ni);for($t=!1,l=p,a=new h(.03125);t.abs().gte(.1);)t=t.times(a),f+=5;for(r=Math.log(Ul(2,f))/Math.LN10*2+5|0,l+=r,n=i=o=new h(ni),h.precision=l;;){if(i=Mt(i.times(t),l),n=n.times(++c),a=o.plus(ga(i,n,l)),bo(a.d).slice(0,l)===bo(o.d).slice(0,l)){for(;f--;)o=Mt(o.times(o),l);return h.precision=p,e==null?($t=!0,Mt(o,p)):o}o=a}}function Tn(t){for(var e=t.e*Bt,n=t.d[0];n>=10;n/=10)e++;return e}function $E(t,e,n){if(e>t.LN10.sd())throw $t=!0,n&&(t.precision=n),Error(ki+"LN10 precision limit exceeded");return Mt(new t(t.LN10),e)}function Rs(t){for(var e="";t--;)e+="0";return e}function gh(t,e){var n,r,i,o,a,l,c,f,h,p=1,g=10,v=t,T=v.d,x=v.constructor,S=x.precision;if(v.s<1)throw Error(ki+(v.s?"NaN":"-Infinity"));if(v.eq(ni))return new x(0);if(e==null?($t=!1,f=S):f=e,v.eq(10))return e==null&&($t=!0),$E(x,f);if(f+=g,x.precision=f,n=bo(T),r=n.charAt(0),o=Tn(v),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=bo(v.d),r=n.charAt(0),p++;o=Tn(v),r>1?(v=new x("0."+n),o++):v=new x(r+"."+n.slice(1))}else return c=$E(x,f+2,S).times(o+""),v=gh(new x(r+"."+n.slice(1)),f-g).plus(c),x.precision=S,e==null?($t=!0,Mt(v,S)):v;for(l=a=v=ga(v.minus(ni),v.plus(ni),f),h=Mt(v.times(v),f),i=3;;){if(a=Mt(a.times(h),f),c=l.plus(ga(a,new x(i),f)),bo(c.d).slice(0,f)===bo(l.d).slice(0,f))return l=l.times(2),o!==0&&(l=l.plus($E(x,f+2,S).times(o+""))),l=ga(l,new x(p),f),x.precision=S,e==null?($t=!0,Mt(l,S)):l;l=c,i+=2}}function eD(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=tf(n/Bt),t.d=[],r=(n+1)%Bt,n<0&&(r+=Bt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Bt;r<i;)t.d.push(+e.slice(r,r+=Bt));e=e.slice(r),r=Bt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),$t&&(t.e>_y||t.e<-_y))throw Error(Ox+n)}else t.s=0,t.e=0,t.d=[0];return t}function Mt(t,e,n){var r,i,o,a,l,c,f,h,p=t.d;for(a=1,o=p[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Bt,i=e,f=p[h=0];else{if(h=Math.ceil((r+1)/Bt),o=p.length,h>=o)return t;for(f=o=p[h],a=1;o>=10;o/=10)a++;r%=Bt,i=r-Bt+a}if(n!==void 0&&(o=Ul(10,a-i-1),l=f/o%10|0,c=e<0||p[h+1]!==void 0||f%o,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?f/Ul(10,a-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(o=Tn(t),p.length=1,e=e-o-1,p[0]=Ul(10,(Bt-e%Bt)%Bt),t.e=tf(-e/Bt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,o=1,h--):(p.length=h+1,o=Ul(10,Bt-r),p[h]=i>0?(f/Ul(10,a-i)%Ul(10,i)|0)*o:0),c)for(;;)if(h==0){(p[0]+=o)==Bn&&(p[0]=1,++t.e);break}else{if(p[h]+=o,p[h]!=Bn)break;p[h--]=0,o=1}for(r=p.length;p[--r]===0;)p.pop();if($t&&(t.e>_y||t.e<-_y))throw Error(Ox+Tn(t));return t}function sz(t,e){var n,r,i,o,a,l,c,f,h,p,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),$t?Mt(e,v):e;if(c=t.d,p=e.d,r=e.e,f=t.e,c=c.slice(),a=f-r,a){for(h=a<0,h?(n=c,a=-a,l=p.length):(n=p,r=f,l=c.length),i=Math.max(Math.ceil(v/Bt),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}a=0}for(h&&(n=c,c=p,p=n,e.s=-e.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>a;){if(c[--i]<p[i]){for(o=i;o&&c[--o]===0;)c[o]=Bn-1;--c[o],c[i]+=Bn}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,$t?Mt(e,v):e):new g(0)}function ru(t,e,n){var r,i=Tn(t),o=bo(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Rs(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Rs(-i-1)+o,n&&(r=n-a)>0&&(o+=Rs(r))):i>=a?(o+=Rs(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Rs(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Rs(r))),t.s<0?"-"+o:o}function tD(t,e){if(t.length>e)return t.length=e,!0}function lz(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Yl+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return eD(a,o.toString())}else if(typeof o!="string")throw Error(Yl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,GZ.test(o))eD(a,o);else throw Error(Yl+o)}if(i.prototype=xe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=lz,i.config=i.set=KZ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function KZ(t){if(!t||typeof t!="object")throw Error(ki+"Object expected");var e,n,r,i=["precision",1,ef,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(tf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Yl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Yl+n+": "+r);return this}var Lx=lz($Z);ni=new Lx(1);const xt=Lx;var YZ=t=>t,uz={},cz=t=>t===uz,nD=t=>function e(){return arguments.length===0||arguments.length===1&&cz(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},fz=(t,e)=>t===1?e:nD(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(a=>a!==uz).length;return o>=t?e(...r):fz(t-o,nD(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var f=r.map(h=>cz(h)?l.shift():h);return e(...f,...l)}))}),WZ=t=>fz(t.length,t),PT=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},JZ=WZ((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),XZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return YZ;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce((l,c)=>c(l),o(...arguments))}};function dz(t){var e;return t===0?e=1:e=Math.floor(new xt(t).abs().log(10).toNumber())+1,e}function hz(t,e,n){for(var r=new xt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var pz=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},mz=(t,e,n)=>{if(t.lte(0))return new xt(0);var r=dz(t.toNumber()),i=new xt(10).pow(r),o=t.div(i),a=r!==1?.05:.1,l=new xt(Math.ceil(o.div(a).toNumber())).add(n).mul(a),c=l.mul(i);return e?new xt(c.toNumber()):new xt(Math.ceil(c.toNumber()))},QZ=(t,e,n)=>{var r=new xt(1),i=new xt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new xt(10).pow(dz(t)-1),i=new xt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new xt(Math.floor(t)))}else t===0?i=new xt(Math.floor((e-1)/2)):n||(i=new xt(Math.floor(t)));var a=Math.floor((e-1)/2),l=XZ(JZ(c=>i.add(new xt(c-a).mul(r)).toNumber()),PT);return l(0,e)},gz=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new xt(0),tickMin:new xt(0),tickMax:new xt(0)};var a=mz(new xt(n).sub(e).div(r-1),i,o),l;e<=0&&n>=0?l=new xt(0):(l=new xt(e).add(n).div(2),l=l.sub(new xt(l).mod(a)));var c=Math.ceil(l.sub(e).div(a).toNumber()),f=Math.ceil(new xt(n).sub(l).div(a).toNumber()),h=c+f+1;return h>r?gz(e,n,r,i,o+1):(h<r&&(f=n>0?f+(r-h):f,c=n>0?c:c+(r-h)),{step:a,tickMin:l.sub(new xt(c).mul(a)),tickMax:l.add(new xt(f).mul(a))})},ZZ=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[l,c]=pz([n,r]);if(l===-1/0||c===1/0){var f=c===1/0?[l,...PT(0,i-1).map(()=>1/0)]:[...PT(0,i-1).map(()=>-1/0),c];return n>r?f.reverse():f}if(l===c)return QZ(l,i,o);var{step:h,tickMin:p,tickMax:g}=gz(l,c,a,o,0),v=hz(p,g.add(new xt(.1).mul(h)),h);return n>r?v.reverse():v},eee=function(e,n){var[r,i]=e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=pz([r,i]);if(a===-1/0||l===1/0)return[r,i];if(a===l)return[a];var c=Math.max(n,2),f=mz(new xt(l).sub(a).div(c-1),o,0),h=[...hz(new xt(a),new xt(l),f),l];return o===!1&&(h=h.map(p=>Math.round(p))),r>i?h.reverse():h},tee=t=>t.rootProps.barCategoryGap,Kh=t=>t.rootProps.stackOffset,yz=t=>t.rootProps.reverseStackOrder,Ux=t=>t.options.chartName,Vx=t=>t.rootProps.syncId,vz=t=>t.rootProps.syncMethod,Fx=t=>t.options.eventEmitter,$i={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},la={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ti={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Dv=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},nee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:la.angleAxisId,includeHidden:!1,name:void 0,reversed:la.reversed,scale:la.scale,tick:la.tick,tickCount:void 0,ticks:void 0,type:la.type,unit:void 0},ree={allowDataOverflow:ti.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ti.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ti.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ti.scale,tick:ti.tick,tickCount:ti.tickCount,ticks:void 0,type:ti.type,unit:void 0},iee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:la.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:la.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:la.scale,tick:la.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},oee={allowDataOverflow:ti.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ti.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ti.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ti.scale,tick:ti.tick,tickCount:ti.tickCount,ticks:void 0,type:"category",unit:void 0},zx=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?iee:nee,Bx=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?oee:ree,Ov=t=>t.polarOptions,qx=re([ka,Ma,jn],yF),_z=re([Ov,qx],(t,e)=>{if(t!=null)return oi(t.innerRadius,e,0)}),bz=re([Ov,qx],(t,e)=>{if(t!=null)return oi(t.outerRadius,e,e*.8)}),aee=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},Ez=re([Ov],aee);re([zx,Ez],Dv);var wz=re([qx,_z,bz],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});re([Bx,wz],Dv);var Tz=re([Lt,Ov,_z,bz,ka,Ma],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:l,startAngle:c,endAngle:f}=e;return{cx:oi(a,i,i/2),cy:oi(l,o,o/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:f,clockWise:!1}}}),Gt=(t,e)=>e,Yh=(t,e,n)=>n;function Sz(t){return t==null?void 0:t.id}function xz(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:o}=n,a=new Map;return t.forEach(l=>{var c,f=(c=l.data)!==null&&c!==void 0?c:r;if(!(f==null||f.length===0)){var h=Sz(l);f.forEach((p,g)=>{var v=o==null||i?g:String(an(p,o,null)),T=an(p,l.dataKey,0),x;a.has(v)?x=a.get(v):x={},Object.assign(x,{[h]:T}),a.set(v,x)})}}),Array.from(a.values())}function Hx(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Lv=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Uv(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function see(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Nn=t=>{var e=Lt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},nf=t=>t.tooltip.settings.axisId;function rD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function by(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(n),!0).forEach(function(r){lee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lee(t,e,n){return(e=uee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uee(t){var e=cee(t,"string");return typeof e=="symbol"?e:e+""}function cee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kT=[0,"auto"],fee={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},dee=(t,e)=>t.cartesianAxis.xAxis[e],nl=(t,e)=>{var n=dee(t,e);return n??fee},hee={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:kT,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Bh},pee=(t,e)=>t.cartesianAxis.yAxis[e],rl=(t,e)=>{var n=pee(t,e);return n??hee},mee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},jx=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??mee},Jt=(t,e,n)=>{switch(e){case"xAxis":return nl(t,n);case"yAxis":return rl(t,n);case"zAxis":return jx(t,n);case"angleAxis":return zx(t,n);case"radiusAxis":return Bx(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},gee=(t,e,n)=>{switch(e){case"xAxis":return nl(t,n);case"yAxis":return rl(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Wh=(t,e,n)=>{switch(e){case"xAxis":return nl(t,n);case"yAxis":return rl(t,n);case"angleAxis":return zx(t,n);case"radiusAxis":return Bx(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Az=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function $x(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var yee=t=>t.graphicalItems.cartesianItems,vee=re([Gt,Yh],$x),Gx=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Jh=re([yee,Jt,vee],Gx,{memoizeOptions:{resultEqualityCheck:Uv}}),Cz=re([Jh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Hx)),Iz=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),_ee=re([Jh],Iz),Kx=t=>t.map(e=>e.data).filter(Boolean).flat(1),bee=re([Jh],Kx,{memoizeOptions:{resultEqualityCheck:Uv}}),Yx=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},Wx=re([bee,nz],Yx),Jx=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:an(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:an(i,r)}))):t.map(r=>({value:r})),Vv=re([Wx,Jt,Jh],Jx);function Rz(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Ag(t){if(ba(t)||t instanceof Date){var e=Number(t);if(xn(e))return e}}function iD(t){if(Array.isArray(t)){var e=[Ag(t[0]),Ag(t[1])];return $s(e)?e:void 0}var n=Ag(t);if(n!=null)return[n,n]}function xa(t){return t.map(Ag).filter(C7)}function Eee(t,e,n){return!n||typeof e!="number"||va(e)?[]:n.length?xa(n.flatMap(r=>{var i=an(t,r.dataKey),o,a;if(Array.isArray(i)?[o,a]=i:o=a=i,!(!xn(o)||!xn(a)))return[e-o,e+a]})):[]}var Dn=t=>{var e=Nn(t),n=nf(t);return Wh(t,e,n)},Xh=re([Dn],t=>t==null?void 0:t.dataKey),wee=re([Cz,nz,Dn],xz),Pz=(t,e,n,r)=>{var i={},o=e.reduce((a,l)=>{if(l.stackId==null)return a;var c=a[l.stackId];return c==null&&(c=[]),c.push(l),a[l.stackId]=c,a},i);return Object.fromEntries(Object.entries(o).map(a=>{var[l,c]=a,f=r?[...c].reverse():c,h=f.map(Sz);return[l,{stackedData:KY(t,h,n),graphicalItems:f}]}))},Tee=re([wee,Cz,Kh,yz],Pz),kz=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=e;if(r==null&&n!=="zAxis"){var a=JY(t,i,o);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},See=re([Jt],t=>t.allowDataOverflow),Xx=t=>{var e;if(t==null||!("domain"in t))return kT;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=xa(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:kT},Qx=re([Jt],Xx),Zx=re([Qx,See],rz),xee=re([Tee,tl,Gt,Zx],kz,{memoizeOptions:{resultEqualityCheck:Lv}}),Fv=t=>t.errorBars,Aee=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>Rz(n,r)),Ey=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),a=Math.min(...o),l=Math.max(...o);return[a,l]}},eA=(t,e,n,r,i)=>{var o,a;if(n.length>0&&t.forEach(l=>{n.forEach(c=>{var f,h,p=(f=r[c.id])===null||f===void 0?void 0:f.filter(C=>Rz(i,C)),g=an(l,(h=e.dataKey)!==null&&h!==void 0?h:c.dataKey),v=Eee(l,g,p);if(v.length>=2){var T=Math.min(...v),x=Math.max(...v);(o==null||T<o)&&(o=T),(a==null||x>a)&&(a=x)}var S=iD(g);S!=null&&(o=o==null?S[0]:Math.min(o,S[0]),a=a==null?S[1]:Math.max(a,S[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(l=>{var c=iD(an(l,e.dataKey));c!=null&&(o=o==null?c[0]:Math.min(o,c[0]),a=a==null?c[1]:Math.max(a,c[1]))}),xn(o)&&xn(a))return[o,a]},Cee=re([Wx,Jt,_ee,Fv,Gt],eA,{memoizeOptions:{resultEqualityCheck:Lv}});function Iee(t){var{value:e}=t;if(ba(e)||e instanceof Date)return e}var Ree=(t,e,n)=>{var r=t.map(Iee).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&r4(r))?EF(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},Mz=t=>t.referenceElements.dots,rf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Pee=re([Mz,Gt,Yh],rf),Nz=t=>t.referenceElements.areas,kee=re([Nz,Gt,Yh],rf),Dz=t=>t.referenceElements.lines,Mee=re([Dz,Gt,Yh],rf),Oz=(t,e)=>{if(t!=null){var n=xa(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Nee=re(Pee,Gt,Oz),Lz=(t,e)=>{if(t!=null){var n=xa(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Dee=re([kee,Gt],Lz);function Oee(t){var e;if(t.x!=null)return xa([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:xa(n)}function Lee(t){var e;if(t.y!=null)return xa([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:xa(n)}var Uz=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Oee(r):Lee(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Uee=re([Mee,Gt],Uz),Vee=re(Nee,Uee,Dee,(t,e,n)=>Ey(t,n,e)),tA=(t,e,n,r,i,o,a,l)=>{if(n!=null)return n;var c=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",f=c?Ey(r,o,i):Ey(o,i);return jZ(e,f,t.allowDataOverflow)},Fee=re([Jt,Qx,Zx,xee,Cee,Vee,Lt,Gt],tA,{memoizeOptions:{resultEqualityCheck:Lv}}),zee=[0,1],nA=(t,e,n,r,i,o,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:l,type:c}=t,f=hu(e,o);if(f&&l==null){var h;return EF(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return c==="category"?Ree(r,t,f):i==="expand"?zee:a}},rA=re([Jt,Lt,Wx,Vv,Kh,Gt,Fee],nA),Vz=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:a}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof o=="string"){var l="scale".concat(Lh(o));return l in Ud?l:"point"}}},of=re([Jt,Lt,Az,Ux,Gt],Vz);function Bee(t){if(t!=null){if(t in Ud)return Ud[t]();var e="scale".concat(Lh(t));if(e in Ud)return Ud[e]()}}function iA(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Bee(e);if(i!=null){var o=i.domain(n).range(r);return HY(o),o}}}var oA=(t,e,n)=>{var r=Xx(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&$s(t))return ZZ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&$s(t))return eee(t,e.tickCount,e.allowDecimals)}},aA=re([rA,Wh,of],oA),sA=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&$s(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],a=e[1],l=n[n.length-1];return[Math.min(i,o),Math.max(a,l)]}return e},qee=re([Jt,rA,aA,Gt],sA),Hee=re(Vv,Jt,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(xa(t.map(p=>p.value))).sort((p,g)=>p-g),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var a=o-i;if(a===0)return 1/0;for(var l=0;l<r.length-1;l++){var c=r[l],f=r[l+1];if(!(c==null||f==null)){var h=f-c;n=Math.min(n,h)}}return n/a}}),Fz=re(Hee,Lt,tee,jn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!xn(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var a=oi(n,t*o),l=t*o/2;return l-a-(l-a)/o*a}return 0}),jee=(t,e,n)=>{var r=nl(t,e);return r==null||typeof r.padding!="string"?0:Fz(t,"xAxis",e,n,r.padding)},$ee=(t,e,n)=>{var r=rl(t,e);return r==null||typeof r.padding!="string"?0:Fz(t,"yAxis",e,n,r.padding)},Gee=re(nl,jee,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Kee=re(rl,$ee,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Yee=re([jn,Gee,Ev,bv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),Wee=re([jn,Lt,Kee,Ev,bv,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:a}=i;return o?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Qh=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Yee(t,n,r);case"yAxis":return Wee(t,n,r);case"zAxis":return(i=jx(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Ez(t);case"radiusAxis":return wz(t,n);default:return}},zz=re([Jt,Qh],Dv),zv=re([Jt,of,qee,zz],iA);re([Jh,Fv,Gt],Aee);function Bz(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Bv=(t,e)=>e,qv=(t,e,n)=>n,Jee=re(vv,Bv,qv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Bz)),Xee=re(_v,Bv,qv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Bz)),qz=(t,e)=>({width:t.width,height:e.height}),Qee=(t,e)=>{var n=typeof e.width=="number"?e.width:Bh;return{width:n,height:t.height}};re(jn,nl,qz);var Zee=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},ete=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},tte=re(Ma,jn,Jee,Bv,qv,(t,e,n,r,i)=>{var o={},a;return n.forEach(l=>{var c=qz(e,l);a==null&&(a=Zee(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;o[l.id]=a-Number(f)*c.height,a+=(f?-1:1)*c.height}),o}),nte=re(ka,jn,Xee,Bv,qv,(t,e,n,r,i)=>{var o={},a;return n.forEach(l=>{var c=Qee(e,l);a==null&&(a=ete(e,r,t));var f=r==="left"&&!i||r==="right"&&i;o[l.id]=a-Number(f)*c.width,a+=(f?-1:1)*c.width}),o}),rte=(t,e)=>{var n=nl(t,e);if(n!=null)return tte(t,n.orientation,n.mirror)};re([jn,nl,rte,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}});var ite=(t,e)=>{var n=rl(t,e);if(n!=null)return nte(t,n.orientation,n.mirror)};re([jn,rl,ite,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}});re(jn,rl,(t,e)=>{var n=typeof e.width=="number"?e.width:Bh;return{width:n,height:t.height}});var Hz=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:a}=n,l=hu(t,r),c=e.map(f=>f.value);if(a&&l&&o==="category"&&i&&r4(c))return c}},lA=re([Lt,Vv,Jt,Gt],Hz),jz=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,a=hu(t,r);if(a&&(i==="number"||o!=="auto"))return e.map(l=>l.value)}},uA=re([Lt,Vv,Wh,Gt],jz);re([Lt,gee,of,zv,lA,uA,Qh,aA,Gt],(t,e,n,r,i,o,a,l,c)=>{if(e!=null){var f=hu(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:o,duplicateDomain:i,isCategorical:f,niceTicks:l,range:a,realScaleType:n,scale:r}}});var ote=(t,e,n,r,i,o,a,l,c)=>{if(!(e==null||r==null)){var f=hu(t,c),{type:h,ticks:p,tickCount:g}=e,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,T=h==="category"&&r.bandwidth?r.bandwidth()/v:0;T=c==="angleAxis"&&o!=null&&o.length>=2?zr(o[0]-o[1])*2*T:T;var x=p||i;if(x){var S=x.map((C,L)=>{var M=a?a.indexOf(C):C;return{index:L,coordinate:r(M)+T,value:C,offset:T}});return S.filter(C=>xn(C.coordinate))}return f&&l?l.map((C,L)=>({coordinate:r(C)+T,value:C,index:L,offset:T})).filter(C=>xn(C.coordinate)):r.ticks?r.ticks(g).map(C=>({coordinate:r(C)+T,value:C,offset:T})):r.domain().map((C,L)=>({coordinate:r(C)+T,value:a?a[C]:C,index:L,offset:T}))}};re([Lt,Wh,of,zv,aA,Qh,lA,uA,Gt],ote);var ate=(t,e,n,r,i,o,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=hu(t,a),{tickCount:c}=e,f=0;return f=a==="angleAxis"&&(r==null?void 0:r.length)>=2?zr(r[0]-r[1])*2*f:f,l&&o?o.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.ticks?n.ticks(c).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}};re([Lt,Wh,zv,Qh,lA,uA,Gt],ate);re(Jt,zv,(t,e)=>{if(!(t==null||e==null))return by(by({},t),{},{scale:e})});var ste=re([Jt,of,rA,zz],iA);re((t,e,n)=>jx(t,n),ste,(t,e)=>{if(!(t==null||e==null))return by(by({},t),{},{scale:e})});var lte=re([Lt,vv,_v],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),$z=t=>t.options.defaultTooltipEventType,Gz=t=>t.options.validateTooltipEventTypes;function Kz(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function cA(t,e){var n=$z(t),r=Gz(t);return Kz(e,n,r)}function ute(t){return Je(e=>cA(e,t))}var Yz=(t,e)=>{var n,r=Number(e);if(!(va(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},cte=t=>t.tooltip.settings,Ps={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},fte={itemInteraction:{click:Ps,hover:Ps},axisInteraction:{click:Ps,hover:Ps},keyboardInteraction:Ps,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Wz=Hr({name:"tooltip",initialState:fte,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:jt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ki(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:jt()},removeTooltipEntrySettings:{reducer(t,e){var n=Ki(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:jt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:dte,replaceTooltipEntrySettings:hte,removeTooltipEntrySettings:pte,setTooltipSettingsState:mte,setActiveMouseOverItemIndex:Jz,mouseLeaveItem:gte,mouseLeaveChart:Xz,setActiveClickItemIndex:yte,setMouseOverAxisIndex:Qz,setMouseClickAxisIndex:vte,setSyncInteraction:MT,setKeyboardInteraction:NT}=Wz.actions,_te=Wz.reducer;function oD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ng(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(n),!0).forEach(function(r){bte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bte(t,e,n){return(e=Ete(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ete(t){var e=wte(t,"string");return typeof e=="symbol"?e:e+""}function wte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tte(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Ste(t){return t.index!=null}var Zz=(t,e,n,r)=>{if(e==null)return Ps;var i=Tte(t,e,n);if(i==null)return Ps;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(Ste(i)){if(o)return ng(ng({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return ng(ng({},Ps),{},{coordinate:i.coordinate})};function xte(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Ate(t,e){var n=xte(t),r=e[0],i=e[1];if(n===void 0)return!1;var o=Math.min(r,i),a=Math.max(r,i);return n>=o&&n<=a}function Cte(t,e,n){if(n==null||e==null)return!0;var r=an(t,e);return r==null||!$s(n)?!0:Ate(r,n)}var fA=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var o=Number(i);if(!xn(o))return i;var a=0,l=1/0;e.length>0&&(l=e.length-1);var c=Math.max(a,Math.min(o,l)),f=e[c];return f==null||Cte(f,n,r)?String(c):null},eB=(t,e,n,r,i,o,a,l)=>{if(!(o==null||l==null)){var c=a[0],f=c==null?void 0:l(c.positions,o);if(f!=null)return f;var h=i==null?void 0:i[Number(o)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},tB=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=t.tooltipItemPayloads[0];return o!=null?[o]:[]}return t.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.graphicalItemId)===i})},Zh=t=>t.options.tooltipPayloadSearcher,af=t=>t.tooltip;function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){Ite(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ite(t,e,n){return(e=Rte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rte(t){var e=Pte(t,"string");return typeof e=="symbol"?e:e+""}function Pte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kte(t,e){return t??e}var nB=(t,e,n,r,i,o,a)=>{if(!(e==null||o==null)){var{chartData:l,computedData:c,dataStartIndex:f,dataEndIndex:h}=n,p=[];return t.reduce((g,v)=>{var T,{dataDefinedOnItem:x,settings:S}=v,C=kte(x,l),L=Array.isArray(C)?W4(C,f,h):C,M=(T=S==null?void 0:S.dataKey)!==null&&T!==void 0?T:r,G=S==null?void 0:S.nameKey,$;if(r&&Array.isArray(L)&&!Array.isArray(L[0])&&a==="axis"?$=A7(L,r,i):$=o(L,e,c,G),Array.isArray($))$.forEach(N=>{var U=sD(sD({},S),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});g.push(hM({tooltipEntrySettings:U,dataKey:N.dataKey,payload:N.payload,value:an(N.payload,N.dataKey),name:N.name}))});else{var z;g.push(hM({tooltipEntrySettings:S,dataKey:M,payload:$,value:an($,M),name:(z=an($,G))!==null&&z!==void 0?z:S==null?void 0:S.name}))}return g},p)}},dA=re([Dn,Lt,Az,Ux,Nn],Vz),Mte=re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Nte=re([Nn,nf],$x),sf=re([Mte,Dn,Nte],Gx,{memoizeOptions:{resultEqualityCheck:Uv}}),Dte=re([sf],t=>t.filter(Hx)),Ote=re([sf],Kx,{memoizeOptions:{resultEqualityCheck:Uv}}),lf=re([Ote,tl],Yx),Lte=re([Dte,tl,Dn],xz),hA=re([lf,Dn,sf],Jx),rB=re([Dn],Xx),Ute=re([Dn],t=>t.allowDataOverflow),iB=re([rB,Ute],rz),Vte=re([sf],t=>t.filter(Hx)),Fte=re([Lte,Vte,Kh,yz],Pz),zte=re([Fte,tl,Nn,iB],kz),Bte=re([sf],Iz),qte=re([lf,Dn,Bte,Fv,Nn],eA,{memoizeOptions:{resultEqualityCheck:Lv}}),Hte=re([Mz,Nn,nf],rf),jte=re([Hte,Nn],Oz),$te=re([Nz,Nn,nf],rf),Gte=re([$te,Nn],Lz),Kte=re([Dz,Nn,nf],rf),Yte=re([Kte,Nn],Uz),Wte=re([jte,Yte,Gte],Ey),Jte=re([Dn,rB,iB,zte,qte,Wte,Lt,Nn],tA),ep=re([Dn,Lt,lf,hA,Kh,Nn,Jte],nA),Xte=re([ep,Dn,dA],oA),Qte=re([Dn,ep,Xte,Nn],sA),oB=t=>{var e=Nn(t),n=nf(t),r=!1;return Qh(t,e,n,r)},aB=re([Dn,oB],Dv),sB=re([Dn,dA,Qte,aB],iA),Zte=re([Lt,hA,Dn,Nn],Hz),ene=re([Lt,hA,Dn,Nn],jz),tne=(t,e,n,r,i,o,a,l)=>{if(e){var{type:c}=e,f=hu(t,l);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?zr(i[0]-i[1])*2*p:p,f&&a?a.map((g,v)=>({coordinate:r(g)+p,value:g,index:v,offset:p})):r.domain().map((g,v)=>({coordinate:r(g)+p,value:o?o[g]:g,index:v,offset:p}))}}},Da=re([Lt,Dn,dA,sB,oB,Zte,ene,Nn],tne),pA=re([$z,Gz,cte],(t,e,n)=>Kz(n.shared,t,e)),lB=t=>t.tooltip.settings.trigger,mA=t=>t.tooltip.settings.defaultIndex,tp=re([af,pA,lB,mA],Zz),yh=re([tp,lf,Xh,ep],fA),uB=re([Da,yh],Yz),cB=re([tp],t=>{if(t)return t.dataKey}),nne=re([tp],t=>{if(t)return t.graphicalItemId}),fB=re([af,pA,lB,mA],tB),rne=re([ka,Ma,Lt,jn,Da,mA,fB,Zh],eB),ine=re([tp,rne],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),one=re([tp],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),ane=re([fB,yh,tl,Xh,uB,Zh,pA],nB);re([ane],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function lD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(n),!0).forEach(function(r){sne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sne(t,e,n){return(e=lne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lne(t){var e=une(t,"string");return typeof e=="symbol"?e:e+""}function une(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cne=()=>Je(Dn),fne=()=>{var t=cne(),e=Je(Da),n=Je(sB);return dM(!t||!n?void 0:uD(uD({},t),{},{scale:n}),e)};function cD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(n),!0).forEach(function(r){dne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dne(t,e,n){return(e=hne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hne(t){var e=pne(t,"string");return typeof e=="symbol"?e:e+""}function pne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mne=(t,e,n,r)=>{var i=e.find(o=>o&&o.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},gne=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="centric"){var o=i.coordinate,{radius:a}=r;return uc(uc(uc({},r),En(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var l=i.coordinate,{angle:c}=r;return uc(uc(uc({},r),En(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function yne(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var dB=(t,e,n,r,i)=>{var o,a=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(a<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<a;l++){var c,f,h,p,g,v=l>0?(c=n[l-1])===null||c===void 0?void 0:c.coordinate:(f=n[a-1])===null||f===void 0?void 0:f.coordinate,T=(h=n[l])===null||h===void 0?void 0:h.coordinate,x=l>=a-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(g=n[l+1])===null||g===void 0?void 0:g.coordinate,S=void 0;if(!(v==null||T==null||x==null))if(zr(T-v)!==zr(x-T)){var C=[];if(zr(x-T)===zr(i[1]-i[0])){S=x;var L=T+i[1]-i[0];C[0]=Math.min(L,(L+v)/2),C[1]=Math.max(L,(L+v)/2)}else{S=v;var M=x+i[1]-i[0];C[0]=Math.min(T,(M+T)/2),C[1]=Math.max(T,(M+T)/2)}var G=[Math.min(T,(S+T)/2),Math.max(T,(S+T)/2)];if(t>G[0]&&t<=G[1]||t>=C[0]&&t<=C[1]){var $;return($=n[l])===null||$===void 0?void 0:$.index}}else{var z=Math.min(v,x),N=Math.max(v,x);if(t>(z+T)/2&&t<=(N+T)/2){var U;return(U=n[l])===null||U===void 0?void 0:U.index}}}else if(e)for(var V=0;V<a;V++){var k=e[V];if(k!=null){var P=e[V+1],F=e[V-1];if(V===0&&P!=null&&t<=(k.coordinate+P.coordinate)/2||V===a-1&&F!=null&&t>(k.coordinate+F.coordinate)/2||V>0&&V<a-1&&F!=null&&P!=null&&t>(k.coordinate+F.coordinate)/2&&t<=(k.coordinate+P.coordinate)/2)return k.index}}return-1},vne=()=>Je(Ux),gA=(t,e)=>e,hB=(t,e,n)=>n,yA=(t,e,n,r)=>r,_ne=re(Da,t=>uv(t,e=>e.coordinate)),vA=re([af,gA,hB,yA],Zz),_A=re([vA,lf,Xh,ep],fA),bne=(t,e,n)=>{if(e!=null){var r=af(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},pB=re([af,gA,hB,yA],tB),wy=re([ka,Ma,Lt,jn,Da,yA,pB,Zh],eB),Ene=re([vA,wy],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),mB=re([Da,_A],Yz),wne=re([pB,_A,tl,Xh,mB,Zh,gA],nB),Tne=re([vA,_A],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Sne=(t,e,n,r,i,o,a)=>{if(!(!t||!n||!r||!i)&&yne(t,a)){var l=XY(t,e),c=dB(l,o,i,n,r),f=mne(e,i,c,t);return{activeIndex:String(c),activeCoordinate:f}}},xne=(t,e,n,r,i,o,a)=>{if(!(!t||!r||!i||!o||!n)){var l=aX(t,n);if(l){var c=QY(l,e),f=dB(c,a,o,r,i),h=gne(e,o,f,l);return{activeIndex:String(f),activeCoordinate:h}}}},Ane=(t,e,n,r,i,o,a,l)=>{if(!(!t||!e||!r||!i||!o))return e==="horizontal"||e==="vertical"?Sne(t,e,r,i,o,a,l):xne(t,e,n,r,i,o,a)},Cne=re(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Ine=re(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values($i)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:see}});function fD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(n),!0).forEach(function(r){Rne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rne(t,e,n){return(e=Pne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pne(t){var e=kne(t,"string");return typeof e=="symbol"?e:e+""}function kne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mne={},Nne={zIndexMap:Object.values($i).reduce((t,e)=>dD(dD({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Mne)},Dne=new Set(Object.values($i));function One(t){return Dne.has(t)}var gB=Hr({name:"zIndex",initialState:Nne,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:jt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!One(n)&&delete t.zIndexMap[n])},prepare:jt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:jt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:jt()}}}),{registerZIndexPortal:Lne,unregisterZIndexPortal:Une,registerZIndexPortalElement:Vne,unregisterZIndexPortalElement:Fne}=gB.actions,zne=gB.reducer;function np(t){var{zIndex:e,children:n}=t,r=MW(),i=r&&e!==void 0&&e!==0,o=Qs(),a=kn();O.useLayoutEffect(()=>i?(a(Lne({zIndex:e})),()=>{a(Une({zIndex:e}))}):Uh,[a,e,i]);var l=Je(c=>Cne(c,e,o));return i?l?sV.createPortal(n,l):null:n}function DT(){return DT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DT.apply(null,arguments)}function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){Bne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bne(t,e,n){return(e=qne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qne(t){var e=Hne(t,"string");return typeof e=="symbol"?e:e+""}function Hne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jne(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return O.isValidElement(e)?O.cloneElement(e,r):O.createElement(n,r)}function $ne(t){var e,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:a,layout:l,cursor:c,tooltipEventType:f,chartName:h}=t,p=n,g=r,v=i;if(!c||!p||h!=="ScatterChart"&&f!=="axis")return null;var T,x,S;if(h==="ScatterChart")T=p,x=bJ,S=$i.cursorLine;else if(h==="BarChart")T=EJ(l,p,o,a),x=gF,S=$i.cursorRectangle;else if(l==="radial"&&a4(p)){var{cx:C,cy:L,radius:M,startAngle:G,endAngle:$}=vF(p);T={cx:C,cy:L,startAngle:G,endAngle:$,innerRadius:M,outerRadius:M},x=bF,S=$i.cursorLine}else T={points:cX(l,p,o)},x=sx,S=$i.cursorLine;var z=typeof c=="object"&&"className"in c?c.className:void 0,N=rg(rg(rg(rg({stroke:"#ccc",pointerEvents:"none"},o),T),Gw(c)),{},{payload:g,payloadIndex:v,className:Sn("recharts-tooltip-cursor",z)});return O.createElement(np,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},O.createElement(jne,{cursor:c,cursorComp:x,cursorProps:N}))}function Gne(t){var e=fne(),n=RW(),r=Tv(),i=vne();return e==null||n==null||r==null||i==null?null:O.createElement($ne,DT({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var yB=O.createContext(null),Kne=()=>O.useContext(yB),GE={exports:{}},pD;function Yne(){return pD||(pD=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function o(c,f,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new i(h,p||c,g),T=n?n+f:f;return c._events[T]?c._events[T].fn?c._events[T]=[c._events[T],v]:c._events[T].push(v):(c._events[T]=v,c._eventsCount++),c}function a(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,T=new Array(v);g<v;g++)T[g]=p[g].fn;return T},l.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,h,p,g,v,T){var x=n?n+f:f;if(!this._events[x])return!1;var S=this._events[x],C=arguments.length,L,M;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),C){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,p),!0;case 4:return S.fn.call(S.context,h,p,g),!0;case 5:return S.fn.call(S.context,h,p,g,v),!0;case 6:return S.fn.call(S.context,h,p,g,v,T),!0}for(M=1,L=new Array(C-1);M<C;M++)L[M-1]=arguments[M];S.fn.apply(S.context,L)}else{var G=S.length,$;for(M=0;M<G;M++)switch(S[M].once&&this.removeListener(f,S[M].fn,void 0,!0),C){case 1:S[M].fn.call(S[M].context);break;case 2:S[M].fn.call(S[M].context,h);break;case 3:S[M].fn.call(S[M].context,h,p);break;case 4:S[M].fn.call(S[M].context,h,p,g);break;default:if(!L)for($=1,L=new Array(C-1);$<C;$++)L[$-1]=arguments[$];S[M].fn.apply(S[M].context,L)}}return!0},l.prototype.on=function(f,h,p){return o(this,f,h,p,!1)},l.prototype.once=function(f,h,p){return o(this,f,h,p,!0)},l.prototype.removeListener=function(f,h,p,g){var v=n?n+f:f;if(!this._events[v])return this;if(!h)return a(this,v),this;var T=this._events[v];if(T.fn)T.fn===h&&(!g||T.once)&&(!p||T.context===p)&&a(this,v);else{for(var x=0,S=[],C=T.length;x<C;x++)(T[x].fn!==h||g&&!T[x].once||p&&T[x].context!==p)&&S.push(T[x]);S.length?this._events[v]=S.length===1?S[0]:S:a(this,v)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(GE)),GE.exports}var Wne=Yne();const Jne=Ni(Wne);var vh=new Jne,OT="recharts.syncEvent.tooltip",mD="recharts.syncEvent.brush";function Xne(t,e){if(e){var n=Number.parseInt(e,10);if(!va(n))return t==null?void 0:t[n]}}var Qne={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},vB=Hr({name:"options",initialState:Qne,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Zne=vB.reducer,{createEventEmitter:ere}=vB.actions;function tre(t){return t.tooltip.syncInteraction}var nre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},_B=Hr({name:"chartData",initialState:nre,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:gD,setDataStartEndIndexes:rre,setComputedData:eIe}=_B.actions,ire=_B.reducer,ore=["x","y"];function yD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yD(Object(n),!0).forEach(function(r){are(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function are(t,e,n){return(e=sre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sre(t){var e=lre(t,"string");return typeof e=="symbol"?e:e+""}function lre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ure(t,e){if(t==null)return{};var n,r,i=cre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fre(){var t=Je(Vx),e=Je(Fx),n=kn(),r=Je(vz),i=Je(Da),o=Tv(),a=wv(),l=Je(c=>c.rootProps.className);O.useEffect(()=>{if(t==null)return Uh;var c=(f,h,p)=>{if(e!==p&&t===f){if(r==="index"){var g;if(a&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var v=h.payload.coordinate,{x:T,y:x}=v,S=ure(v,ore),{x:C,y:L,width:M,height:G}=h.payload.sourceViewBox,$=cc(cc({},S),{},{x:a.x+(M?(T-C)/M:0)*a.width,y:a.y+(G?(x-L)/G:0)*a.height});n(cc(cc({},h),{},{payload:cc(cc({},h.payload),{},{coordinate:$})}))}else n(h);return}if(i!=null){var z;if(typeof r=="function"){var N={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},U=r(i,N);z=i[U]}else r==="value"&&(z=i.find(J=>String(J.value)===h.payload.label));var{coordinate:V}=h.payload;if(z==null||h.payload.active===!1||V==null||a==null){n(MT({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:k,y:P}=V,F=Math.min(k,a.x+a.width),B=Math.min(P,a.y+a.height),ie={x:o==="horizontal"?z.coordinate:F,y:o==="horizontal"?B:z.coordinate},ae=MT({active:h.payload.active,coordinate:ie,dataKey:h.payload.dataKey,index:String(z.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(ae)}}};return vh.on(OT,c),()=>{vh.off(OT,c)}},[l,n,e,t,r,i,o,a])}function dre(){var t=Je(Vx),e=Je(Fx),n=kn();O.useEffect(()=>{if(t==null)return Uh;var r=(i,o,a)=>{e!==a&&t===i&&n(rre(o))};return vh.on(mD,r),()=>{vh.off(mD,r)}},[n,e,t])}function hre(){var t=kn();O.useEffect(()=>{t(ere())},[t]),fre(),dre()}function pre(t,e,n,r,i,o){var a=Je(v=>bne(v,t,e)),l=Je(Fx),c=Je(Vx),f=Je(vz),h=Je(tre),p=h==null?void 0:h.active,g=wv();O.useEffect(()=>{if(!p&&c!=null&&l!=null){var v=MT({active:o,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});vh.emit(OT,c,v,l)}},[p,n,a,i,r,l,c,f,o,g])}function vD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _D(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(n),!0).forEach(function(r){mre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mre(t,e,n){return(e=gre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gre(t){var e=yre(t,"string");return typeof e=="symbol"?e:e+""}function yre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vre(t){return t.dataKey}function _re(t,e){return O.isValidElement(t)?O.cloneElement(t,e):typeof t=="function"?O.createElement(t,e):O.createElement(ZW,e)}var bD=[],bre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ere(t){var e,n,r=ko(t,bre),{active:i,allowEscapeViewBox:o,animationDuration:a,animationEasing:l,content:c,filterNull:f,isAnimationActive:h,offset:p,payloadUniqBy:g,position:v,reverseDirection:T,useTranslate3d:x,wrapperStyle:S,cursor:C,shared:L,trigger:M,defaultIndex:G,portal:$,axisId:z}=r,N=kn(),U=typeof G=="number"?String(G):G;O.useEffect(()=>{N(mte({shared:L,trigger:M,axisId:z,active:i,defaultIndex:U}))},[N,L,M,z,i,U]);var V=wv(),k=fF(),P=ute(L),{activeIndex:F,isActive:B}=(e=Je(ke=>Tne(ke,P,M,U)))!==null&&e!==void 0?e:{},ie=Je(ke=>wne(ke,P,M,U)),ae=Je(ke=>mB(ke,P,M,U)),J=Je(ke=>Ene(ke,P,M,U)),le=ie,_e=Kne(),Se=(n=i??B)!==null&&n!==void 0?n:!1,[K,W]=VK([le,Se]),oe=P==="axis"?ae:void 0;pre(P,M,J,oe,F,Se);var j=$??_e;if(j==null||V==null||P==null)return null;var Ee=le??bD;Se||(Ee=bD),f&&Ee.length&&(Ee=cK(Ee.filter(ke=>ke.value!=null&&(ke.hide!==!0||r.includeHidden)),g,vre));var Ce=Ee.length>0,Ie=O.createElement(aJ,{allowEscapeViewBox:o,animationDuration:a,animationEasing:l,isAnimationActive:h,active:Se,coordinate:J,hasPayload:Ce,offset:p,position:v,reverseDirection:T,useTranslate3d:x,viewBox:V,wrapperStyle:S,lastBoundingBox:K,innerRef:W,hasPortalFromProps:!!$},_re(c,_D(_D({},r),{},{payload:Ee,label:oe,active:Se,activeIndex:F,coordinate:J,accessibilityLayer:k})));return O.createElement(O.Fragment,null,sV.createPortal(Ie,j),Se&&O.createElement(Gne,{cursor:C,tooltipEventType:P,coordinate:J,payload:Ee,index:F}))}var _h=t=>null;_h.displayName="Cell";function wre(t,e,n){return(e=Tre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tre(t){var e=Sre(t,"string");return typeof e=="symbol"?e:e+""}function Sre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xre{constructor(e){wre(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function ED(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Are(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(n),!0).forEach(function(r){Cre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cre(t,e,n){return(e=Ire(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ire(t){var e=Rre(t,"string");return typeof e=="symbol"?e:e+""}function Rre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pre={cacheSize:2e3,enableCache:!0},bB=Are({},Pre),wD=new xre(bB.cacheSize),kre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},TD="recharts_measurement_span";function Mre(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",a=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(a,"|").concat(l)}var SD=(t,e)=>{try{var n=document.getElementById(TD);n||(n=document.createElement("span"),n.setAttribute("id",TD),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,kre,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},xD=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||lx.isSsr)return{width:0,height:0};if(!bB.enableCache)return SD(e,n);var r=Mre(e,n),i=wD.get(r);if(i)return i;var o=SD(e,n);return wD.set(r,o),o},EB;function Nre(t,e,n){return(e=Dre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dre(t){var e=Ore(t,"string");return typeof e=="symbol"?e:e+""}function Ore(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ure=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Vre={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Fre=["cm","mm","pt","pc","in","Q","px"];function zre(t){return Fre.includes(t)}var bc="NaN";function Bre(t,e){return t*Vre[e]}class er{static parse(e){var n,[,r,i]=(n=Ure.exec(e))!==null&&n!==void 0?n:[];return r==null?er.NaN:new er(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,va(e)&&(this.unit=""),n!==""&&!Lre.test(n)&&(this.num=NaN,this.unit=""),zre(n)&&(this.num=Bre(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new er(NaN,""):new er(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new er(NaN,""):new er(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new er(NaN,""):new er(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new er(NaN,""):new er(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return va(this.num)}}EB=er;Nre(er,"NaN",new EB(NaN,""));function wB(t){if(t==null||t.includes(bc))return bc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=AD.exec(e))!==null&&n!==void 0?n:[],a=er.parse(r??""),l=er.parse(o??""),c=i==="*"?a.multiply(l):a.divide(l);if(c.isNaN())return bc;e=e.replace(AD,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,h,p,g]=(f=CD.exec(e))!==null&&f!==void 0?f:[],v=er.parse(h??""),T=er.parse(g??""),x=p==="+"?v.add(T):v.subtract(T);if(x.isNaN())return bc;e=e.replace(CD,x.toString())}return e}var ID=/\(([^()]*)\)/;function qre(t){for(var e=t,n;(n=ID.exec(e))!=null;){var[,r]=n;e=e.replace(ID,wB(r))}return e}function Hre(t){var e=t.replace(/\s+/g,"");return e=qre(e),e=wB(e),e}function jre(t){try{return Hre(t)}catch{return bc}}function KE(t){var e=jre(t.slice(5,-1));return e===bc?"":e}var $re=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Gre=["dx","dy","angle","className","breakAll"];function LT(){return LT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LT.apply(null,arguments)}function RD(t,e){if(t==null)return{};var n,r,i=Kre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var TB=/[ \f\n\r\t\v\u2028\u2029]+/,SB=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];li(e)||(n?i=e.toString().split(""):i=e.toString().split(TB));var o=i.map(l=>({word:l,width:xD(l,r).width})),a=n?0:xD("",r).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}};function Yre(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var xB=(t,e,n,r)=>t.reduce((i,o)=>{var{word:a,width:l}=o,c=i[i.length-1];if(c&&l!=null&&(e==null||r||c.width+l+n<Number(e)))c.words.push(a),c.width+=l+n;else{var f={words:[a],width:l};i.push(f)}return i},[]),AB=t=>t.reduce((e,n)=>e.width>n.width?e:n),Wre="",PD=(t,e,n,r,i,o,a,l)=>{var c=t.slice(0,e),f=SB({breakAll:n,style:r,children:c+Wre});if(!f)return[!1,[]];var h=xB(f.wordsWithComputedWidth,o,a,l),p=h.length>i||AB(h).width>Number(o);return[p,h]},Jre=(t,e,n,r,i)=>{var{maxLines:o,children:a,style:l,breakAll:c}=t,f=ze(o),h=String(a),p=xB(e,r,n,i);if(!f||i)return p;var g=p.length>o||AB(p).width>Number(r);if(!g)return p;for(var v=0,T=h.length-1,x=0,S;v<=T&&x<=h.length-1;){var C=Math.floor((v+T)/2),L=C-1,[M,G]=PD(h,L,c,l,o,r,n,i),[$]=PD(h,C,c,l,o,r,n,i);if(!M&&!$&&(v=C+1),M&&$&&(T=C-1),!M&&$){S=G;break}x++}return S||p},kD=t=>{var e=li(t)?[]:t.toString().split(TB);return[{words:e,width:void 0}]},Xre=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:a}=t;if((e||n)&&!lx.isSsr){var l,c,f=SB({breakAll:o,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;l=h,c=p}else return kD(r);return Jre({breakAll:o,children:r,maxLines:a,style:i},l,c,e,!!n)}return kD(r)},CB="#808080",Qre={angle:0,breakAll:!1,capHeight:"0.71em",fill:CB,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},bA=O.forwardRef((t,e)=>{var n=ko(t,Qre),{x:r,y:i,lineHeight:o,capHeight:a,fill:l,scaleToFit:c,textAnchor:f,verticalAnchor:h}=n,p=RD(n,$re),g=O.useMemo(()=>Xre({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:v,dy:T,angle:x,className:S,breakAll:C}=p,L=RD(p,Gre);if(!ba(r)||!ba(i)||g.length===0)return null;var M=Number(r)+(ze(v)?v:0),G=Number(i)+(ze(T)?T:0);if(!xn(M)||!xn(G))return null;var $;switch(h){case"start":$=KE("calc(".concat(a,")"));break;case"middle":$=KE("calc(".concat((g.length-1)/2," * -").concat(o," + (").concat(a," / 2))"));break;default:$=KE("calc(".concat(g.length-1," * -").concat(o,")"));break}var z=[];if(c){var N=g[0].width,{width:U}=p;z.push("scale(".concat(ze(U)&&ze(N)?U/N:1,")"))}return x&&z.push("rotate(".concat(x,", ").concat(M,", ").concat(G,")")),z.length&&(L.transform=z.join(" ")),O.createElement("text",LT({},Ri(L),{ref:e,x:M,y:G,className:Sn("recharts-text",S),textAnchor:f,fill:l.includes("url")?CB:l}),g.map((V,k)=>{var P=V.words.join(C?"":" ");return O.createElement("tspan",{x:M,dy:k===0?$:o,key:"".concat(P,"-").concat(k)},P)}))});bA.displayName="Text";var Zre=["labelRef"],eie=["content"];function MD(t,e){if(t==null)return{};var n,r,i=tie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ND(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(n),!0).forEach(function(r){nie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nie(t,e,n){return(e=rie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rie(t){var e=iie(t,"string");return typeof e=="symbol"?e:e+""}function iie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ty(){return Ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ty.apply(null,arguments)}var oie=O.createContext(null),aie=()=>{var t=O.useContext(oie),e=wv();return t||rF(e)},sie=O.createContext(null),lie=()=>{var t=O.useContext(sie),e=Je(Tz);return t||e},uie=t=>{var{value:e,formatter:n}=t,r=li(t.children)?e:t.children;return typeof n=="function"?n(r):r},cie=t=>t!=null&&typeof t=="function",fie=(t,e)=>{var n=zr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},die=(t,e,n,r,i)=>{var{offset:o,className:a}=t,{cx:l,cy:c,innerRadius:f,outerRadius:h,startAngle:p,endAngle:g,clockWise:v}=i,T=(f+h)/2,x=fie(p,g),S=x>=0?1:-1,C,L;switch(e){case"insideStart":C=p+S*o,L=v;break;case"insideEnd":C=g-S*o,L=!v;break;case"end":C=g+S*o,L=v;break;default:throw new Error("Unsupported position ".concat(e))}L=x<=0?L:!L;var M=En(l,c,T,C),G=En(l,c,T,C+(L?1:-1)*359),$="M".concat(M.x,",").concat(M.y,`
    A`).concat(T,",").concat(T,",0,1,").concat(L?0:1,`,
    `).concat(G.x,",").concat(G.y),z=li(t.id)?ih("recharts-radial-line-"):t.id;return O.createElement("text",Ty({},r,{dominantBaseline:"central",className:Sn("recharts-radial-bar-label",a)}),O.createElement("defs",null,O.createElement("path",{id:z,d:$})),O.createElement("textPath",{xlinkHref:"#".concat(z)},n))},hie=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:l,endAngle:c}=t,f=(l+c)/2;if(n==="outside"){var{x:h,y:p}=En(r,i,a+e,f);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(o+a)/2,{x:v,y:T}=En(r,i,g,f);return{x:v,y:T,textAnchor:"middle",verticalAnchor:"middle"}},UT=t=>"cx"in t&&ze(t.cx),pie=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,o;n!=null&&!UT(n)&&(o=n);var{x:a,y:l,upperWidth:c,lowerWidth:f,height:h}=e,p=a,g=a+(c-f)/2,v=(p+g)/2,T=(c+f)/2,x=p+c/2,S=h>=0?1:-1,C=S*r,L=S>0?"end":"start",M=S>0?"start":"end",G=c>=0?1:-1,$=G*r,z=G>0?"end":"start",N=G>0?"start":"end";if(i==="top"){var U={x:p+c/2,y:l-C,textAnchor:"middle",verticalAnchor:L};return vn(vn({},U),o?{height:Math.max(l-o.y,0),width:c}:{})}if(i==="bottom"){var V={x:g+f/2,y:l+h+C,textAnchor:"middle",verticalAnchor:M};return vn(vn({},V),o?{height:Math.max(o.y+o.height-(l+h),0),width:f}:{})}if(i==="left"){var k={x:v-$,y:l+h/2,textAnchor:z,verticalAnchor:"middle"};return vn(vn({},k),o?{width:Math.max(k.x-o.x,0),height:h}:{})}if(i==="right"){var P={x:v+T+$,y:l+h/2,textAnchor:N,verticalAnchor:"middle"};return vn(vn({},P),o?{width:Math.max(o.x+o.width-P.x,0),height:h}:{})}var F=o?{width:T,height:h}:{};return i==="insideLeft"?vn({x:v+$,y:l+h/2,textAnchor:N,verticalAnchor:"middle"},F):i==="insideRight"?vn({x:v+T-$,y:l+h/2,textAnchor:z,verticalAnchor:"middle"},F):i==="insideTop"?vn({x:p+c/2,y:l+C,textAnchor:"middle",verticalAnchor:M},F):i==="insideBottom"?vn({x:g+f/2,y:l+h-C,textAnchor:"middle",verticalAnchor:L},F):i==="insideTopLeft"?vn({x:p+$,y:l+C,textAnchor:N,verticalAnchor:M},F):i==="insideTopRight"?vn({x:p+c-$,y:l+C,textAnchor:z,verticalAnchor:M},F):i==="insideBottomLeft"?vn({x:g+$,y:l+h-C,textAnchor:N,verticalAnchor:L},F):i==="insideBottomRight"?vn({x:g+f-$,y:l+h-C,textAnchor:z,verticalAnchor:L},F):i&&typeof i=="object"&&(ze(i.x)||_a(i.x))&&(ze(i.y)||_a(i.y))?vn({x:a+oi(i.x,T),y:l+oi(i.y,h),textAnchor:"end",verticalAnchor:"end"},F):vn({x,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},F)},mie={angle:0,offset:5,zIndex:$i.label,position:"middle",textBreakAll:!1};function IB(t){var e=ko(t,mie),{viewBox:n,position:r,value:i,children:o,content:a,className:l="",textBreakAll:c,labelRef:f}=e,h=lie(),p=aie(),g=r==="center"?p:h??p,v,T,x;if(n==null?v=g:UT(n)?v=n:v=rF(n),!v||li(i)&&li(o)&&!O.isValidElement(a)&&typeof a!="function")return null;var S=vn(vn({},e),{},{viewBox:v});if(O.isValidElement(a)){var{labelRef:C}=S,L=MD(S,Zre);return O.cloneElement(a,L)}if(typeof a=="function"){var{content:M}=S,G=MD(S,eie);if(T=O.createElement(a,G),O.isValidElement(T))return T}else T=uie(e);var $=Ri(e);if(UT(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return die(e,r,T,$,v);x=hie(v,e.offset,e.position)}else x=pie(e,v);return O.createElement(np,{zIndex:e.zIndex},O.createElement(bA,Ty({ref:f,className:Sn("recharts-label",l)},$,x,{textAnchor:Yre($.textAnchor)?$.textAnchor:x.textAnchor,breakAll:c}),T))}IB.displayName="Label";var YE={},WE={},DD;function gie(){return DD||(DD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(WE)),WE}var JE={},OD;function yie(){return OD||(OD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(JE)),JE}var LD;function vie(){return LD||(LD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gie(),n=yie(),r=YS();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(YE)),YE}var XE,UD;function _ie(){return UD||(UD=1,XE=vie().last),XE}var bie=_ie();const Eie=Ni(bie);var wie=["valueAccessor"],Tie=["dataKey","clockWise","id","textBreakAll","zIndex"];function Sy(){return Sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sy.apply(null,arguments)}function VD(t,e){if(t==null)return{};var n,r,i=Sie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xie=t=>Array.isArray(t.value)?Eie(t.value):t.value,RB=O.createContext(void 0);RB.Provider;var PB=O.createContext(void 0),Aie=PB.Provider;function Cie(){return O.useContext(RB)}function Iie(){return O.useContext(PB)}function Cg(t){var{valueAccessor:e=xie}=t,n=VD(t,wie),{dataKey:r,clockWise:i,id:o,textBreakAll:a,zIndex:l}=n,c=VD(n,Tie),f=Cie(),h=Iie(),p=f||h;return!p||!p.length?null:O.createElement(np,{zIndex:l??$i.label},O.createElement(Hs,{className:"recharts-label-list"},p.map((g,v)=>{var T,x=li(r)?e(g,v):an(g&&g.payload,r),S=li(o)?{}:{id:"".concat(o,"-").concat(v)};return O.createElement(IB,Sy({key:"label-".concat(v)},Ri(g),c,S,{fill:(T=n.fill)!==null&&T!==void 0?T:g.fill,parentViewBox:g.parentViewBox,value:x,textBreakAll:a,viewBox:g.viewBox,index:v,zIndex:0}))})))}Cg.displayName="LabelList";function Rie(t){var{label:e}=t;return e?e===!0?O.createElement(Cg,{key:"labelList-implicit"}):O.isValidElement(e)||cie(e)?O.createElement(Cg,{key:"labelList-implicit",content:e}):typeof e=="object"?O.createElement(Cg,Sy({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var kB=t=>t.graphicalItems.polarItems,Pie=re([Gt,Yh],$x),Hv=re([kB,Jt,Pie],Gx),kie=re([Hv],Kx),jv=re([kie,Dx],Yx),Mie=re([jv,Jt,Hv],Jx);re([jv,Jt,Hv],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var o,a=an(r,(o=e.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:an(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var FD=()=>{},Nie=re([jv,Jt,Hv,Fv,Gt],eA),Die=re([Jt,Qx,Zx,FD,Nie,FD,Lt,Gt],tA),MB=re([Jt,Lt,jv,Mie,Kh,Gt,Die],nA),Oie=re([MB,Jt,of],oA);re([Jt,MB,Oie,Gt],sA);var Lie={radiusAxis:{},angleAxis:{}},NB=Hr({name:"polarAxis",initialState:Lie,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:tIe,removeRadiusAxis:nIe,addAngleAxis:rIe,removeAngleAxis:iIe}=NB.actions,Uie=NB.reducer;function zD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(n),!0).forEach(function(r){Vie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vie(t,e,n){return(e=Fie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fie(t){var e=zie(t,"string");return typeof e=="symbol"?e:e+""}function zie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bie=(t,e)=>e,EA=re([kB,Bie],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),qie=[],wA=(t,e,n)=>(n==null?void 0:n.length)===0?qie:n,DB=re([Dx,EA,wA],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>BD(BD({},e.presentationProps),o.props))),i!=null)return i}}),Hie=re([DB,EA,wA],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var o,a=an(r,e.nameKey,e.name),l;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?l=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?l=r.fill:l=e.fill,{value:J4(a,e.dataKey),color:l,payload:r,type:e.legendType}})}),jie=re([DB,EA,wA,jn],(t,e,n,r)=>{if(!(e==null||t==null))return Yoe({offset:r,pieSettings:e,displayedData:t,cells:n})}),QE={exports:{}},Pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qD;function $ie(){if(qD)return Pt;qD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function T(x){if(typeof x=="object"&&x!==null){var S=x.$$typeof;switch(S){case t:switch(x=x.type,x){case n:case i:case r:case c:case f:case g:return x;default:switch(x=x&&x.$$typeof,x){case a:case l:case p:case h:return x;case o:return x;default:return S}}case e:return S}}}return Pt.ContextConsumer=o,Pt.ContextProvider=a,Pt.Element=t,Pt.ForwardRef=l,Pt.Fragment=n,Pt.Lazy=p,Pt.Memo=h,Pt.Portal=e,Pt.Profiler=i,Pt.StrictMode=r,Pt.Suspense=c,Pt.SuspenseList=f,Pt.isContextConsumer=function(x){return T(x)===o},Pt.isContextProvider=function(x){return T(x)===a},Pt.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},Pt.isForwardRef=function(x){return T(x)===l},Pt.isFragment=function(x){return T(x)===n},Pt.isLazy=function(x){return T(x)===p},Pt.isMemo=function(x){return T(x)===h},Pt.isPortal=function(x){return T(x)===e},Pt.isProfiler=function(x){return T(x)===i},Pt.isStrictMode=function(x){return T(x)===r},Pt.isSuspense=function(x){return T(x)===c},Pt.isSuspenseList=function(x){return T(x)===f},Pt.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===r||x===c||x===f||typeof x=="object"&&x!==null&&(x.$$typeof===p||x.$$typeof===h||x.$$typeof===a||x.$$typeof===o||x.$$typeof===l||x.$$typeof===v||x.getModuleId!==void 0)},Pt.typeOf=T,Pt}var HD;function Gie(){return HD||(HD=1,QE.exports=$ie()),QE.exports}var Kie=Gie(),jD=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",$D=null,ZE=null,OB=t=>{if(t===$D&&Array.isArray(ZE))return ZE;var e=[];return O.Children.forEach(t,n=>{li(n)||(Kie.isFragment(n)?e=e.concat(OB(n.props.children)):e.push(n))}),ZE=e,$D=t,e};function LB(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>jD(i)):r=[jD(e)],OB(t).forEach(i=>{var o=rh(i,"type.displayName")||rh(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var ew={},GD;function Yie(){return GD||(GD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(ew)),ew}var tw,KD;function Wie(){return KD||(KD=1,tw=Yie().isPlainObject),tw}var Jie=Wie();const Xie=Ni(Jie);var YD,WD,JD,XD,QD;function ZD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZD(Object(n),!0).forEach(function(r){Qie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qie(t,e,n){return(e=Zie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zie(t){var e=eoe(t,"string");return typeof e=="symbol"?e:e+""}function eoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xy(){return xy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xy.apply(null,arguments)}function Cd(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var tO=(t,e,n,r,i)=>{var o=n-r,a;return a=nn(YD||(YD=Cd(["M ",",",""])),t,e),a+=nn(WD||(WD=Cd(["L ",",",""])),t+n,e),a+=nn(JD||(JD=Cd(["L ",",",""])),t+n-o/2,e+i),a+=nn(XD||(XD=Cd(["L ",",",""])),t+n-o/2-r,e+i),a+=nn(QD||(QD=Cd(["L ",","," Z"])),t,e),a},toe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},noe=t=>{var e=ko(t,toe),{x:n,y:r,upperWidth:i,lowerWidth:o,height:a,className:l}=e,{animationEasing:c,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=e,g=O.useRef(null),[v,T]=O.useState(-1),x=O.useRef(i),S=O.useRef(o),C=O.useRef(a),L=O.useRef(n),M=O.useRef(r),G=cx(t,"trapezoid-");if(O.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var ie=g.current.getTotalLength();ie&&T(ie)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||a!==+a||i===0&&o===0||a===0)return null;var $=Sn("recharts-trapezoid",l);if(!p)return O.createElement("g",null,O.createElement("path",xy({},Ri(e),{className:$,d:tO(n,r,i,o,a)})));var z=x.current,N=S.current,U=C.current,V=L.current,k=M.current,P="0px ".concat(v===-1?1:v,"px"),F="".concat(v,"px 0px"),B=dF(["strokeDasharray"],f,c);return O.createElement(ux,{animationId:G,key:G,canBegin:v>0,duration:f,easing:c,isActive:p,begin:h},ie=>{var ae=Bi(z,i,ie),J=Bi(N,o,ie),le=Bi(U,a,ie),_e=Bi(V,n,ie),Se=Bi(k,r,ie);g.current&&(x.current=ae,S.current=J,C.current=le,L.current=_e,M.current=Se);var K=ie>0?{transition:B,strokeDasharray:F}:{strokeDasharray:P};return O.createElement("path",xy({},Ri(e),{className:$,d:tO(_e,Se,ae,J,le),ref:g,style:eO(eO({},K),e.style)}))})},roe=["option","shapeType","activeClassName"];function ioe(t,e){if(t==null)return{};var n,r,i=ooe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ooe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ay(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(n),!0).forEach(function(r){aoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aoe(t,e,n){return(e=soe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function soe(t){var e=loe(t,"string");return typeof e=="symbol"?e:e+""}function loe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uoe(t,e){return Ay(Ay({},e),t)}function coe(t,e){return t==="symbols"}function rO(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return O.createElement(gF,n);case"trapezoid":return O.createElement(noe,n);case"sector":return O.createElement(bF,n);case"symbols":if(coe(e))return O.createElement(o4,n);break;case"curve":return O.createElement(sx,n);default:return null}}function foe(t){return O.isValidElement(t)?t.props:t}function doe(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=ioe(t,roe),o;if(O.isValidElement(e))o=O.cloneElement(e,Ay(Ay({},i),foe(e)));else if(typeof e=="function")o=e(i,i.index);else if(Xie(e)&&typeof e!="boolean"){var a=uoe(e,i);o=O.createElement(rO,{shapeType:n,elementProps:a})}else{var l=i;o=O.createElement(rO,{shapeType:n,elementProps:l})}return i.isActive?O.createElement(Hs,{className:r},o):o}var hoe=(t,e,n)=>{var r=kn();return(i,o)=>a=>{t==null||t(i,o,a),r(Jz({activeIndex:String(o),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},poe=t=>{var e=kn();return(n,r)=>i=>{t==null||t(n,r,i),e(gte())}},moe=(t,e,n)=>{var r=kn();return(i,o)=>a=>{t==null||t(i,o,a),r(yte({activeIndex:String(o),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function goe(t){var{tooltipEntrySettings:e}=t,n=kn(),r=Qs(),i=O.useRef(null);return O.useLayoutEffect(()=>{r||(i.current===null?n(dte(e)):i.current!==e&&n(hte({prev:i.current,next:e})),i.current=e)},[e,n,r]),O.useLayoutEffect(()=>()=>{i.current&&(n(pte(i.current)),i.current=null)},[n]),null}function yoe(t){var{legendPayload:e}=t,n=kn(),r=Je(Lt),i=O.useRef(null);return O.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n($W(e)):i.current!==e&&n(GW({prev:i.current,next:e})),i.current=e)},[n,r,e]),O.useLayoutEffect(()=>()=>{i.current&&(n(KW(i.current)),i.current=null)},[n]),null}var nw,voe=()=>{var[t]=O.useState(()=>ih("uid-"));return t},_oe=(nw=oV.useId)!==null&&nw!==void 0?nw:voe;function boe(t,e){var n=_oe();return e||(t?"".concat(t,"-").concat(n):n)}var Eoe=O.createContext(void 0),woe=t=>{var{id:e,type:n,children:r}=t,i=boe("recharts-".concat(n),e);return O.createElement(Eoe.Provider,{value:i},r(i))},Toe={cartesianItems:[],polarItems:[]},UB=Hr({name:"graphicalItems",initialState:Toe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:jt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ki(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:jt()},removeCartesianGraphicalItem:{reducer(t,e){var n=Ki(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:jt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:jt()},removePolarGraphicalItem:{reducer(t,e){var n=Ki(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:jt()}}}),{addCartesianGraphicalItem:oIe,replaceCartesianGraphicalItem:aIe,removeCartesianGraphicalItem:sIe,addPolarGraphicalItem:Soe,removePolarGraphicalItem:xoe}=UB.actions,Aoe=UB.reducer;function Coe(t){var e=kn();return O.useLayoutEffect(()=>(e(Soe(t)),()=>{e(xoe(t))}),[e,t]),null}var Ioe=["key"],Roe=["onMouseEnter","onClick","onMouseLeave"],Poe=["id"],koe=["id"];function iO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(n),!0).forEach(function(r){Moe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Moe(t,e,n){return(e=Noe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Noe(t){var e=Doe(t,"string");return typeof e=="symbol"?e:e+""}function Doe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gs(){return Gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gs.apply(null,arguments)}function $v(t,e){if(t==null)return{};var n,r,i=Ooe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ooe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Loe(t){var e=O.useMemo(()=>LB(t.children,_h),[t.children]),n=Je(r=>Hie(r,t.id,e));return n==null?null:O.createElement(yoe,{legendPayload:n})}var Uoe=O.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:a,name:l,hide:c,tooltipType:f,id:h}=t,p={dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:a,dataKey:e,nameKey:n,name:J4(l,e),hide:c,type:f,color:a,unit:"",graphicalItemId:h}};return O.createElement(goe,{tooltipEntrySettings:p})}),Voe=(t,e)=>t>e?"start":t<e?"end":"middle",Foe=(t,e,n)=>oi(typeof e=="function"?e(t):e,n,n*.8),zoe=(t,e,n)=>{var{top:r,left:i,width:o,height:a}=e,l=yF(o,a),c=i+oi(t.cx,o,o/2),f=r+oi(t.cy,a,a/2),h=oi(t.innerRadius,l,0),p=Foe(n,t.outerRadius,l),g=t.maxRadius||Math.sqrt(o*o+a*a)/2;return{cx:c,cy:f,innerRadius:h,outerRadius:p,maxRadius:g}},Boe=(t,e)=>{var n=zr(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function qoe(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Hoe=(t,e)=>{if(O.isValidElement(t))return O.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Sn("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=$v(e,Ioe);return O.createElement(sx,Gs({},i,{type:"linear",className:n}))},joe=(t,e,n)=>{if(O.isValidElement(t))return O.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),O.isValidElement(r)))return r;var i=Sn("recharts-pie-label-text",qoe(t));return O.createElement(bA,Gs({},e,{alignmentBaseline:"middle",className:i}),r)};function $oe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:o,dataKey:a}=n;if(!r||!i||!e)return null;var l=Lc(n),c=Gw(i),f=Gw(o),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=e.map((g,v)=>{var T=(g.startAngle+g.endAngle)/2,x=En(g.cx,g.cy,g.outerRadius+h,T),S=rn(rn(rn(rn({},l),g),{},{stroke:"none"},c),{},{index:v,textAnchor:Voe(x.x,g.cx)},x),C=rn(rn(rn(rn({},l),g),{},{fill:"none",stroke:g.fill},f),{},{index:v,points:[En(g.cx,g.cy,g.outerRadius,T),x],key:"line"});return O.createElement(np,{zIndex:$i.label,key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},O.createElement(Hs,null,o&&Hoe(o,C),joe(i,S,an(g,a))))});return O.createElement(Hs,{className:"recharts-pie-labels"},p)}function Goe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?O.createElement(Rie,{label:i}):O.createElement($oe,{sectors:e,props:n,showLabels:r})}function Koe(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:o,id:a}=t,l=Je(yh),c=Je(cB),f=Je(nne),{onMouseEnter:h,onClick:p,onMouseLeave:g}=i,v=$v(i,Roe),T=hoe(h,i.dataKey,a),x=poe(g),S=moe(p,i.dataKey,a);return e==null||e.length===0?null:O.createElement(O.Fragment,null,e.map((C,L)=>{if((C==null?void 0:C.startAngle)===0&&(C==null?void 0:C.endAngle)===0&&e.length!==1)return null;var M=f==null||f===a,G=String(L)===l&&(c==null||i.dataKey===c)&&M,$=l?r:null,z=n&&G?n:$,N=rn(rn({},C),{},{stroke:C.stroke,tabIndex:-1,[Q4]:L,[Z4]:a});return O.createElement(Hs,Gs({key:"sector-".concat(C==null?void 0:C.startAngle,"-").concat(C==null?void 0:C.endAngle,"-").concat(C.midAngle,"-").concat(L),tabIndex:-1,className:"recharts-pie-sector"},z7(v,C,L),{onMouseEnter:T(C,L),onMouseLeave:x(C,L),onClick:S(C,L)}),O.createElement(doe,Gs({option:o??z,index:L,shapeType:"sector",isActive:G},N)))}))}function Yoe(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:o}=t,{cornerRadius:a,startAngle:l,endAngle:c,dataKey:f,nameKey:h,tooltipType:p}=n,g=Math.abs(n.minAngle),v=Boe(l,c),T=Math.abs(v),x=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,S=r.filter(z=>an(z,f,0)!==0).length,C=(T>=360?S:S-1)*x,L=T-S*g-C,M=r.reduce((z,N)=>{var U=an(N,f,0);return z+(ze(U)?U:0)},0),G;if(M>0){var $;G=r.map((z,N)=>{var U=an(z,f,0),V=an(z,h,N),k=zoe(n,o,z),P=(ze(U)?U:0)/M,F,B=rn(rn({},z),i&&i[N]&&i[N].props);N?F=$.endAngle+zr(v)*x*(U!==0?1:0):F=l;var ie=F+zr(v)*((U!==0?g:0)+P*L),ae=(F+ie)/2,J=(k.innerRadius+k.outerRadius)/2,le=[{name:V,value:U,payload:B,dataKey:f,type:p,graphicalItemId:n.id}],_e=En(k.cx,k.cy,J,ae);return $=rn(rn(rn(rn({},n.presentationProps),{},{percent:P,cornerRadius:typeof a=="string"?parseFloat(a):a,name:V,tooltipPayload:le,midAngle:ae,middleRadius:J,tooltipPosition:_e},B),k),{},{value:U,dataKey:f,startAngle:F,endAngle:ie,payload:B,paddingAngle:zr(v)*x}),$})}return G}function Woe(t){var{showLabels:e,sectors:n,children:r}=t,i=O.useMemo(()=>!e||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,e]);return O.createElement(Aie,{value:e?i:void 0},r)}function Joe(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:o,animationBegin:a,animationDuration:l,animationEasing:c,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=e,v=cx(e,"recharts-pie-"),T=n.current,[x,S]=O.useState(!1),C=O.useCallback(()=>{typeof g=="function"&&g(),S(!1)},[g]),L=O.useCallback(()=>{typeof p=="function"&&p(),S(!0)},[p]);return O.createElement(Woe,{showLabels:!x,sectors:i},O.createElement(ux,{animationId:v,begin:a,duration:l,isActive:o,easing:c,onAnimationStart:L,onAnimationEnd:C,key:v},M=>{var G=[],$=i&&i[0],z=$==null?void 0:$.startAngle;return i==null||i.forEach((N,U)=>{var V=T&&T[U],k=U>0?rh(N,"paddingAngle",0):0;if(V){var P=Bi(V.endAngle-V.startAngle,N.endAngle-N.startAngle,M),F=rn(rn({},N),{},{startAngle:z+k,endAngle:z+P+k});G.push(F),z=F.endAngle}else{var{endAngle:B,startAngle:ie}=N,ae=Bi(0,B-ie,M),J=rn(rn({},N),{},{startAngle:z+k,endAngle:z+ae+k});G.push(J),z=J.endAngle}}),n.current=G,O.createElement(Hs,null,O.createElement(Koe,{sectors:G,activeShape:f,inactiveShape:h,allOtherPieProps:e,shape:e.shape,id:r}))}),O.createElement(Goe,{showLabels:!x,sectors:i,props:e}),e.children)}var Xoe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:$i.area};function Qoe(t){var{id:e}=t,n=$v(t,Poe),{hide:r,className:i,rootTabIndex:o}=t,a=O.useMemo(()=>LB(t.children,_h),[t.children]),l=Je(h=>jie(h,e,a)),c=O.useRef(null),f=Sn("recharts-pie",i);return r||l==null?(c.current=null,O.createElement(Hs,{tabIndex:o,className:f})):O.createElement(np,{zIndex:t.zIndex},O.createElement(Uoe,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:l,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),O.createElement(Hs,{tabIndex:o,className:f},O.createElement(Joe,{props:rn(rn({},n),{},{sectors:l}),previousSectorsRef:c,id:e})))}function VB(t){var e=ko(t,Xoe),{id:n}=e,r=$v(e,koe),i=Lc(r);return O.createElement(woe,{id:n,type:"pie"},o=>O.createElement(O.Fragment,null,O.createElement(Coe,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),O.createElement(Loe,Gs({},r,{id:o})),O.createElement(Qoe,Gs({},r,{id:o}))))}VB.displayName="Pie";function oO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(n),!0).forEach(function(r){Zoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zoe(t,e,n){return(e=eae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eae(t){var e=tae(t,"string");return typeof e=="symbol"?e:e+""}function tae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nae={xAxis:{},yAxis:{},zAxis:{}},FB=Hr({name:"cartesianAxis",initialState:nae,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:jt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:jt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:jt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:jt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:jt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:jt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:jt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:jt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:jt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var a=[...o,r].slice(-3);t.yAxis[n]=aO(aO({},t.yAxis[n]),{},{width:r,widthHistory:a})}}}}),{addXAxis:lIe,replaceXAxis:uIe,removeXAxis:cIe,addYAxis:fIe,replaceYAxis:dIe,removeYAxis:hIe,addZAxis:pIe,replaceZAxis:mIe,removeZAxis:gIe,updateYAxisWidth:yIe}=FB.actions,rae=FB.reducer,iae=re([jn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),oae=re([iae,ka,Ma],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),aae=()=>Je(oae),sae=t=>{var{chartData:e}=t,n=kn(),r=Qs();return O.useEffect(()=>r?()=>{}:(n(gD(e)),()=>{n(gD(void 0))}),[e,n,r]),null},sO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},zB=Hr({name:"brush",initialState:sO,reducers:{setBrushSettings(t,e){return e.payload==null?sO:e.payload}}}),{setBrushSettings:vIe}=zB.actions,lae=zB.reducer,uae={dots:[],areas:[],lines:[]},BB=Hr({name:"referenceElements",initialState:uae,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ki(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ki(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ki(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:_Ie,removeDot:bIe,addArea:EIe,removeArea:wIe,addLine:TIe,removeLine:SIe}=BB.actions,cae=BB.reducer,fae=O.createContext(void 0),dae=t=>{var{children:e}=t,[n]=O.useState("".concat(ih("recharts"),"-clip")),r=aae();if(r==null)return null;var{x:i,y:o,width:a,height:l}=r;return O.createElement(fae.Provider,{value:n},O.createElement("defs",null,O.createElement("clipPath",{id:n},O.createElement("rect",{x:i,y:o,height:l,width:a}))),e)},hae={},qB=Hr({name:"errorBars",initialState:hae,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:xIe,replaceErrorBar:AIe,removeErrorBar:CIe}=qB.actions,pae=qB.reducer,rw={exports:{}},iw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lO;function mae(){if(lO)return iw;lO=1;var t=Qc();function e(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return iw.useSyncExternalStoreWithSelector=function(c,f,h,p,g){var v=i(null);if(v.current===null){var T={hasValue:!1,value:null};v.current=T}else T=v.current;v=a(function(){function S($){if(!C){if(C=!0,L=$,$=p($),g!==void 0&&T.hasValue){var z=T.value;if(g(z,$))return M=z}return M=$}if(z=M,n(L,$))return z;var N=p($);return g!==void 0&&g(z,N)?(L=$,z):(L=$,M=N)}var C=!1,L,M,G=h===void 0?null:h;return[function(){return S(f())},G===null?void 0:function(){return S(G())}]},[f,h,p,g]);var x=r(c,v[0],v[1]);return o(function(){T.hasValue=!0,T.value=x},[x]),l(x),x},iw}var uO;function gae(){return uO||(uO=1,rw.exports=mae()),rw.exports}gae();function yae(t){t()}function vae(){let t=null,e=null;return{clear(){t=null,e=null},notify(){yae(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var cO={notify(){},get:()=>[]};function _ae(t,e){let n,r=cO,i=0,o=!1;function a(x){h();const S=r.subscribe(x);let C=!1;return()=>{C||(C=!0,S(),p())}}function l(){r.notify()}function c(){T.onStateChange&&T.onStateChange()}function f(){return o}function h(){i++,n||(n=t.subscribe(c),r=vae())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=cO)}function g(){o||(o=!0,h())}function v(){o&&(o=!1,p())}const T={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:f,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return T}var bae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Eae=bae(),wae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Tae=wae(),Sae=()=>Eae||Tae?O.useLayoutEffect:O.useEffect,xae=Sae();function fO(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Aae(t,e){if(fO(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!fO(t[n[i]],e[n[i]]))return!1;return!0}var ow=Symbol.for("react-redux-context"),aw=typeof globalThis<"u"?globalThis:{};function Cae(){if(!O.createContext)return{};const t=aw[ow]??(aw[ow]=new Map);let e=t.get(O.createContext);return e||(e=O.createContext(null),t.set(O.createContext,e)),e}var Iae=Cae();function Rae(t){const{children:e,context:n,serverState:r,store:i}=t,o=O.useMemo(()=>{const c=_ae(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),a=O.useMemo(()=>i.getState(),[i]);xae(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=n||Iae;return O.createElement(l.Provider,{value:o},e)}var Pae=Rae,kae=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Mae(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Nae(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(kae.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Aae(t[r],e[r]))return!1}else if(!Mae(t[r],e[r]))return!1;return!0}var Dae=(t,e)=>e,TA=re([Dae,Lt,Tz,Nn,aB,Da,_ne,jn],Ane),SA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},HB=Pi("mouseClick"),jB=zh();jB.startListening({actionCreator:HB,effect:(t,e)=>{var n=t.payload,r=TA(e.getState(),SA(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(vte({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var VT=Pi("mouseMove"),$B=zh(),ig=null;$B.startListening({actionCreator:VT,effect:(t,e)=>{var n=t.payload;ig!==null&&cancelAnimationFrame(ig);var r=SA(n);ig=requestAnimationFrame(()=>{var i=e.getState(),o=cA(i,i.tooltip.settings.shared);if(o==="axis"){var a=TA(i,r);(a==null?void 0:a.activeIndex)!=null?e.dispatch(Qz({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(Xz())}ig=null})}});function Oae(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var dO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},GB=Hr({name:"rootProps",initialState:dO,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:dO.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Lae=GB.reducer,{updateOptions:Uae}=GB.actions,KB=Hr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Vae}=KB.actions,Fae=KB.reducer,YB=Pi("keyDown"),WB=Pi("focus"),xA=zh();xA.startListening({actionCreator:YB,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var a=fA(i,lf(n),Xh(n),ep(n)),l=a==null?-1:Number(a);if(!(!Number.isFinite(l)||l<0)){var c=Da(n);if(o==="Enter"){var f=wy(n,"axis","hover",String(i.index));e.dispatch(NT({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var h=lte(n),p=h==="left-to-right"?1:-1,g=o==="ArrowRight"?1:-1,v=l+g*p;if(!(c==null||v>=c.length||v<0)){var T=wy(n,"axis","hover",String(v));e.dispatch(NT({active:!0,activeIndex:v.toString(),activeCoordinate:T}))}}}}}});xA.startListening({actionCreator:WB,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",a=wy(n,"axis","hover",String(o));e.dispatch(NT({active:!0,activeIndex:o,activeCoordinate:a}))}}}});var Ti=Pi("externalEvent"),JB=zh(),sw=new Map;JB.startListening({actionCreator:Ti,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,o=sw.get(i);o!==void 0&&cancelAnimationFrame(o);var a=requestAnimationFrame(()=>{try{var l=e.getState(),c={activeCoordinate:ine(l),activeDataKey:cB(l),activeIndex:yh(l),activeLabel:uB(l),activeTooltipIndex:yh(l),isTooltipActive:one(l)};n(c,r)}finally{sw.delete(i)}});sw.set(i,a)}}});var zae=re([af],t=>t.tooltipItemPayloads),Bae=re([zae,Zh,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.graphicalItemId===r);if(i!=null){var{positions:o}=i;if(o!=null){var a=e(o,n);return a}}}),XB=Pi("touchMove"),QB=zh();QB.startListening({actionCreator:XB,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=cA(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var a=TA(r,SA({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(Qz({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,c=n.touches[0];if(document.elementFromPoint==null||c==null)return;var f=document.elementFromPoint(c.clientX,c.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(Q4),p=(l=f.getAttribute(Z4))!==null&&l!==void 0?l:void 0,g=sf(r).find(x=>x.id===p);if(h==null||g==null||p==null)return;var{dataKey:v}=g,T=Bae(r,h,p);e.dispatch(Jz({activeDataKey:v,activeIndex:h,activeCoordinate:T,activeGraphicalItemId:p}))}}}});var qae=E4({brush:lae,cartesianAxis:rae,chartData:ire,errorBars:pae,graphicalItems:Aoe,layout:VY,legend:YW,options:Zne,polarAxis:Uie,polarOptions:Fae,referenceElements:cae,rootProps:Lae,tooltip:_te,zIndex:zne}),Hae=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return uY({reducer:qae,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([jB.middleware,$B.middleware,xA.middleware,JB.middleware,QB.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(L4({type:"raf"}))},devTools:{serialize:{replacer:Oae},name:"recharts-".concat(n)}})};function jae(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Qs(),o=O.useRef(null);if(i)return n;o.current==null&&(o.current=Hae(e,r));var a=WS;return O.createElement(Pae,{context:a,store:o.current},n)}function $ae(t){var{layout:e,margin:n}=t,r=kn(),i=Qs();return O.useEffect(()=>{i||(r(OY(e)),r(DY(n)))},[r,i,e,n]),null}var Gae=O.memo($ae,Nae);function Kae(t){var e=kn();return O.useEffect(()=>{e(Uae(t))},[e,t]),null}function hO(t){var{zIndex:e,isPanorama:n}=t,r=O.useRef(null),i=kn();return O.useLayoutEffect(()=>(r.current&&i(Vne({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Fne({zIndex:e,isPanorama:n}))}),[i,e,n]),O.createElement("g",{tabIndex:-1,ref:r})}function pO(t){var{children:e,isPanorama:n}=t,r=Je(Ine);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),o=r.filter(a=>a>0);return O.createElement(O.Fragment,null,i.map(a=>O.createElement(hO,{key:a,zIndex:a,isPanorama:n})),e,o.map(a=>O.createElement(hO,{key:a,zIndex:a,isPanorama:n})))}var Yae=["children"];function Wae(t,e){if(t==null)return{};var n,r,i=Jae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Cy(){return Cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cy.apply(null,arguments)}var Xae={width:"100%",height:"100%",display:"block"},Qae=O.forwardRef((t,e)=>{var n=PW(),r=kW(),i=fF();if(!js(n)||!js(r))return null;var{children:o,otherAttributes:a,title:l,desc:c}=t,f,h;return a!=null&&(typeof a.tabIndex=="number"?f=a.tabIndex:f=i?0:void 0,typeof a.role=="string"?h=a.role:h=i?"application":void 0),O.createElement(FV,Cy({},a,{title:l,desc:c,role:h,tabIndex:f,width:n,height:r,style:Xae,ref:e}),o)}),Zae=t=>{var{children:e}=t,n=Je(Ev);if(!n)return null;var{width:r,height:i,y:o,x:a}=n;return O.createElement(FV,{width:r,height:i,x:a,y:o},e)},mO=O.forwardRef((t,e)=>{var{children:n}=t,r=Wae(t,Yae),i=Qs();return i?O.createElement(Zae,null,O.createElement(pO,{isPanorama:!0},n)):O.createElement(Qae,Cy({ref:e},r),O.createElement(pO,{isPanorama:!1},n))});function ese(){var t=kn(),[e,n]=O.useState(null),r=Je(ZY);return O.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;xn(o)&&o!==r&&t(UY(o))}},[e,t,r]),n}function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){nse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nse(t,e,n){return(e=rse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rse(t){var e=ise(t,"string");return typeof e=="symbol"?e:e+""}function ise(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iu(){return iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iu.apply(null,arguments)}var ose=()=>(hre(),null);function Iy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var ase=O.forwardRef((t,e)=>{var n,r,i=O.useRef(null),[o,a]=O.useState({containerWidth:Iy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Iy((r=t.style)===null||r===void 0?void 0:r.height)}),l=O.useCallback((f,h)=>{a(p=>{var g=Math.round(f),v=Math.round(h);return p.containerWidth===g&&p.containerHeight===v?p:{containerWidth:g,containerHeight:v}})},[]),c=O.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=f.getBoundingClientRect();l(h,p);var g=T=>{var{width:x,height:S}=T[0].contentRect;l(x,S)},v=new ResizeObserver(g);v.observe(f),i.current=v}},[e,l]);return O.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[l]),O.createElement(O.Fragment,null,O.createElement(Sv,{width:o.containerWidth,height:o.containerHeight}),O.createElement("div",iu({ref:c},t)))}),sse=O.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,o]=O.useState({containerWidth:Iy(n),containerHeight:Iy(r)}),a=O.useCallback((c,f)=>{o(h=>{var p=Math.round(c),g=Math.round(f);return h.containerWidth===p&&h.containerHeight===g?h:{containerWidth:p,containerHeight:g}})},[]),l=O.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:f,height:h}=c.getBoundingClientRect();a(f,h)}},[e,a]);return O.createElement(O.Fragment,null,O.createElement(Sv,{width:i.containerWidth,height:i.containerHeight}),O.createElement("div",iu({ref:l},t)))}),lse=O.forwardRef((t,e)=>{var{width:n,height:r}=t;return O.createElement(O.Fragment,null,O.createElement(Sv,{width:n,height:r}),O.createElement("div",iu({ref:e},t)))}),use=O.forwardRef((t,e)=>{var{width:n,height:r}=t;return _a(n)||_a(r)?O.createElement(sse,iu({},t,{ref:e})):O.createElement(lse,iu({},t,{ref:e}))});function cse(t){return t===!0?ase:use}var fse=O.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:a,onDoubleClick:l,onMouseDown:c,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:g,onTouchEnd:v,onTouchMove:T,onTouchStart:x,style:S,width:C,responsive:L,dispatchTouchEvents:M=!0}=t,G=O.useRef(null),$=kn(),[z,N]=O.useState(null),[U,V]=O.useState(null),k=ese(),P=ix(),F=(P==null?void 0:P.width)>0?P.width:C,B=(P==null?void 0:P.height)>0?P.height:i,ie=O.useCallback(fe=>{k(fe),typeof e=="function"&&e(fe),N(fe),V(fe),fe!=null&&(G.current=fe)},[k,e,N,V]),ae=O.useCallback(fe=>{$(HB(fe)),$(Ti({handler:o,reactEvent:fe}))},[$,o]),J=O.useCallback(fe=>{$(VT(fe)),$(Ti({handler:f,reactEvent:fe}))},[$,f]),le=O.useCallback(fe=>{$(Xz()),$(Ti({handler:h,reactEvent:fe}))},[$,h]),_e=O.useCallback(fe=>{$(VT(fe)),$(Ti({handler:p,reactEvent:fe}))},[$,p]),Se=O.useCallback(()=>{$(WB())},[$]),K=O.useCallback(fe=>{$(YB(fe.key))},[$]),W=O.useCallback(fe=>{$(Ti({handler:a,reactEvent:fe}))},[$,a]),oe=O.useCallback(fe=>{$(Ti({handler:l,reactEvent:fe}))},[$,l]),j=O.useCallback(fe=>{$(Ti({handler:c,reactEvent:fe}))},[$,c]),Ee=O.useCallback(fe=>{$(Ti({handler:g,reactEvent:fe}))},[$,g]),Ce=O.useCallback(fe=>{$(Ti({handler:x,reactEvent:fe}))},[$,x]),Ie=O.useCallback(fe=>{M&&$(XB(fe)),$(Ti({handler:T,reactEvent:fe}))},[$,M,T]),ke=O.useCallback(fe=>{$(Ti({handler:v,reactEvent:fe}))},[$,v]),_t=cse(L);return O.createElement(yB.Provider,{value:z},O.createElement(z8.Provider,{value:U},O.createElement(_t,{width:F??(S==null?void 0:S.width),height:B??(S==null?void 0:S.height),className:Sn("recharts-wrapper",r),style:tse({position:"relative",cursor:"default",width:F,height:B},S),onClick:ae,onContextMenu:W,onDoubleClick:oe,onFocus:Se,onKeyDown:K,onMouseDown:j,onMouseEnter:J,onMouseLeave:le,onMouseMove:_e,onMouseUp:Ee,onTouchEnd:ke,onTouchMove:Ie,onTouchStart:Ce,ref:ie},O.createElement(ose,null),n)))}),dse=["width","height","responsive","children","className","style","compact","title","desc"];function hse(t,e){if(t==null)return{};var n,r,i=pse(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mse=O.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:o,className:a,style:l,compact:c,title:f,desc:h}=t,p=hse(t,dse),g=Lc(p);return c?O.createElement(O.Fragment,null,O.createElement(Sv,{width:n,height:r}),O.createElement(mO,{otherAttributes:g,title:f,desc:h},o)):O.createElement(fse,{className:a,style:l,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},O.createElement(mO,{otherAttributes:g,title:f,desc:h,ref:e},O.createElement(dae,null,o)))});function gse(t){var e=kn();return O.useEffect(()=>{e(Vae(t))},[e,t]),null}var yse=["layout"];function FT(){return FT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FT.apply(null,arguments)}function vse(t,e){if(t==null)return{};var n,r,i=_se(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _se(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bse={top:5,right:5,bottom:5,left:5},ZB={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:bse,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ese=O.forwardRef(function(e,n){var r,i=ko(e.categoricalChartProps,ZB),{layout:o}=i,a=vse(i,yse),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=e,p={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return O.createElement(jae,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:l},O.createElement(sae,{chartData:i.data}),O.createElement(Gae,{layout:o,margin:i.margin}),O.createElement(Kae,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),O.createElement(gse,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),O.createElement(mse,FT({},a,{ref:n})))});function yO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(n),!0).forEach(function(r){wse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wse(t,e,n){return(e=Tse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tse(t){var e=Sse(t,"string");return typeof e=="symbol"?e:e+""}function Sse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xse=["item"],Ase=vO(vO({},ZB),{},{layout:"centric",startAngle:0,endAngle:360}),Cse=O.forwardRef((t,e)=>{var n=ko(t,Ase);return O.createElement(Ese,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:xse,tooltipPayloadSearcher:Xne,categoricalChartProps:n,ref:e})});const Ise=({tasks:t})=>{const[e,n]=O.useState("summary"),r={todo:t.filter(l=>l.status===zt.TODO).length,inProgress:t.filter(l=>l.status===zt.IN_PROGRESS).length,completed:t.filter(l=>l.status===zt.COMPLETED).length},i=[{name:"",value:r.todo,color:nr.status[zt.TODO]},{name:"",value:r.inProgress,color:nr.status[zt.IN_PROGRESS]},{name:"",value:r.completed,color:nr.status[zt.COMPLETED]}].filter(l=>l.value>0),o=t.length||1,a=Math.round(t.reduce((l,c)=>l+(c.progress||0),0)/o);return D.jsxs("div",{className:"bg-white rounded-[32px] md:rounded-[40px] p-6 md:p-8 cute-shadow border border-pink-100 flex flex-col h-full min-h-[440px]",children:[D.jsxs("div",{className:"w-full flex items-center justify-between mb-8",children:[D.jsxs("h3",{className:"text-xl font-black text-pink-600 flex items-center gap-3",children:[D.jsx("span",{className:"p-2 bg-pink-100 rounded-xl text-pink-500 shadow-sm",children:D.jsx(v$,{size:20})}),""]}),D.jsxs("div",{className:"flex bg-pink-50 p-1 rounded-2xl border border-pink-100",children:[D.jsxs("button",{onClick:()=>n("summary"),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-black transition-all ${e==="summary"?"bg-white text-pink-500 shadow-sm":"text-pink-300 hover:text-pink-400"}`,children:[D.jsx(w$,{size:14})," "]}),D.jsxs("button",{onClick:()=>n("details"),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-black transition-all ${e==="details"?"bg-white text-pink-500 shadow-sm":"text-pink-300 hover:text-pink-400"}`,children:[D.jsx(eG,{size:14})," "]})]})]}),D.jsxs("div",{className:"flex flex-col lg:flex-row w-full gap-8 items-center justify-center flex-1",children:[D.jsxs("div",{className:"relative w-48 h-48 md:w-56 md:h-56 flex-shrink-0 animate-in zoom-in duration-500",children:[D.jsx(CW,{width:"100%",height:"100%",children:D.jsxs(Cse,{children:[D.jsx(VB,{data:i.length>0?i:[{name:"",value:1,color:"#f3f4f6"}],innerRadius:65,outerRadius:85,paddingAngle:8,dataKey:"value",stroke:"none",animationBegin:0,animationDuration:1500,children:i.length>0?i.map((l,c)=>D.jsx(_h,{fill:l.color,className:"drop-shadow-sm"},`cell-${c}`)):D.jsx(_h,{fill:"#f3f4f6"})}),D.jsx(Ere,{})]})}),D.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[D.jsxs("span",{className:"text-4xl md:text-5xl font-black text-pink-500 drop-shadow-sm",children:[a,"%"]}),D.jsx("span",{className:"text-[10px] md:text-xs text-pink-300 font-bold tracking-widest uppercase mt-1",children:""})]})]}),D.jsx("div",{className:"flex-1 w-full flex flex-col justify-center space-y-6 overflow-y-auto max-h-[320px] pr-2 no-scrollbar",children:e==="summary"?[{label:"",count:r.todo,color:nr.status[zt.TODO],progress:Math.round(r.todo/o*100)},{label:"",count:r.inProgress,color:nr.status[zt.IN_PROGRESS],progress:Math.round(r.inProgress/o*100)},{label:"",count:r.completed,color:nr.status[zt.COMPLETED],progress:Math.round(r.completed/o*100)}].map((l,c)=>D.jsxs("div",{className:"space-y-2 group",children:[D.jsxs("div",{className:"flex items-center justify-between text-sm font-bold",children:[D.jsxs("span",{className:"text-[#5c4b51] flex items-center gap-2",children:[D.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:l.color}}),l.label]}),D.jsxs("span",{className:"text-pink-400 font-black",children:[l.progress,"%"]})]}),D.jsx("div",{className:"h-3.5 bg-pink-50 rounded-full overflow-hidden shadow-inner border border-white",children:D.jsx("div",{className:"h-full rounded-full transition-all duration-1000 ease-out shadow-sm",style:{width:`${l.progress}%`,backgroundColor:l.color}})})]},c)):t.length>0?t.map(l=>D.jsxs("div",{className:"space-y-1.5 animate-in slide-in-from-right duration-300",children:[D.jsxs("div",{className:"flex items-center justify-between text-[13px] font-bold",children:[D.jsx("span",{className:"text-[#5c4b51] truncate max-w-[200px]",children:l.title}),D.jsxs("span",{className:"text-pink-400 font-black",children:[l.progress,"%"]})]}),D.jsx("div",{className:"h-3 bg-pink-50 rounded-full overflow-hidden border border-white shadow-inner",children:D.jsx("div",{className:"h-full rounded-full transition-all duration-1000 shadow-sm",style:{width:`${l.progress}%`,backgroundColor:l.color||"#ffb8d1"}})})]},l.id)):D.jsx("div",{className:"text-center py-10 text-pink-200 font-bold italic",children:" "})})]})]})};function Rse(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Pse=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,kse=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Mse={};function _O(t,e){return(Mse.jsx?kse:Pse).test(t)}const Nse=/[ \t\n\f\r]/g;function Dse(t){return typeof t=="object"?t.type==="text"?bO(t.value):!1:bO(t)}function bO(t){return t.replace(Nse,"")===""}class rp{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}rp.prototype.normal={};rp.prototype.property={};rp.prototype.space=void 0;function e3(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new rp(n,r,e)}function zT(t){return t.toLowerCase()}class jr{constructor(e,n){this.attribute=n,this.property=e}}jr.prototype.attribute="";jr.prototype.booleanish=!1;jr.prototype.boolean=!1;jr.prototype.commaOrSpaceSeparated=!1;jr.prototype.commaSeparated=!1;jr.prototype.defined=!1;jr.prototype.mustUseProperty=!1;jr.prototype.number=!1;jr.prototype.overloadedBoolean=!1;jr.prototype.property="";jr.prototype.spaceSeparated=!1;jr.prototype.space=void 0;let Ose=0;const We=gu(),bn=gu(),BT=gu(),be=gu(),Dt=gu(),Cc=gu(),ei=gu();function gu(){return 2**++Ose}const qT=Object.freeze(Object.defineProperty({__proto__:null,boolean:We,booleanish:bn,commaOrSpaceSeparated:ei,commaSeparated:Cc,number:be,overloadedBoolean:BT,spaceSeparated:Dt},Symbol.toStringTag,{value:"Module"})),lw=Object.keys(qT);class AA extends jr{constructor(e,n,r,i){let o=-1;if(super(e,n),EO(this,"space",i),typeof r=="number")for(;++o<lw.length;){const a=lw[o];EO(this,lw[o],(r&qT[a])===qT[a])}}}AA.prototype.defined=!0;function EO(t,e,n){n&&(t[e]=n)}function uf(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const o=new AA(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[zT(r)]=r,n[zT(o.attribute)]=r}return new rp(e,n,t.space)}const t3=uf({properties:{ariaActiveDescendant:null,ariaAtomic:bn,ariaAutoComplete:null,ariaBusy:bn,ariaChecked:bn,ariaColCount:be,ariaColIndex:be,ariaColSpan:be,ariaControls:Dt,ariaCurrent:null,ariaDescribedBy:Dt,ariaDetails:null,ariaDisabled:bn,ariaDropEffect:Dt,ariaErrorMessage:null,ariaExpanded:bn,ariaFlowTo:Dt,ariaGrabbed:bn,ariaHasPopup:null,ariaHidden:bn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Dt,ariaLevel:be,ariaLive:null,ariaModal:bn,ariaMultiLine:bn,ariaMultiSelectable:bn,ariaOrientation:null,ariaOwns:Dt,ariaPlaceholder:null,ariaPosInSet:be,ariaPressed:bn,ariaReadOnly:bn,ariaRelevant:null,ariaRequired:bn,ariaRoleDescription:Dt,ariaRowCount:be,ariaRowIndex:be,ariaRowSpan:be,ariaSelected:bn,ariaSetSize:be,ariaSort:null,ariaValueMax:be,ariaValueMin:be,ariaValueNow:be,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function n3(t,e){return e in t?t[e]:e}function r3(t,e){return n3(t,e.toLowerCase())}const Lse=uf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Cc,acceptCharset:Dt,accessKey:Dt,action:null,allow:null,allowFullScreen:We,allowPaymentRequest:We,allowUserMedia:We,alt:null,as:null,async:We,autoCapitalize:null,autoComplete:Dt,autoFocus:We,autoPlay:We,blocking:Dt,capture:null,charSet:null,checked:We,cite:null,className:Dt,cols:be,colSpan:null,content:null,contentEditable:bn,controls:We,controlsList:Dt,coords:be|Cc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:We,defer:We,dir:null,dirName:null,disabled:We,download:BT,draggable:bn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:We,formTarget:null,headers:Dt,height:be,hidden:BT,high:be,href:null,hrefLang:null,htmlFor:Dt,httpEquiv:Dt,id:null,imageSizes:null,imageSrcSet:null,inert:We,inputMode:null,integrity:null,is:null,isMap:We,itemId:null,itemProp:Dt,itemRef:Dt,itemScope:We,itemType:Dt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:We,low:be,manifest:null,max:null,maxLength:be,media:null,method:null,min:null,minLength:be,multiple:We,muted:We,name:null,nonce:null,noModule:We,noValidate:We,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:We,optimum:be,pattern:null,ping:Dt,placeholder:null,playsInline:We,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:We,referrerPolicy:null,rel:Dt,required:We,reversed:We,rows:be,rowSpan:be,sandbox:Dt,scope:null,scoped:We,seamless:We,selected:We,shadowRootClonable:We,shadowRootDelegatesFocus:We,shadowRootMode:null,shape:null,size:be,sizes:null,slot:null,span:be,spellCheck:bn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:be,step:null,style:null,tabIndex:be,target:null,title:null,translate:null,type:null,typeMustMatch:We,useMap:null,value:bn,width:be,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Dt,axis:null,background:null,bgColor:null,border:be,borderColor:null,bottomMargin:be,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:We,declare:We,event:null,face:null,frame:null,frameBorder:null,hSpace:be,leftMargin:be,link:null,longDesc:null,lowSrc:null,marginHeight:be,marginWidth:be,noResize:We,noHref:We,noShade:We,noWrap:We,object:null,profile:null,prompt:null,rev:null,rightMargin:be,rules:null,scheme:null,scrolling:bn,standby:null,summary:null,text:null,topMargin:be,valueType:null,version:null,vAlign:null,vLink:null,vSpace:be,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:We,disableRemotePlayback:We,prefix:null,property:null,results:be,security:null,unselectable:null},space:"html",transform:r3}),Use=uf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ei,accentHeight:be,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:be,amplitude:be,arabicForm:null,ascent:be,attributeName:null,attributeType:null,azimuth:be,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:be,by:null,calcMode:null,capHeight:be,className:Dt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:be,diffuseConstant:be,direction:null,display:null,dur:null,divisor:be,dominantBaseline:null,download:We,dx:null,dy:null,edgeMode:null,editable:null,elevation:be,enableBackground:null,end:null,event:null,exponent:be,externalResourcesRequired:null,fill:null,fillOpacity:be,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Cc,g2:Cc,glyphName:Cc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:be,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:be,horizOriginX:be,horizOriginY:be,id:null,ideographic:be,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:be,k:be,k1:be,k2:be,k3:be,k4:be,kernelMatrix:ei,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:be,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:be,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:be,overlineThickness:be,paintOrder:null,panose1:null,path:null,pathLength:be,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Dt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:be,pointsAtY:be,pointsAtZ:be,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ei,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ei,rev:ei,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ei,requiredFeatures:ei,requiredFonts:ei,requiredFormats:ei,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:be,specularExponent:be,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:be,strikethroughThickness:be,string:null,stroke:null,strokeDashArray:ei,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:be,strokeOpacity:be,strokeWidth:null,style:null,surfaceScale:be,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ei,tabIndex:be,tableValues:null,target:null,targetX:be,targetY:be,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ei,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:be,underlineThickness:be,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:be,values:null,vAlphabetic:be,vMathematical:be,vectorEffect:null,vHanging:be,vIdeographic:be,version:null,vertAdvY:be,vertOriginX:be,vertOriginY:be,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:be,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:n3}),i3=uf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),o3=uf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:r3}),a3=uf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Vse={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Fse=/[A-Z]/g,wO=/-[a-z]/g,zse=/^data[-\w.:]+$/i;function Bse(t,e){const n=zT(e);let r=e,i=jr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&zse.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(wO,Hse);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!wO.test(o)){let a=o.replace(Fse,qse);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=AA}return new i(r,e)}function qse(t){return"-"+t.toLowerCase()}function Hse(t){return t.charAt(1).toUpperCase()}const jse=e3([t3,Lse,i3,o3,a3],"html"),CA=e3([t3,Use,i3,o3,a3],"svg");function $se(t){return t.join(" ").trim()}var fc={},uw,TO;function Gse(){if(TO)return uw;TO=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,l=/^\s+|\s+$/g,c=`
`,f="/",h="*",p="",g="comment",v="declaration";function T(S,C){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];C=C||{};var L=1,M=1;function G(ie){var ae=ie.match(e);ae&&(L+=ae.length);var J=ie.lastIndexOf(c);M=~J?ie.length-J:M+ie.length}function $(){var ie={line:L,column:M};return function(ae){return ae.position=new z(ie),V(),ae}}function z(ie){this.start=ie,this.end={line:L,column:M},this.source=C.source}z.prototype.content=S;function N(ie){var ae=new Error(C.source+":"+L+":"+M+": "+ie);if(ae.reason=ie,ae.filename=C.source,ae.line=L,ae.column=M,ae.source=S,!C.silent)throw ae}function U(ie){var ae=ie.exec(S);if(ae){var J=ae[0];return G(J),S=S.slice(J.length),ae}}function V(){U(n)}function k(ie){var ae;for(ie=ie||[];ae=P();)ae!==!1&&ie.push(ae);return ie}function P(){var ie=$();if(!(f!=S.charAt(0)||h!=S.charAt(1))){for(var ae=2;p!=S.charAt(ae)&&(h!=S.charAt(ae)||f!=S.charAt(ae+1));)++ae;if(ae+=2,p===S.charAt(ae-1))return N("End of comment missing");var J=S.slice(2,ae-2);return M+=2,G(J),S=S.slice(ae),M+=2,ie({type:g,comment:J})}}function F(){var ie=$(),ae=U(r);if(ae){if(P(),!U(i))return N("property missing ':'");var J=U(o),le=ie({type:v,property:x(ae[0].replace(t,p)),value:J?x(J[0].replace(t,p)):p});return U(a),le}}function B(){var ie=[];k(ie);for(var ae;ae=F();)ae!==!1&&(ie.push(ae),k(ie));return ie}return V(),B()}function x(S){return S?S.replace(l,p):p}return uw=T,uw}var SO;function Kse(){if(SO)return fc;SO=1;var t=fc&&fc.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fc,"__esModule",{value:!0}),fc.default=n;const e=t(Gse());function n(r,i){let o=null;if(!r||typeof r!="string")return o;const a=(0,e.default)(r),l=typeof i=="function";return a.forEach(c=>{if(c.type!=="declaration")return;const{property:f,value:h}=c;l?i(f,h,c):h&&(o=o||{},o[f]=h)}),o}return fc}var Id={},xO;function Yse(){if(xO)return Id;xO=1,Object.defineProperty(Id,"__esModule",{value:!0}),Id.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(f){return!f||n.test(f)||t.test(f)},a=function(f,h){return h.toUpperCase()},l=function(f,h){return"".concat(h,"-")},c=function(f,h){return h===void 0&&(h={}),o(f)?f:(f=f.toLowerCase(),h.reactCompat?f=f.replace(i,l):f=f.replace(r,l),f.replace(e,a))};return Id.camelCase=c,Id}var Rd,AO;function Wse(){if(AO)return Rd;AO=1;var t=Rd&&Rd.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(Kse()),n=Yse();function r(i,o){var a={};return!i||typeof i!="string"||(0,e.default)(i,function(l,c){l&&c&&(a[(0,n.camelCase)(l,o)]=c)}),a}return r.default=r,Rd=r,Rd}var Jse=Wse();const Xse=Ni(Jse),s3=l3("end"),IA=l3("start");function l3(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Qse(t){const e=IA(t),n=s3(t);if(e&&n)return{start:e,end:n}}function Hd(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?CO(t.position):"start"in t||"end"in t?CO(t):"line"in t||"column"in t?HT(t):""}function HT(t){return IO(t&&t.line)+":"+IO(t&&t.column)}function CO(t){return HT(t&&t.start)+"-"+HT(t&&t.end)}function IO(t){return t&&typeof t=="number"?t:1}class pr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},a=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(a=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?o.ruleId=r:(o.source=r.slice(0,c),o.ruleId=r.slice(c+1))}if(!o.place&&o.ancestors&&o.ancestors){const c=o.ancestors[o.ancestors.length-1];c&&(o.place=c.position)}const l=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=Hd(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}pr.prototype.file="";pr.prototype.name="";pr.prototype.reason="";pr.prototype.message="";pr.prototype.stack="";pr.prototype.column=void 0;pr.prototype.line=void 0;pr.prototype.ancestors=void 0;pr.prototype.cause=void 0;pr.prototype.fatal=void 0;pr.prototype.place=void 0;pr.prototype.ruleId=void 0;pr.prototype.source=void 0;const RA={}.hasOwnProperty,Zse=new Map,ele=/[A-Z]/g,tle=new Set(["table","tbody","thead","tfoot","tr"]),nle=new Set(["td","th"]),u3="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function rle(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=fle(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=cle(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?CA:jse,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=c3(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function c3(t,e,n){if(e.type==="element")return ile(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return ole(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return sle(t,e,n);if(e.type==="mdxjsEsm")return ale(t,e);if(e.type==="root")return lle(t,e,n);if(e.type==="text")return ule(t,e)}function ile(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=CA,t.schema=i),t.ancestors.push(e);const o=d3(t,e.tagName,!1),a=dle(t,e);let l=kA(t,e);return tle.has(e.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!Dse(c):!0})),f3(t,a,o,e),PA(a,l),t.ancestors.pop(),t.schema=r,t.create(e,o,a,n)}function ole(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}bh(t,e.position)}function ale(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);bh(t,e.position)}function sle(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=CA,t.schema=i),t.ancestors.push(e);const o=e.name===null?t.Fragment:d3(t,e.name,!0),a=hle(t,e),l=kA(t,e);return f3(t,a,o,e),PA(a,l),t.ancestors.pop(),t.schema=r,t.create(e,o,a,n)}function lle(t,e,n){const r={};return PA(r,kA(t,e)),t.create(e,t.Fragment,r,n)}function ule(t,e){return e.value}function f3(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function PA(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function cle(t,e,n){return r;function r(i,o,a,l){const f=Array.isArray(a.children)?n:e;return l?f(o,a,l):f(o,a)}}function fle(t,e){return n;function n(r,i,o,a){const l=Array.isArray(o.children),c=IA(r);return e(i,o,a,l,{columnNumber:c?c.column-1:void 0,fileName:t,lineNumber:c?c.line:void 0},void 0)}}function dle(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&RA.call(e.properties,i)){const o=ple(t,i,e.properties[i]);if(o){const[a,l]=o;t.tableCellAlignToStyle&&a==="align"&&typeof l=="string"&&nle.has(e.tagName)?r=l:n[a]=l}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function hle(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const a=o.expression;a.type;const l=a.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else bh(t,e.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const l=r.value.data.estree.body[0];l.type,o=t.evaluater.evaluateExpression(l.expression)}else bh(t,e.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function kA(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:Zse;for(;++r<e.children.length;){const o=e.children[r];let a;if(t.passKeys){const c=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(c){const f=i.get(c)||0;a=c+"-"+f,i.set(c,f+1)}}const l=c3(t,o,a);l!==void 0&&n.push(l)}return n}function ple(t,e,n){const r=Bse(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Rse(n):$se(n)),r.property==="style"){let i=typeof n=="object"?n:mle(t,String(n));return t.stylePropertyNameCase==="css"&&(i=gle(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?Vse[r.property]||r.property:r.attribute,n]}}function mle(t,e){try{return Xse(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new pr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=u3+"#cannot-parse-style-attribute",i}}function d3(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let o=-1,a;for(;++o<i.length;){const l=_O(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};a=a?{type:"MemberExpression",object:a,property:l,computed:!!(o&&l.type==="Literal"),optional:!1}:l}r=a}else r=_O(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return RA.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);bh(t)}function bh(t,e){const n=new pr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=u3+"#cannot-handle-mdx-estrees-without-createevaluater",n}function gle(t){const e={};let n;for(n in t)RA.call(t,n)&&(e[yle(n)]=t[n]);return e}function yle(t){let e=t.replace(ele,vle);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function vle(t){return"-"+t.toLowerCase()}const cw={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},_le={};function MA(t,e){const n=_le,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return h3(t,r,i)}function h3(t,e,n){if(ble(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return RO(t.children,e,n)}return Array.isArray(t)?RO(t,e,n):""}function RO(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=h3(t[i],e,n);return r.join("")}function ble(t){return!!(t&&typeof t=="object")}const PO=document.createElement("i");function NA(t){const e="&"+t+";";PO.innerHTML=e;const n=PO.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function si(t,e,n,r){const i=t.length;let o=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);o<r.length;)a=r.slice(o,o+1e4),a.unshift(e,0),t.splice(...a),o+=1e4,e+=1e4}function Si(t,e){return t.length>0?(si(t,t.length,0,e),t):e}const kO={}.hasOwnProperty;function p3(t){const e={};let n=-1;for(;++n<t.length;)Ele(e,t[n]);return e}function Ele(t,e){let n;for(n in e){const i=(kO.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let a;if(o)for(a in o){kO.call(i,a)||(i[a]=[]);const l=o[a];wle(i[a],Array.isArray(l)?l:l?[l]:[])}}}function wle(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);si(t,0,0,r)}function m3(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Yi(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ar=il(/[A-Za-z]/),fr=il(/[\dA-Za-z]/),Tle=il(/[#-'*+\--9=?A-Z^-~]/);function Ry(t){return t!==null&&(t<32||t===127)}const jT=il(/\d/),Sle=il(/[\dA-Fa-f]/),xle=il(/[!-/:-@[-`{-~]/);function Oe(t){return t!==null&&t<-2}function Nt(t){return t!==null&&(t<0||t===32)}function nt(t){return t===-2||t===-1||t===32}const Gv=il(new RegExp("\\p{P}|\\p{S}","u")),ou=il(/\s/);function il(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function cf(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const o=t.charCodeAt(n);let a="";if(o===37&&fr(t.charCodeAt(n+1))&&fr(t.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const l=t.charCodeAt(n+1);o<56320&&l>56319&&l<57344?(a=String.fromCharCode(o,l),i=1):a=""}else a=String.fromCharCode(o);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function ct(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(c){return nt(c)?(t.enter(n),l(c)):e(c)}function l(c){return nt(c)&&o++<i?(t.consume(c),l):(t.exit(n),e(c))}}const Ale={tokenize:Cle};function Cle(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),ct(t,e,"linePrefix")}function i(l){return t.enter("paragraph"),o(l)}function o(l){const c=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,a(l)}function a(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return Oe(l)?(t.consume(l),t.exit("chunkText"),o):(t.consume(l),a)}}const Ile={tokenize:Rle},MO={tokenize:Ple};function Rle(t){const e=this,n=[];let r=0,i,o,a;return l;function l(M){if(r<n.length){const G=n[r];return e.containerState=G[1],t.attempt(G[0].continuation,c,f)(M)}return f(M)}function c(M){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&L();const G=e.events.length;let $=G,z;for(;$--;)if(e.events[$][0]==="exit"&&e.events[$][1].type==="chunkFlow"){z=e.events[$][1].end;break}C(r);let N=G;for(;N<e.events.length;)e.events[N][1].end={...z},N++;return si(e.events,$+1,0,e.events.slice(G)),e.events.length=N,f(M)}return l(M)}function f(M){if(r===n.length){if(!i)return g(M);if(i.currentConstruct&&i.currentConstruct.concrete)return T(M);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(MO,h,p)(M)}function h(M){return i&&L(),C(r),g(M)}function p(M){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,T(M)}function g(M){return e.containerState={},t.attempt(MO,v,T)(M)}function v(M){return r++,n.push([e.currentConstruct,e.containerState]),g(M)}function T(M){if(M===null){i&&L(),C(0),t.consume(M);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),x(M)}function x(M){if(M===null){S(t.exit("chunkFlow"),!0),C(0),t.consume(M);return}return Oe(M)?(t.consume(M),S(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(M),x)}function S(M,G){const $=e.sliceStream(M);if(G&&$.push(null),M.previous=o,o&&(o.next=M),o=M,i.defineSkip(M.start),i.write($),e.parser.lazy[M.start.line]){let z=i.events.length;for(;z--;)if(i.events[z][1].start.offset<a&&(!i.events[z][1].end||i.events[z][1].end.offset>a))return;const N=e.events.length;let U=N,V,k;for(;U--;)if(e.events[U][0]==="exit"&&e.events[U][1].type==="chunkFlow"){if(V){k=e.events[U][1].end;break}V=!0}for(C(r),z=N;z<e.events.length;)e.events[z][1].end={...k},z++;si(e.events,U+1,0,e.events.slice(N)),e.events.length=z}}function C(M){let G=n.length;for(;G-- >M;){const $=n[G];e.containerState=$[1],$[0].exit.call(e,t)}n.length=M}function L(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Ple(t,e,n){return ct(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function qc(t){if(t===null||Nt(t)||ou(t))return 1;if(Gv(t))return 2}function Kv(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const $T={name:"attention",resolveAll:kle,tokenize:Mle};function kle(t,e){let n=-1,r,i,o,a,l,c,f,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const p={...t[r][1].end},g={...t[n][1].start};NO(p,-c),NO(g,c),a={type:c>1?"strongSequence":"emphasisSequence",start:p,end:{...t[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:g},o={type:c>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},t[r][1].end={...a.start},t[n][1].start={...l.end},f=[],t[r][1].end.offset-t[r][1].start.offset&&(f=Si(f,[["enter",t[r][1],e],["exit",t[r][1],e]])),f=Si(f,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",o,e]]),f=Si(f,Kv(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),f=Si(f,[["exit",o,e],["enter",l,e],["exit",l,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,f=Si(f,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,si(t,r-1,n-r+3,f),n=r+f.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Mle(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=qc(r);let o;return a;function a(c){return o=c,t.enter("attentionSequence"),l(c)}function l(c){if(c===o)return t.consume(c),l;const f=t.exit("attentionSequence"),h=qc(c),p=!h||h===2&&i||n.includes(c),g=!i||i===2&&h||n.includes(r);return f._open=!!(o===42?p:p&&(i||!g)),f._close=!!(o===42?g:g&&(h||!p)),e(c)}}function NO(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Nle={name:"autolink",tokenize:Dle};function Dle(t,e,n){let r=0;return i;function i(v){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(v){return Ar(v)?(t.consume(v),a):v===64?n(v):f(v)}function a(v){return v===43||v===45||v===46||fr(v)?(r=1,l(v)):f(v)}function l(v){return v===58?(t.consume(v),r=0,c):(v===43||v===45||v===46||fr(v))&&r++<32?(t.consume(v),l):(r=0,f(v))}function c(v){return v===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):v===null||v===32||v===60||Ry(v)?n(v):(t.consume(v),c)}function f(v){return v===64?(t.consume(v),h):Tle(v)?(t.consume(v),f):n(v)}function h(v){return fr(v)?p(v):n(v)}function p(v){return v===46?(t.consume(v),r=0,h):v===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):g(v)}function g(v){if((v===45||fr(v))&&r++<63){const T=v===45?g:p;return t.consume(v),T}return n(v)}}const ip={partial:!0,tokenize:Ole};function Ole(t,e,n){return r;function r(o){return nt(o)?ct(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||Oe(o)?e(o):n(o)}}const g3={continuation:{tokenize:Ule},exit:Vle,name:"blockQuote",tokenize:Lle};function Lle(t,e,n){const r=this;return i;function i(a){if(a===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),o}return n(a)}function o(a){return nt(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function Ule(t,e,n){const r=this;return i;function i(a){return nt(a)?ct(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return t.attempt(g3,e,n)(a)}}function Vle(t){t.exit("blockQuote")}const y3={name:"characterEscape",tokenize:Fle};function Fle(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return xle(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const v3={name:"characterReference",tokenize:zle};function zle(t,e,n){const r=this;let i=0,o,a;return l;function l(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),c}function c(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),f):(t.enter("characterReferenceValue"),o=31,a=fr,h(p))}function f(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,a=Sle,h):(t.enter("characterReferenceValue"),o=7,a=jT,h(p))}function h(p){if(p===59&&i){const g=t.exit("characterReferenceValue");return a===fr&&!NA(r.sliceSerialize(g))?n(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(p)&&i++<o?(t.consume(p),h):n(p)}}const DO={partial:!0,tokenize:qle},OO={concrete:!0,name:"codeFenced",tokenize:Ble};function Ble(t,e,n){const r=this,i={partial:!0,tokenize:$};let o=0,a=0,l;return c;function c(z){return f(z)}function f(z){const N=r.events[r.events.length-1];return o=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,l=z,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(z)}function h(z){return z===l?(a++,t.consume(z),h):a<3?n(z):(t.exit("codeFencedFenceSequence"),nt(z)?ct(t,p,"whitespace")(z):p(z))}function p(z){return z===null||Oe(z)?(t.exit("codeFencedFence"),r.interrupt?e(z):t.check(DO,x,G)(z)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),g(z))}function g(z){return z===null||Oe(z)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p(z)):nt(z)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),ct(t,v,"whitespace")(z)):z===96&&z===l?n(z):(t.consume(z),g)}function v(z){return z===null||Oe(z)?p(z):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),T(z))}function T(z){return z===null||Oe(z)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(z)):z===96&&z===l?n(z):(t.consume(z),T)}function x(z){return t.attempt(i,G,S)(z)}function S(z){return t.enter("lineEnding"),t.consume(z),t.exit("lineEnding"),C}function C(z){return o>0&&nt(z)?ct(t,L,"linePrefix",o+1)(z):L(z)}function L(z){return z===null||Oe(z)?t.check(DO,x,G)(z):(t.enter("codeFlowValue"),M(z))}function M(z){return z===null||Oe(z)?(t.exit("codeFlowValue"),L(z)):(t.consume(z),M)}function G(z){return t.exit("codeFenced"),e(z)}function $(z,N,U){let V=0;return k;function k(ae){return z.enter("lineEnding"),z.consume(ae),z.exit("lineEnding"),P}function P(ae){return z.enter("codeFencedFence"),nt(ae)?ct(z,F,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ae):F(ae)}function F(ae){return ae===l?(z.enter("codeFencedFenceSequence"),B(ae)):U(ae)}function B(ae){return ae===l?(V++,z.consume(ae),B):V>=a?(z.exit("codeFencedFenceSequence"),nt(ae)?ct(z,ie,"whitespace")(ae):ie(ae)):U(ae)}function ie(ae){return ae===null||Oe(ae)?(z.exit("codeFencedFence"),N(ae)):U(ae)}}}function qle(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const fw={name:"codeIndented",tokenize:jle},Hle={partial:!0,tokenize:$le};function jle(t,e,n){const r=this;return i;function i(f){return t.enter("codeIndented"),ct(t,o,"linePrefix",5)(f)}function o(f){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?a(f):n(f)}function a(f){return f===null?c(f):Oe(f)?t.attempt(Hle,a,c)(f):(t.enter("codeFlowValue"),l(f))}function l(f){return f===null||Oe(f)?(t.exit("codeFlowValue"),a(f)):(t.consume(f),l)}function c(f){return t.exit("codeIndented"),e(f)}}function $le(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):Oe(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):ct(t,o,"linePrefix",5)(a)}function o(a){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):Oe(a)?i(a):n(a)}}const Gle={name:"codeText",previous:Yle,resolve:Kle,tokenize:Wle};function Kle(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Yle(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Wle(t,e,n){let r=0,i,o;return a;function a(p){return t.enter("codeText"),t.enter("codeTextSequence"),l(p)}function l(p){return p===96?(t.consume(p),r++,l):(t.exit("codeTextSequence"),c(p))}function c(p){return p===null?n(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),c):p===96?(o=t.enter("codeTextSequence"),i=0,h(p)):Oe(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),c):(t.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||Oe(p)?(t.exit("codeTextData"),c(p)):(t.consume(p),f)}function h(p){return p===96?(t.consume(p),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(o.type="codeTextData",f(p))}}class Jle{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Pd(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Pd(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Pd(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Pd(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Pd(this.left,n.reverse())}}}function Pd(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function _3(t){const e={};let n=-1,r,i,o,a,l,c,f;const h=new Jle(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,o=0,o<c.length&&c[o][1].type==="lineEndingBlank"&&(o+=2),o<c.length&&c[o][1].type==="content"))for(;++o<c.length&&c[o][1].type!=="content";)c[o][1].type==="chunkText"&&(c[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Xle(h,n)),n=e[n],f=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(a=h.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},l=h.slice(i,n),l.unshift(r),h.splice(i,n-i+1,l))}}return si(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!f}function Xle(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const l=a.events,c=[],f={};let h,p,g=-1,v=n,T=0,x=0;const S=[x];for(;v;){for(;t.get(++i)[1]!==v;);o.push(i),v._tokenizer||(h=r.sliceStream(v),v.next||h.push(null),p&&a.defineSkip(v.start),v._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(h),v._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),p=v,v=v.next}for(v=n;++g<l.length;)l[g][0]==="exit"&&l[g-1][0]==="enter"&&l[g][1].type===l[g-1][1].type&&l[g][1].start.line!==l[g][1].end.line&&(x=g+1,S.push(x),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(a.events=[],v?(v._tokenizer=void 0,v.previous=void 0):S.pop(),g=S.length;g--;){const C=l.slice(S[g],S[g+1]),L=o.pop();c.push([L,L+C.length-1]),t.splice(L,2,C)}for(c.reverse(),g=-1;++g<c.length;)f[T+c[g][0]]=T+c[g][1],T+=c[g][1]-c[g][0]-1;return f}const Qle={resolve:eue,tokenize:tue},Zle={partial:!0,tokenize:nue};function eue(t){return _3(t),t}function tue(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?o(l):Oe(l)?t.check(Zle,a,o)(l):(t.consume(l),i)}function o(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function a(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function nue(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),ct(t,o,"linePrefix")}function o(a){if(a===null||Oe(a))return n(a);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function b3(t,e,n,r,i,o,a,l,c){const f=c||Number.POSITIVE_INFINITY;let h=0;return p;function p(C){return C===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(C),t.exit(o),g):C===null||C===32||C===41||Ry(C)?n(C):(t.enter(r),t.enter(a),t.enter(l),t.enter("chunkString",{contentType:"string"}),x(C))}function g(C){return C===62?(t.enter(o),t.consume(C),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),v(C))}function v(C){return C===62?(t.exit("chunkString"),t.exit(l),g(C)):C===null||C===60||Oe(C)?n(C):(t.consume(C),C===92?T:v)}function T(C){return C===60||C===62||C===92?(t.consume(C),v):v(C)}function x(C){return!h&&(C===null||C===41||Nt(C))?(t.exit("chunkString"),t.exit(l),t.exit(a),t.exit(r),e(C)):h<f&&C===40?(t.consume(C),h++,x):C===41?(t.consume(C),h--,x):C===null||C===32||C===40||Ry(C)?n(C):(t.consume(C),C===92?S:x)}function S(C){return C===40||C===41||C===92?(t.consume(C),x):x(C)}}function E3(t,e,n,r,i,o){const a=this;let l=0,c;return f;function f(v){return t.enter(r),t.enter(i),t.consume(v),t.exit(i),t.enter(o),h}function h(v){return l>999||v===null||v===91||v===93&&!c||v===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(v):v===93?(t.exit(o),t.enter(i),t.consume(v),t.exit(i),t.exit(r),e):Oe(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===null||v===91||v===93||Oe(v)||l++>999?(t.exit("chunkString"),h(v)):(t.consume(v),c||(c=!nt(v)),v===92?g:p)}function g(v){return v===91||v===92||v===93?(t.consume(v),l++,p):p(v)}}function w3(t,e,n,r,i,o){let a;return l;function l(g){return g===34||g===39||g===40?(t.enter(r),t.enter(i),t.consume(g),t.exit(i),a=g===40?41:g,c):n(g)}function c(g){return g===a?(t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):(t.enter(o),f(g))}function f(g){return g===a?(t.exit(o),c(a)):g===null?n(g):Oe(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),ct(t,f,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===a||g===null||Oe(g)?(t.exit("chunkString"),f(g)):(t.consume(g),g===92?p:h)}function p(g){return g===a||g===92?(t.consume(g),h):h(g)}}function jd(t,e){let n;return r;function r(i){return Oe(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):nt(i)?ct(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const rue={name:"definition",tokenize:oue},iue={partial:!0,tokenize:aue};function oue(t,e,n){const r=this;let i;return o;function o(v){return t.enter("definition"),a(v)}function a(v){return E3.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function l(v){return i=Yi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),c):n(v)}function c(v){return Nt(v)?jd(t,f)(v):f(v)}function f(v){return b3(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function h(v){return t.attempt(iue,p,p)(v)}function p(v){return nt(v)?ct(t,g,"whitespace")(v):g(v)}function g(v){return v===null||Oe(v)?(t.exit("definition"),r.parser.defined.push(i),e(v)):n(v)}}function aue(t,e,n){return r;function r(l){return Nt(l)?jd(t,i)(l):n(l)}function i(l){return w3(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function o(l){return nt(l)?ct(t,a,"whitespace")(l):a(l)}function a(l){return l===null||Oe(l)?e(l):n(l)}}const sue={name:"hardBreakEscape",tokenize:lue};function lue(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return Oe(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const uue={name:"headingAtx",resolve:cue,tokenize:fue};function cue(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},si(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function fue(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),o(h)}function o(h){return t.enter("atxHeadingSequence"),a(h)}function a(h){return h===35&&r++<6?(t.consume(h),a):h===null||Nt(h)?(t.exit("atxHeadingSequence"),l(h)):n(h)}function l(h){return h===35?(t.enter("atxHeadingSequence"),c(h)):h===null||Oe(h)?(t.exit("atxHeading"),e(h)):nt(h)?ct(t,l,"whitespace")(h):(t.enter("atxHeadingText"),f(h))}function c(h){return h===35?(t.consume(h),c):(t.exit("atxHeadingSequence"),l(h))}function f(h){return h===null||h===35||Nt(h)?(t.exit("atxHeadingText"),l(h)):(t.consume(h),f)}}const due=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],LO=["pre","script","style","textarea"],hue={concrete:!0,name:"htmlFlow",resolveTo:gue,tokenize:yue},pue={partial:!0,tokenize:_ue},mue={partial:!0,tokenize:vue};function gue(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function yue(t,e,n){const r=this;let i,o,a,l,c;return f;function f(j){return h(j)}function h(j){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(j),p}function p(j){return j===33?(t.consume(j),g):j===47?(t.consume(j),o=!0,x):j===63?(t.consume(j),i=3,r.interrupt?e:K):Ar(j)?(t.consume(j),a=String.fromCharCode(j),S):n(j)}function g(j){return j===45?(t.consume(j),i=2,v):j===91?(t.consume(j),i=5,l=0,T):Ar(j)?(t.consume(j),i=4,r.interrupt?e:K):n(j)}function v(j){return j===45?(t.consume(j),r.interrupt?e:K):n(j)}function T(j){const Ee="CDATA[";return j===Ee.charCodeAt(l++)?(t.consume(j),l===Ee.length?r.interrupt?e:F:T):n(j)}function x(j){return Ar(j)?(t.consume(j),a=String.fromCharCode(j),S):n(j)}function S(j){if(j===null||j===47||j===62||Nt(j)){const Ee=j===47,Ce=a.toLowerCase();return!Ee&&!o&&LO.includes(Ce)?(i=1,r.interrupt?e(j):F(j)):due.includes(a.toLowerCase())?(i=6,Ee?(t.consume(j),C):r.interrupt?e(j):F(j)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(j):o?L(j):M(j))}return j===45||fr(j)?(t.consume(j),a+=String.fromCharCode(j),S):n(j)}function C(j){return j===62?(t.consume(j),r.interrupt?e:F):n(j)}function L(j){return nt(j)?(t.consume(j),L):k(j)}function M(j){return j===47?(t.consume(j),k):j===58||j===95||Ar(j)?(t.consume(j),G):nt(j)?(t.consume(j),M):k(j)}function G(j){return j===45||j===46||j===58||j===95||fr(j)?(t.consume(j),G):$(j)}function $(j){return j===61?(t.consume(j),z):nt(j)?(t.consume(j),$):M(j)}function z(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(t.consume(j),c=j,N):nt(j)?(t.consume(j),z):U(j)}function N(j){return j===c?(t.consume(j),c=null,V):j===null||Oe(j)?n(j):(t.consume(j),N)}function U(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||Nt(j)?$(j):(t.consume(j),U)}function V(j){return j===47||j===62||nt(j)?M(j):n(j)}function k(j){return j===62?(t.consume(j),P):n(j)}function P(j){return j===null||Oe(j)?F(j):nt(j)?(t.consume(j),P):n(j)}function F(j){return j===45&&i===2?(t.consume(j),J):j===60&&i===1?(t.consume(j),le):j===62&&i===4?(t.consume(j),W):j===63&&i===3?(t.consume(j),K):j===93&&i===5?(t.consume(j),Se):Oe(j)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(pue,oe,B)(j)):j===null||Oe(j)?(t.exit("htmlFlowData"),B(j)):(t.consume(j),F)}function B(j){return t.check(mue,ie,oe)(j)}function ie(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),ae}function ae(j){return j===null||Oe(j)?B(j):(t.enter("htmlFlowData"),F(j))}function J(j){return j===45?(t.consume(j),K):F(j)}function le(j){return j===47?(t.consume(j),a="",_e):F(j)}function _e(j){if(j===62){const Ee=a.toLowerCase();return LO.includes(Ee)?(t.consume(j),W):F(j)}return Ar(j)&&a.length<8?(t.consume(j),a+=String.fromCharCode(j),_e):F(j)}function Se(j){return j===93?(t.consume(j),K):F(j)}function K(j){return j===62?(t.consume(j),W):j===45&&i===2?(t.consume(j),K):F(j)}function W(j){return j===null||Oe(j)?(t.exit("htmlFlowData"),oe(j)):(t.consume(j),W)}function oe(j){return t.exit("htmlFlow"),e(j)}}function vue(t,e,n){const r=this;return i;function i(a){return Oe(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o):n(a)}function o(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function _ue(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(ip,e,n)}}const bue={name:"htmlText",tokenize:Eue};function Eue(t,e,n){const r=this;let i,o,a;return l;function l(K){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(K),c}function c(K){return K===33?(t.consume(K),f):K===47?(t.consume(K),$):K===63?(t.consume(K),M):Ar(K)?(t.consume(K),U):n(K)}function f(K){return K===45?(t.consume(K),h):K===91?(t.consume(K),o=0,T):Ar(K)?(t.consume(K),L):n(K)}function h(K){return K===45?(t.consume(K),v):n(K)}function p(K){return K===null?n(K):K===45?(t.consume(K),g):Oe(K)?(a=p,le(K)):(t.consume(K),p)}function g(K){return K===45?(t.consume(K),v):p(K)}function v(K){return K===62?J(K):K===45?g(K):p(K)}function T(K){const W="CDATA[";return K===W.charCodeAt(o++)?(t.consume(K),o===W.length?x:T):n(K)}function x(K){return K===null?n(K):K===93?(t.consume(K),S):Oe(K)?(a=x,le(K)):(t.consume(K),x)}function S(K){return K===93?(t.consume(K),C):x(K)}function C(K){return K===62?J(K):K===93?(t.consume(K),C):x(K)}function L(K){return K===null||K===62?J(K):Oe(K)?(a=L,le(K)):(t.consume(K),L)}function M(K){return K===null?n(K):K===63?(t.consume(K),G):Oe(K)?(a=M,le(K)):(t.consume(K),M)}function G(K){return K===62?J(K):M(K)}function $(K){return Ar(K)?(t.consume(K),z):n(K)}function z(K){return K===45||fr(K)?(t.consume(K),z):N(K)}function N(K){return Oe(K)?(a=N,le(K)):nt(K)?(t.consume(K),N):J(K)}function U(K){return K===45||fr(K)?(t.consume(K),U):K===47||K===62||Nt(K)?V(K):n(K)}function V(K){return K===47?(t.consume(K),J):K===58||K===95||Ar(K)?(t.consume(K),k):Oe(K)?(a=V,le(K)):nt(K)?(t.consume(K),V):J(K)}function k(K){return K===45||K===46||K===58||K===95||fr(K)?(t.consume(K),k):P(K)}function P(K){return K===61?(t.consume(K),F):Oe(K)?(a=P,le(K)):nt(K)?(t.consume(K),P):V(K)}function F(K){return K===null||K===60||K===61||K===62||K===96?n(K):K===34||K===39?(t.consume(K),i=K,B):Oe(K)?(a=F,le(K)):nt(K)?(t.consume(K),F):(t.consume(K),ie)}function B(K){return K===i?(t.consume(K),i=void 0,ae):K===null?n(K):Oe(K)?(a=B,le(K)):(t.consume(K),B)}function ie(K){return K===null||K===34||K===39||K===60||K===61||K===96?n(K):K===47||K===62||Nt(K)?V(K):(t.consume(K),ie)}function ae(K){return K===47||K===62||Nt(K)?V(K):n(K)}function J(K){return K===62?(t.consume(K),t.exit("htmlTextData"),t.exit("htmlText"),e):n(K)}function le(K){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(K),t.exit("lineEnding"),_e}function _e(K){return nt(K)?ct(t,Se,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):Se(K)}function Se(K){return t.enter("htmlTextData"),a(K)}}const DA={name:"labelEnd",resolveAll:xue,resolveTo:Aue,tokenize:Cue},wue={tokenize:Iue},Tue={tokenize:Rue},Sue={tokenize:Pue};function xue(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&si(t,0,t.length,n),t}function Aue(t,e){let n=t.length,r=0,i,o,a,l;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const c={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},f={type:"label",start:{...t[o][1].start},end:{...t[a][1].end}},h={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[a-2][1].start}};return l=[["enter",c,e],["enter",f,e]],l=Si(l,t.slice(o+1,o+r+3)),l=Si(l,[["enter",h,e]]),l=Si(l,Kv(e.parser.constructs.insideSpan.null,t.slice(o+r+4,a-3),e)),l=Si(l,[["exit",h,e],t[a-2],t[a-1],["exit",f,e]]),l=Si(l,t.slice(a+1)),l=Si(l,[["exit",c,e]]),si(t,o,t.length,l),t}function Cue(t,e,n){const r=this;let i=r.events.length,o,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return l;function l(g){return o?o._inactive?p(g):(a=r.parser.defined.includes(Yi(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelEnd"),c):n(g)}function c(g){return g===40?t.attempt(wue,h,a?h:p)(g):g===91?t.attempt(Tue,h,a?f:p)(g):a?h(g):p(g)}function f(g){return t.attempt(Sue,h,p)(g)}function h(g){return e(g)}function p(g){return o._balanced=!0,n(g)}}function Iue(t,e,n){return r;function r(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),i}function i(p){return Nt(p)?jd(t,o)(p):o(p)}function o(p){return p===41?h(p):b3(t,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function a(p){return Nt(p)?jd(t,c)(p):h(p)}function l(p){return n(p)}function c(p){return p===34||p===39||p===40?w3(t,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function f(p){return Nt(p)?jd(t,h)(p):h(p)}function h(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):n(p)}}function Rue(t,e,n){const r=this;return i;function i(l){return E3.call(r,t,o,a,"reference","referenceMarker","referenceString")(l)}function o(l){return r.parser.defined.includes(Yi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function a(l){return n(l)}}function Pue(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const kue={name:"labelStartImage",resolveAll:DA.resolveAll,tokenize:Mue};function Mue(t,e,n){const r=this;return i;function i(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),o}function o(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),a):n(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const Nue={name:"labelStartLink",resolveAll:DA.resolveAll,tokenize:Due};function Due(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const dw={name:"lineEnding",tokenize:Oue};function Oue(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),ct(t,e,"linePrefix")}}const Ig={name:"thematicBreak",tokenize:Lue};function Lue(t,e,n){let r=0,i;return o;function o(f){return t.enter("thematicBreak"),a(f)}function a(f){return i=f,l(f)}function l(f){return f===i?(t.enter("thematicBreakSequence"),c(f)):r>=3&&(f===null||Oe(f))?(t.exit("thematicBreak"),e(f)):n(f)}function c(f){return f===i?(t.consume(f),r++,c):(t.exit("thematicBreakSequence"),nt(f)?ct(t,l,"whitespace")(f):l(f))}}const Fr={continuation:{tokenize:zue},exit:que,name:"list",tokenize:Fue},Uue={partial:!0,tokenize:Hue},Vue={partial:!0,tokenize:Bue};function Fue(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return l;function l(v){const T=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(T==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:jT(v)){if(r.containerState.type||(r.containerState.type=T,t.enter(T,{_container:!0})),T==="listUnordered")return t.enter("listItemPrefix"),v===42||v===45?t.check(Ig,n,f)(v):f(v);if(!r.interrupt||v===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(v)}return n(v)}function c(v){return jT(v)&&++a<10?(t.consume(v),c):(!r.interrupt||a<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(t.exit("listItemValue"),f(v)):n(v)}function f(v){return t.enter("listItemMarker"),t.consume(v),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,t.check(ip,r.interrupt?n:h,t.attempt(Uue,g,p))}function h(v){return r.containerState.initialBlankLine=!0,o++,g(v)}function p(v){return nt(v)?(t.enter("listItemPrefixWhitespace"),t.consume(v),t.exit("listItemPrefixWhitespace"),g):n(v)}function g(v){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(v)}}function zue(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(ip,i,o);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ct(t,e,"listItemIndent",r.containerState.size+1)(l)}function o(l){return r.containerState.furtherBlankLines||!nt(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Vue,e,a)(l))}function a(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,ct(t,t.attempt(Fr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function Bue(t,e,n){const r=this;return ct(t,i,"listItemIndent",r.containerState.size+1);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(o):n(o)}}function que(t){t.exit(this.containerState.type)}function Hue(t,e,n){const r=this;return ct(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const a=r.events[r.events.length-1];return!nt(o)&&a&&a[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const UO={name:"setextUnderline",resolveTo:jue,tokenize:$ue};function jue(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",a,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=a,t.push(["exit",a,e]),t}function $ue(t,e,n){const r=this;let i;return o;function o(f){let h=r.events.length,p;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){p=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(t.enter("setextHeadingLine"),i=f,a(f)):n(f)}function a(f){return t.enter("setextHeadingLineSequence"),l(f)}function l(f){return f===i?(t.consume(f),l):(t.exit("setextHeadingLineSequence"),nt(f)?ct(t,c,"lineSuffix")(f):c(f))}function c(f){return f===null||Oe(f)?(t.exit("setextHeadingLine"),e(f)):n(f)}}const Gue={tokenize:Kue};function Kue(t){const e=this,n=t.attempt(ip,r,t.attempt(this.parser.constructs.flowInitial,i,ct(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Qle,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Yue={resolveAll:S3()},Wue=T3("string"),Jue=T3("text");function T3(t){return{resolveAll:S3(t==="text"?Xue:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,a,l);return a;function a(h){return f(h)?o(h):l(h)}function l(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),c}function c(h){return f(h)?(n.exit("data"),o(h)):(n.consume(h),c)}function f(h){if(h===null)return!0;const p=i[h];let g=-1;if(p)for(;++g<p.length;){const v=p[g];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function S3(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function Xue(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,a=-1,l=0,c;for(;o--;){const f=i[o];if(typeof f=="string"){for(a=f.length;f.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(f===-2)c=!0,l++;else if(f!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){const f={type:n===t.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:r.start._bufferIndex+a,_index:r.start._index+o,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(t.splice(n,0,["enter",f,e],["exit",f,e]),n+=2)}n++}return t}const Que={42:Fr,43:Fr,45:Fr,48:Fr,49:Fr,50:Fr,51:Fr,52:Fr,53:Fr,54:Fr,55:Fr,56:Fr,57:Fr,62:g3},Zue={91:rue},ece={[-2]:fw,[-1]:fw,32:fw},tce={35:uue,42:Ig,45:[UO,Ig],60:hue,61:UO,95:Ig,96:OO,126:OO},nce={38:v3,92:y3},rce={[-5]:dw,[-4]:dw,[-3]:dw,33:kue,38:v3,42:$T,60:[Nle,bue],91:Nue,92:[sue,y3],93:DA,95:$T,96:Gle},ice={null:[$T,Yue]},oce={null:[42,95]},ace={null:[]},sce=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:oce,contentInitial:Zue,disable:ace,document:Que,flow:tce,flowInitial:ece,insideSpan:ice,string:nce,text:rce},Symbol.toStringTag,{value:"Module"}));function lce(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let a=[],l=[];const c={attempt:N($),check:N(z),consume:L,enter:M,exit:G,interrupt:N(z,{interrupt:!0})},f={code:null,containerState:{},defineSkip:x,events:[],now:T,parser:t,previous:null,sliceSerialize:g,sliceStream:v,write:p};let h=e.tokenize.call(f,c);return e.resolveAll&&o.push(e),f;function p(P){return a=Si(a,P),S(),a[a.length-1]!==null?[]:(U(e,0),f.events=Kv(o,f.events,f),f.events)}function g(P,F){return cce(v(P),F)}function v(P){return uce(a,P)}function T(){const{_bufferIndex:P,_index:F,line:B,column:ie,offset:ae}=r;return{_bufferIndex:P,_index:F,line:B,column:ie,offset:ae}}function x(P){i[P.line]=P.column,k()}function S(){let P;for(;r._index<a.length;){const F=a[r._index];if(typeof F=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<F.length;)C(F.charCodeAt(r._bufferIndex));else C(F)}}function C(P){h=h(P)}function L(P){Oe(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,k()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=P}function M(P,F){const B=F||{};return B.type=P,B.start=T(),f.events.push(["enter",B,f]),l.push(B),B}function G(P){const F=l.pop();return F.end=T(),f.events.push(["exit",F,f]),F}function $(P,F){U(P,F.from)}function z(P,F){F.restore()}function N(P,F){return B;function B(ie,ae,J){let le,_e,Se,K;return Array.isArray(ie)?oe(ie):"tokenize"in ie?oe([ie]):W(ie);function W(Ie){return ke;function ke(_t){const fe=_t!==null&&Ie[_t],Ne=_t!==null&&Ie.null,Fe=[...Array.isArray(fe)?fe:fe?[fe]:[],...Array.isArray(Ne)?Ne:Ne?[Ne]:[]];return oe(Fe)(_t)}}function oe(Ie){return le=Ie,_e=0,Ie.length===0?J:j(Ie[_e])}function j(Ie){return ke;function ke(_t){return K=V(),Se=Ie,Ie.partial||(f.currentConstruct=Ie),Ie.name&&f.parser.constructs.disable.null.includes(Ie.name)?Ce():Ie.tokenize.call(F?Object.assign(Object.create(f),F):f,c,Ee,Ce)(_t)}}function Ee(Ie){return P(Se,K),ae}function Ce(Ie){return K.restore(),++_e<le.length?j(le[_e]):J}}}function U(P,F){P.resolveAll&&!o.includes(P)&&o.push(P),P.resolve&&si(f.events,F,f.events.length-F,P.resolve(f.events.slice(F),f)),P.resolveTo&&(f.events=P.resolveTo(f.events,f))}function V(){const P=T(),F=f.previous,B=f.currentConstruct,ie=f.events.length,ae=Array.from(l);return{from:ie,restore:J};function J(){r=P,f.previous=F,f.currentConstruct=B,f.events.length=ie,l=ae,k()}}function k(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function uce(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,o)];else{if(a=t.slice(n,i),r>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(r):a.shift()}o>0&&a.push(t[i].slice(0,o))}return a}function cce(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,r.push(a)}return r.join("")}function fce(t){const r={constructs:p3([sce,...(t||{}).extensions||[]]),content:i(Ale),defined:[],document:i(Ile),flow:i(Gue),lazy:{},string:i(Wue),text:i(Jue)};return r;function i(o){return a;function a(l){return lce(r,o,l)}}}function dce(t){for(;!_3(t););return t}const VO=/[\0\t\n\r]/g;function hce(){let t=1,e="",n=!0,r;return i;function i(o,a,l){const c=[];let f,h,p,g,v;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),p=0,e="",n&&(o.charCodeAt(0)===65279&&p++,n=void 0);p<o.length;){if(VO.lastIndex=p,f=VO.exec(o),g=f&&f.index!==void 0?f.index:o.length,v=o.charCodeAt(g),!f){e=o.slice(p);break}if(v===10&&p===g&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),p<g&&(c.push(o.slice(p,g)),t+=g-p),v){case 0:{c.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,c.push(-2);t++<h;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:r=!0,t=1}p=g+1}return l&&(r&&c.push(-5),e&&c.push(e),c.push(null)),c}}const pce=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function mce(t){return t.replace(pce,gce)}function gce(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return m3(n.slice(o?2:1),o?16:10)}return NA(n)||t}const x3={}.hasOwnProperty;function yce(t,e,n){return typeof e!="string"&&(n=e,e=void 0),vce(n)(dce(fce(n).document().write(hce()(t,e,!0))))}function vce(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Oo),autolinkProtocol:V,autolinkEmail:V,atxHeading:o(qt),blockQuote:o(Ne),characterEscape:V,characterReference:V,codeFenced:o(Fe),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(Fe,a),codeText:o(me,a),codeTextData:V,data:V,codeFlowValue:V,definition:o(Kt),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(Xe),hardBreakEscape:o(Yt),hardBreakTrailing:o(Yt),htmlFlow:o(kr,a),htmlFlowData:V,htmlText:o(kr,a),htmlTextData:V,image:o(Do),label:a,link:o(Oo),listItem:o(Va),listItemValue:g,listOrdered:o(to,p),listUnordered:o(to),paragraph:o(_f),reference:j,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(qt),strong:o(al),thematicBreak:o(Eu)},exit:{atxHeading:c(),atxHeadingSequence:$,autolink:c(),autolinkEmail:fe,autolinkProtocol:_t,blockQuote:c(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:Ce,characterReferenceMarkerNumeric:Ce,characterReferenceValue:Ie,characterReference:ke,codeFenced:c(S),codeFencedFence:x,codeFencedFenceInfo:v,codeFencedFenceMeta:T,codeFlowValue:k,codeIndented:c(C),codeText:c(ae),codeTextData:k,data:k,definition:c(),definitionDestinationString:G,definitionLabelString:L,definitionTitleString:M,emphasis:c(),hardBreakEscape:c(F),hardBreakTrailing:c(F),htmlFlow:c(B),htmlFlowData:k,htmlText:c(ie),htmlTextData:k,image:c(le),label:Se,labelText:_e,lineEnding:P,link:c(J),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Ee,resourceDestinationString:K,resourceTitleString:W,resource:oe,setextHeading:c(U),setextHeadingLineSequence:N,setextHeadingText:z,strong:c(),thematicBreak:c()}};A3(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ce){let ye={type:"root",children:[]};const De={stack:[ye],tokenStack:[],config:e,enter:l,exit:f,buffer:a,resume:h,data:n},Qe=[];let ft=-1;for(;++ft<ce.length;)if(ce[ft][1].type==="listOrdered"||ce[ft][1].type==="listUnordered")if(ce[ft][0]==="enter")Qe.push(ft);else{const mr=Qe.pop();ft=i(ce,mr,ft)}for(ft=-1;++ft<ce.length;){const mr=e[ce[ft][0]];x3.call(mr,ce[ft][1].type)&&mr[ce[ft][1].type].call(Object.assign({sliceSerialize:ce[ft][2].sliceSerialize},De),ce[ft][1])}if(De.tokenStack.length>0){const mr=De.tokenStack[De.tokenStack.length-1];(mr[1]||FO).call(De,void 0,mr[0])}for(ye.position={start:Cs(ce.length>0?ce[0][1].start:{line:1,column:1,offset:0}),end:Cs(ce.length>0?ce[ce.length-2][1].end:{line:1,column:1,offset:0})},ft=-1;++ft<e.transforms.length;)ye=e.transforms[ft](ye)||ye;return ye}function i(ce,ye,De){let Qe=ye-1,ft=-1,mr=!1,gr,On,Xt,Ln;for(;++Qe<=De;){const Et=ce[Qe];switch(Et[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Et[0]==="enter"?ft++:ft--,Ln=void 0;break}case"lineEndingBlank":{Et[0]==="enter"&&(gr&&!Ln&&!ft&&!Xt&&(Xt=Qe),Ln=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ln=void 0}if(!ft&&Et[0]==="enter"&&Et[1].type==="listItemPrefix"||ft===-1&&Et[0]==="exit"&&(Et[1].type==="listUnordered"||Et[1].type==="listOrdered")){if(gr){let no=Qe;for(On=void 0;no--;){const yr=ce[no];if(yr[1].type==="lineEnding"||yr[1].type==="lineEndingBlank"){if(yr[0]==="exit")continue;On&&(ce[On][1].type="lineEndingBlank",mr=!0),yr[1].type="lineEnding",On=no}else if(!(yr[1].type==="linePrefix"||yr[1].type==="blockQuotePrefix"||yr[1].type==="blockQuotePrefixWhitespace"||yr[1].type==="blockQuoteMarker"||yr[1].type==="listItemIndent"))break}Xt&&(!On||Xt<On)&&(gr._spread=!0),gr.end=Object.assign({},On?ce[On][1].start:Et[1].end),ce.splice(On||Qe,0,["exit",gr,Et[2]]),Qe++,De++}if(Et[1].type==="listItemPrefix"){const no={type:"listItem",_spread:!1,start:Object.assign({},Et[1].start),end:void 0};gr=no,ce.splice(Qe,0,["enter",no,Et[2]]),Qe++,De++,Xt=void 0,Ln=!0}}}return ce[ye][1]._spread=mr,De}function o(ce,ye){return De;function De(Qe){l.call(this,ce(Qe),Qe),ye&&ye.call(this,Qe)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(ce,ye,De){this.stack[this.stack.length-1].children.push(ce),this.stack.push(ce),this.tokenStack.push([ye,De||void 0]),ce.position={start:Cs(ye.start),end:void 0}}function c(ce){return ye;function ye(De){ce&&ce.call(this,De),f.call(this,De)}}function f(ce,ye){const De=this.stack.pop(),Qe=this.tokenStack.pop();if(Qe)Qe[0].type!==ce.type&&(ye?ye.call(this,ce,Qe[0]):(Qe[1]||FO).call(this,ce,Qe[0]));else throw new Error("Cannot close `"+ce.type+"` ("+Hd({start:ce.start,end:ce.end})+"): its not open");De.position.end=Cs(ce.end)}function h(){return MA(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(ce){if(this.data.expectingFirstListItemValue){const ye=this.stack[this.stack.length-2];ye.start=Number.parseInt(this.sliceSerialize(ce),10),this.data.expectingFirstListItemValue=void 0}}function v(){const ce=this.resume(),ye=this.stack[this.stack.length-1];ye.lang=ce}function T(){const ce=this.resume(),ye=this.stack[this.stack.length-1];ye.meta=ce}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const ce=this.resume(),ye=this.stack[this.stack.length-1];ye.value=ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){const ce=this.resume(),ye=this.stack[this.stack.length-1];ye.value=ce.replace(/(\r?\n|\r)$/g,"")}function L(ce){const ye=this.resume(),De=this.stack[this.stack.length-1];De.label=ye,De.identifier=Yi(this.sliceSerialize(ce)).toLowerCase()}function M(){const ce=this.resume(),ye=this.stack[this.stack.length-1];ye.title=ce}function G(){const ce=this.resume(),ye=this.stack[this.stack.length-1];ye.url=ce}function $(ce){const ye=this.stack[this.stack.length-1];if(!ye.depth){const De=this.sliceSerialize(ce).length;ye.depth=De}}function z(){this.data.setextHeadingSlurpLineEnding=!0}function N(ce){const ye=this.stack[this.stack.length-1];ye.depth=this.sliceSerialize(ce).codePointAt(0)===61?1:2}function U(){this.data.setextHeadingSlurpLineEnding=void 0}function V(ce){const De=this.stack[this.stack.length-1].children;let Qe=De[De.length-1];(!Qe||Qe.type!=="text")&&(Qe=An(),Qe.position={start:Cs(ce.start),end:void 0},De.push(Qe)),this.stack.push(Qe)}function k(ce){const ye=this.stack.pop();ye.value+=this.sliceSerialize(ce),ye.position.end=Cs(ce.end)}function P(ce){const ye=this.stack[this.stack.length-1];if(this.data.atHardBreak){const De=ye.children[ye.children.length-1];De.position.end=Cs(ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ye.type)&&(V.call(this,ce),k.call(this,ce))}function F(){this.data.atHardBreak=!0}function B(){const ce=this.resume(),ye=this.stack[this.stack.length-1];ye.value=ce}function ie(){const ce=this.resume(),ye=this.stack[this.stack.length-1];ye.value=ce}function ae(){const ce=this.resume(),ye=this.stack[this.stack.length-1];ye.value=ce}function J(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const ye=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=ye,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function le(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const ye=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=ye,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function _e(ce){const ye=this.sliceSerialize(ce),De=this.stack[this.stack.length-2];De.label=mce(ye),De.identifier=Yi(ye).toLowerCase()}function Se(){const ce=this.stack[this.stack.length-1],ye=this.resume(),De=this.stack[this.stack.length-1];if(this.data.inReference=!0,De.type==="link"){const Qe=ce.children;De.children=Qe}else De.alt=ye}function K(){const ce=this.resume(),ye=this.stack[this.stack.length-1];ye.url=ce}function W(){const ce=this.resume(),ye=this.stack[this.stack.length-1];ye.title=ce}function oe(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function Ee(ce){const ye=this.resume(),De=this.stack[this.stack.length-1];De.label=ye,De.identifier=Yi(this.sliceSerialize(ce)).toLowerCase(),this.data.referenceType="full"}function Ce(ce){this.data.characterReferenceType=ce.type}function Ie(ce){const ye=this.sliceSerialize(ce),De=this.data.characterReferenceType;let Qe;De?(Qe=m3(ye,De==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Qe=NA(ye);const ft=this.stack[this.stack.length-1];ft.value+=Qe}function ke(ce){const ye=this.stack.pop();ye.position.end=Cs(ce.end)}function _t(ce){k.call(this,ce);const ye=this.stack[this.stack.length-1];ye.url=this.sliceSerialize(ce)}function fe(ce){k.call(this,ce);const ye=this.stack[this.stack.length-1];ye.url="mailto:"+this.sliceSerialize(ce)}function Ne(){return{type:"blockquote",children:[]}}function Fe(){return{type:"code",lang:null,meta:null,value:""}}function me(){return{type:"inlineCode",value:""}}function Kt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Xe(){return{type:"emphasis",children:[]}}function qt(){return{type:"heading",depth:0,children:[]}}function Yt(){return{type:"break"}}function kr(){return{type:"html",value:""}}function Do(){return{type:"image",title:null,url:"",alt:null}}function Oo(){return{type:"link",title:null,url:"",children:[]}}function to(ce){return{type:"list",ordered:ce.type==="listOrdered",start:null,spread:ce._spread,children:[]}}function Va(ce){return{type:"listItem",spread:ce._spread,checked:null,children:[]}}function _f(){return{type:"paragraph",children:[]}}function al(){return{type:"strong",children:[]}}function An(){return{type:"text",value:""}}function Eu(){return{type:"thematicBreak"}}}function Cs(t){return{line:t.line,column:t.column,offset:t.offset}}function A3(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?A3(t,r):_ce(t,r)}}function _ce(t,e){let n;for(n in e)if(x3.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function FO(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Hd({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Hd({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Hd({start:e.start,end:e.end})+") is still open")}function bce(t){const e=this;e.parser=n;function n(r){return yce(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Ece(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function wce(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Tce(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(o.data={meta:e.meta}),t.patch(e,o),o=t.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},t.patch(e,o),o}function Sce(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function xce(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Ace(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=cf(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let a,l=t.footnoteCounts.get(r);l===void 0?(l=0,t.footnoteOrder.push(r),a=t.footnoteOrder.length):a=o+1,l+=1,t.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,c);const f={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(e,f),t.applyData(e,f)}function Cce(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Ice(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function C3(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function Rce(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return C3(t,e);const i={src:cf(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function Pce(t,e){const n={src:cf(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function kce(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function Mce(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return C3(t,e);const i={href:cf(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function Nce(t,e){const n={href:cf(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Dce(t,e,n){const r=t.all(e),i=n?Oce(n):I3(e),o={},a=[];if(typeof e.checked=="boolean"){const h=r[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const h=r[l];(i||l!==0||h.type!=="element"||h.tagName!=="p")&&a.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?a.push(...h.children):a.push(h)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:a};return t.patch(e,f),t.applyData(e,f)}function Oce(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=I3(n[r])}return e}function I3(t){const e=t.spread;return e??t.children.length>1}function Lce(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function Uce(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Vce(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Fce(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function zce(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=IA(e.children[1]),c=s3(e.children[e.children.length-1]);l&&c&&(a.position={start:l,end:c}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function Bce(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,l=a?a.length:e.children.length;let c=-1;const f=[];for(;++c<l;){const p=e.children[c],g={},v=a?a[c]:void 0;v&&(g.align=v);let T={type:"element",tagName:o,properties:g,children:[]};p&&(T.children=t.all(p),t.patch(p,T),T=t.applyData(p,T)),f.push(T)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(f,!0)};return t.patch(e,h),t.applyData(e,h)}function qce(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const zO=9,BO=32;function Hce(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const o=[];for(;r;)o.push(qO(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return o.push(qO(e.slice(i),i>0,!1)),o.join("")}function qO(t,e,n){let r=0,i=t.length;if(e){let o=t.codePointAt(r);for(;o===zO||o===BO;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(i-1);for(;o===zO||o===BO;)i--,o=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function jce(t,e){const n={type:"text",value:Hce(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function $ce(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Gce={blockquote:Ece,break:wce,code:Tce,delete:Sce,emphasis:xce,footnoteReference:Ace,heading:Cce,html:Ice,imageReference:Rce,image:Pce,inlineCode:kce,linkReference:Mce,link:Nce,listItem:Dce,list:Lce,paragraph:Uce,root:Vce,strong:Fce,table:zce,tableCell:qce,tableRow:Bce,text:jce,thematicBreak:$ce,toml:og,yaml:og,definition:og,footnoteDefinition:og};function og(){}const R3=-1,Yv=0,$d=1,Py=2,OA=3,LA=4,UA=5,VA=6,P3=7,k3=8,HO=typeof self=="object"?self:globalThis,Kce=(t,e)=>{const n=(i,o)=>(t.set(o,i),i),r=i=>{if(t.has(i))return t.get(i);const[o,a]=e[i];switch(o){case Yv:case R3:return n(a,i);case $d:{const l=n([],i);for(const c of a)l.push(r(c));return l}case Py:{const l=n({},i);for(const[c,f]of a)l[r(c)]=r(f);return l}case OA:return n(new Date(a),i);case LA:{const{source:l,flags:c}=a;return n(new RegExp(l,c),i)}case UA:{const l=n(new Map,i);for(const[c,f]of a)l.set(r(c),r(f));return l}case VA:{const l=n(new Set,i);for(const c of a)l.add(r(c));return l}case P3:{const{name:l,message:c}=a;return n(new HO[l](c),i)}case k3:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:l}=new Uint8Array(a);return n(new DataView(l),a)}}return n(new HO[o](a),i)};return r},jO=t=>Kce(new Map,t)(0),dc="",{toString:Yce}={},{keys:Wce}=Object,kd=t=>{const e=typeof t;if(e!=="object"||!t)return[Yv,e];const n=Yce.call(t).slice(8,-1);switch(n){case"Array":return[$d,dc];case"Object":return[Py,dc];case"Date":return[OA,dc];case"RegExp":return[LA,dc];case"Map":return[UA,dc];case"Set":return[VA,dc];case"DataView":return[$d,n]}return n.includes("Array")?[$d,n]:n.includes("Error")?[P3,n]:[Py,n]},ag=([t,e])=>t===Yv&&(e==="function"||e==="symbol"),Jce=(t,e,n,r)=>{const i=(a,l)=>{const c=r.push(a)-1;return n.set(l,c),c},o=a=>{if(n.has(a))return n.get(a);let[l,c]=kd(a);switch(l){case Yv:{let h=a;switch(c){case"bigint":l=k3,h=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+c);h=null;break;case"undefined":return i([R3],a)}return i([l,h],a)}case $d:{if(c){let g=a;return c==="DataView"?g=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(g=new Uint8Array(a)),i([c,[...g]],a)}const h=[],p=i([l,h],a);for(const g of a)h.push(o(g));return p}case Py:{if(c)switch(c){case"BigInt":return i([c,a.toString()],a);case"Boolean":case"Number":case"String":return i([c,a.valueOf()],a)}if(e&&"toJSON"in a)return o(a.toJSON());const h=[],p=i([l,h],a);for(const g of Wce(a))(t||!ag(kd(a[g])))&&h.push([o(g),o(a[g])]);return p}case OA:return i([l,a.toISOString()],a);case LA:{const{source:h,flags:p}=a;return i([l,{source:h,flags:p}],a)}case UA:{const h=[],p=i([l,h],a);for(const[g,v]of a)(t||!(ag(kd(g))||ag(kd(v))))&&h.push([o(g),o(v)]);return p}case VA:{const h=[],p=i([l,h],a);for(const g of a)(t||!ag(kd(g)))&&h.push(o(g));return p}}const{message:f}=a;return i([l,{name:c,message:f}],a)};return o},$O=(t,{json:e,lossy:n}={})=>{const r=[];return Jce(!(e||n),!!e,new Map,r)(t),r},ky=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?jO($O(t,e)):structuredClone(t):(t,e)=>jO($O(t,e));function Xce(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Qce(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Zce(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Xce,r=t.options.footnoteBackLabel||Qce,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<t.footnoteOrder.length;){const f=t.footnoteById.get(t.footnoteOrder[c]);if(!f)continue;const h=t.all(f),p=String(f.identifier).toUpperCase(),g=cf(p.toLowerCase());let v=0;const T=[],x=t.footnoteCounts.get(p);for(;x!==void 0&&++v<=x;){T.length>0&&T.push({type:"text",value:" "});let L=typeof n=="string"?n:n(c,v);typeof L=="string"&&(L={type:"text",value:L}),T.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,v),className:["data-footnote-backref"]},children:Array.isArray(L)?L:[L]})}const S=h[h.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const L=S.children[S.children.length-1];L&&L.type==="text"?L.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...T)}else h.push(...T);const C={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:t.wrap(h,!0)};t.patch(f,C),l.push(C)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...ky(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:`
`}]}}const Wv=(function(t){if(t==null)return rfe;if(typeof t=="function")return Jv(t);if(typeof t=="object")return Array.isArray(t)?efe(t):tfe(t);if(typeof t=="string")return nfe(t);throw new Error("Expected function, string, or object as test")});function efe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Wv(t[n]);return Jv(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function tfe(t){const e=t;return Jv(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function nfe(t){return Jv(e);function e(n){return n&&n.type===t}}function Jv(t){return e;function e(n,r,i){return!!(ife(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function rfe(){return!0}function ife(t){return t!==null&&typeof t=="object"&&"type"in t}const M3=[],ofe=!0,GT=!1,afe="skip";function N3(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=Wv(i),a=r?-1:1;l(t,void 0,[])();function l(c,f,h){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const v=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(c.type+(v?"<"+v+">":""))+")"})}return g;function g(){let v=M3,T,x,S;if((!e||o(c,f,h[h.length-1]||void 0))&&(v=sfe(n(c,h)),v[0]===GT))return v;if("children"in c&&c.children){const C=c;if(C.children&&v[0]!==afe)for(x=(r?C.children.length:-1)+a,S=h.concat(C);x>-1&&x<C.children.length;){const L=C.children[x];if(T=l(L,x,S)(),T[0]===GT)return T;x=typeof T[1]=="number"?T[1]:x+a}}return v}}}function sfe(t){return Array.isArray(t)?t:typeof t=="number"?[ofe,t]:t==null?M3:[t]}function FA(t,e,n,r){let i,o,a;typeof e=="function"&&typeof n!="function"?(o=void 0,a=e,i=n):(o=e,a=n,i=r),N3(t,o,l,i);function l(c,f){const h=f[f.length-1],p=h?h.children.indexOf(c):void 0;return a(c,p,h)}}const KT={}.hasOwnProperty,lfe={};function ufe(t,e){const n=e||lfe,r=new Map,i=new Map,o=new Map,a={...Gce,...n.handlers},l={all:f,applyData:ffe,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:c,options:n,patch:cfe,wrap:hfe};return FA(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?r:i,g=String(h.identifier).toUpperCase();p.has(g)||p.set(g,h)}}),l;function c(h,p){const g=h.type,v=l.handlers[g];if(KT.call(l.handlers,g)&&v)return v(l,h,p);if(l.options.passThrough&&l.options.passThrough.includes(g)){if("children"in h){const{children:x,...S}=h,C=ky(S);return C.children=l.all(h),C}return ky(h)}return(l.options.unknownHandler||dfe)(l,h,p)}function f(h){const p=[];if("children"in h){const g=h.children;let v=-1;for(;++v<g.length;){const T=l.one(g[v],h);if(T){if(v&&g[v-1].type==="break"&&(!Array.isArray(T)&&T.type==="text"&&(T.value=GO(T.value)),!Array.isArray(T)&&T.type==="element")){const x=T.children[0];x&&x.type==="text"&&(x.value=GO(x.value))}Array.isArray(T)?p.push(...T):p.push(T)}}}return p}}function cfe(t,e){t.position&&(e.position=Qse(t))}function ffe(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&o&&Object.assign(n.properties,ky(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function dfe(t,e){const n=e.data||{},r="value"in e&&!(KT.call(n,"hProperties")||KT.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function hfe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function GO(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function KO(t,e){const n=ufe(t,e),r=n.one(t,void 0),i=Zce(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function pfe(t,e){return t&&"run"in t?async function(n,r){const i=KO(n,{file:r,...e});await t.run(i,r)}:function(n,r){return KO(n,{file:r,...t||e})}}function YO(t){if(t)throw t}var hw,WO;function mfe(){if(WO)return hw;WO=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},o=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var h=t.call(f,"constructor"),p=f.constructor&&f.constructor.prototype&&t.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!h&&!p)return!1;var g;for(g in f);return typeof g>"u"||t.call(f,g)},a=function(f,h){n&&h.name==="__proto__"?n(f,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):f[h.name]=h.newValue},l=function(f,h){if(h==="__proto__")if(t.call(f,h)){if(r)return r(f,h).value}else return;return f[h]};return hw=function c(){var f,h,p,g,v,T,x=arguments[0],S=1,C=arguments.length,L=!1;for(typeof x=="boolean"&&(L=x,x=arguments[1]||{},S=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});S<C;++S)if(f=arguments[S],f!=null)for(h in f)p=l(x,h),g=l(f,h),x!==g&&(L&&g&&(o(g)||(v=i(g)))?(v?(v=!1,T=p&&i(p)?p:[]):T=p&&o(p)?p:{},a(x,{name:h,newValue:c(L,T,g)})):typeof g<"u"&&a(x,{name:h,newValue:g}));return x},hw}var gfe=mfe();const pw=Ni(gfe);function YT(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function yfe(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...i);function l(c,...f){const h=t[++o];let p=-1;if(c){a(c);return}for(;++p<i.length;)(f[p]===null||f[p]===void 0)&&(f[p]=i[p]);i=f,h?vfe(h,l)(...f):a(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function vfe(t,e){let n;return r;function r(...a){const l=t.length>a.length;let c;l&&a.push(i);try{c=t.apply(this,a)}catch(f){const h=f;if(l&&n)throw h;return i(h)}l||(c&&c.then&&typeof c.then=="function"?c.then(o,i):c instanceof Error?i(c):o(c))}function i(a,...l){n||(n=!0,e(a,...l))}function o(a){i(null,a)}}const yo={basename:_fe,dirname:bfe,extname:Efe,join:wfe,sep:"/"};function _fe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');op(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,l=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else a<0&&(o=!0,a=i+1),l>-1&&(t.codePointAt(i)===e.codePointAt(l--)?l<0&&(r=i):(l=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function bfe(t){if(op(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Efe(t){op(t);let e=t.length,n=-1,r=0,i=-1,o=0,a;for(;e--;){const l=t.codePointAt(e);if(l===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),l===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function wfe(...t){let e=-1,n;for(;++e<t.length;)op(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Tfe(n)}function Tfe(t){op(t);const e=t.codePointAt(0)===47;let n=Sfe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Sfe(t,e){let n="",r=0,i=-1,o=0,a=-1,l,c;for(;++a<=t.length;){if(a<t.length)l=t.codePointAt(a);else{if(l===47)break;l=47}if(l===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=a,o=0;continue}}else if(n.length>0){n="",r=0,i=a,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,o=0}else l===46&&o>-1?o++:o=-1}return n}function op(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const xfe={cwd:Afe};function Afe(){return"/"}function WT(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Cfe(t){if(typeof t=="string")t=new URL(t);else if(!WT(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Ife(t)}function Ife(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const mw=["history","path","basename","stem","extname","dirname"];class D3{constructor(e){let n;e?WT(e)?n={path:e}:typeof e=="string"||Rfe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":xfe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<mw.length;){const o=mw[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)mw.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?yo.basename(this.path):void 0}set basename(e){yw(e,"basename"),gw(e,"basename"),this.path=yo.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?yo.dirname(this.path):void 0}set dirname(e){JO(this.basename,"dirname"),this.path=yo.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?yo.extname(this.path):void 0}set extname(e){if(gw(e,"extname"),JO(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=yo.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){WT(e)&&(e=Cfe(e)),yw(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?yo.basename(this.path,this.extname):void 0}set stem(e){yw(e,"stem"),gw(e,"stem"),this.path=yo.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new pr(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function gw(t,e){if(t&&t.includes(yo.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+yo.sep+"`")}function yw(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function JO(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Rfe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Pfe=(function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),kfe={}.hasOwnProperty;class zA extends Pfe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=yfe()}copy(){const e=new zA;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(pw(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(bw("data",this.frozen),this.namespace[e]=n,this):kfe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(bw("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=sg(e),r=this.parser||this.Parser;return vw("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),vw("process",this.parser||this.Parser),_w("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,a){const l=sg(e),c=r.parse(l);r.run(c,l,function(h,p,g){if(h||!p||!g)return f(h);const v=p,T=r.stringify(v,g);Dfe(T)?g.value=T:g.result=T,f(h,g)});function f(h,p){h||!p?a(h):o?o(p):n(void 0,p)}}}processSync(e){let n=!1,r;return this.freeze(),vw("processSync",this.parser||this.Parser),_w("processSync",this.compiler||this.Compiler),this.process(e,i),QO("processSync","process",n),r;function i(o,a){n=!0,YO(o),r=a}}run(e,n,r){XO(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(a,l){const c=sg(n);i.run(e,c,f);function f(h,p,g){const v=p||e;h?l(h):a?a(v):r(void 0,v,g)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),QO("runSync","run",r),i;function o(a,l){YO(a),i=l,r=!0}}stringify(e,n){this.freeze();const r=sg(n),i=this.compiler||this.Compiler;return _w("stringify",i),XO(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(bw("use",this.frozen),e!=null)if(typeof e=="function")c(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(f){if(typeof f=="function")c(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[h,...p]=f;c(h,p)}else a(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function a(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(f.plugins),f.settings&&(i.settings=pw(!0,i.settings,f.settings))}function l(f){let h=-1;if(f!=null)if(Array.isArray(f))for(;++h<f.length;){const p=f[h];o(p)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function c(f,h){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===f){g=p;break}if(g===-1)r.push([f,...h]);else if(h.length>0){let[v,...T]=h;const x=r[g][1];YT(x)&&YT(v)&&(v=pw(!0,x,v)),r[g]=[f,v,...T]}}}}const Mfe=new zA().freeze();function vw(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function _w(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function bw(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function XO(t){if(!YT(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function QO(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function sg(t){return Nfe(t)?t:new D3(t)}function Nfe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Dfe(t){return typeof t=="string"||Ofe(t)}function Ofe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Lfe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ZO=[],e2={allowDangerousHtml:!0},Ufe=/^(https?|ircs?|mailto|xmpp)$/i,Vfe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function O3(t){const e=Ffe(t),n=zfe(t);return Bfe(e.runSync(e.parse(n),n),t)}function Ffe(t){const e=t.rehypePlugins||ZO,n=t.remarkPlugins||ZO,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...e2}:e2;return Mfe().use(bce).use(n).use(pfe,r).use(e)}function zfe(t){const e=t.children||"",n=new D3;return typeof e=="string"&&(n.value=e),n}function Bfe(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,o=e.disallowedElements,a=e.skipHtml,l=e.unwrapDisallowed,c=e.urlTransform||qfe;for(const h of Vfe)Object.hasOwn(e,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+Lfe+h.id,void 0);return e.className&&(t={type:"element",tagName:"div",properties:{className:e.className},children:t.type==="root"?t.children:[t]}),FA(t,f),rle(t,{Fragment:D.Fragment,components:i,ignoreInvalidStyle:!0,jsx:D.jsx,jsxs:D.jsxs,passKeys:!0,passNode:!0});function f(h,p,g){if(h.type==="raw"&&g&&typeof p=="number")return a?g.children.splice(p,1):g.children[p]={type:"text",value:h.value},p;if(h.type==="element"){let v;for(v in cw)if(Object.hasOwn(cw,v)&&Object.hasOwn(h.properties,v)){const T=h.properties[v],x=cw[v];(x===null||x.includes(h.tagName))&&(h.properties[v]=c(String(T||""),v,h))}}if(h.type==="element"){let v=n?!n.includes(h.tagName):o?o.includes(h.tagName):!1;if(!v&&r&&typeof p=="number"&&(v=!r(h,p,g)),v&&g&&typeof p=="number")return l&&h.children?g.children.splice(p,1,...h.children):g.children.splice(p,1),p}}}function qfe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||Ufe.test(t.slice(0,e))?t:""}function t2(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function Hfe(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function jfe(t,e,n){const i=Wv((n||{}).ignore||[]),o=$fe(e);let a=-1;for(;++a<o.length;)N3(t,"text",l);function l(f,h){let p=-1,g;for(;++p<h.length;){const v=h[p],T=g?g.children:void 0;if(i(v,T?T.indexOf(v):void 0,g))return;g=v}if(g)return c(f,h)}function c(f,h){const p=h[h.length-1],g=o[a][0],v=o[a][1];let T=0;const S=p.children.indexOf(f);let C=!1,L=[];g.lastIndex=0;let M=g.exec(f.value);for(;M;){const G=M.index,$={index:M.index,input:M.input,stack:[...h,f]};let z=v(...M,$);if(typeof z=="string"&&(z=z.length>0?{type:"text",value:z}:void 0),z===!1?g.lastIndex=G+1:(T!==G&&L.push({type:"text",value:f.value.slice(T,G)}),Array.isArray(z)?L.push(...z):z&&L.push(z),T=G+M[0].length,C=!0),!g.global)break;M=g.exec(f.value)}return C?(T<f.value.length&&L.push({type:"text",value:f.value.slice(T)}),p.children.splice(S,1,...L)):L=[f],S+L.length}}function $fe(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([Gfe(i[0]),Kfe(i[1])])}return e}function Gfe(t){return typeof t=="string"?new RegExp(Hfe(t),"g"):t}function Kfe(t){return typeof t=="function"?t:function(){return t}}const Ew="phrasing",ww=["autolink","link","image","label"];function Yfe(){return{transforms:[tde],enter:{literalAutolink:Jfe,literalAutolinkEmail:Tw,literalAutolinkHttp:Tw,literalAutolinkWww:Tw},exit:{literalAutolink:ede,literalAutolinkEmail:Zfe,literalAutolinkHttp:Xfe,literalAutolinkWww:Qfe}}}function Wfe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Ew,notInConstruct:ww},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Ew,notInConstruct:ww},{character:":",before:"[ps]",after:"\\/",inConstruct:Ew,notInConstruct:ww}]}}function Jfe(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Tw(t){this.config.enter.autolinkProtocol.call(this,t)}function Xfe(t){this.config.exit.autolinkProtocol.call(this,t)}function Qfe(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function Zfe(t){this.config.exit.autolinkEmail.call(this,t)}function ede(t){this.exit(t)}function tde(t){jfe(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,nde],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),rde]],{ignore:["link","linkReference"]})}function nde(t,e,n,r,i){let o="";if(!L3(i)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!ide(n)))return!1;const a=ode(n+r);if(!a[0])return!1;const l={type:"link",title:null,url:o+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[l,{type:"text",value:a[1]}]:l}function rde(t,e,n,r){return!L3(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function ide(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function ode(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=t2(t,"(");let o=t2(t,")");for(;r!==-1&&i>o;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[t,n]}function L3(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||ou(n)||Gv(n))&&(!e||n!==47)}U3.peek=pde;function ade(){this.buffer()}function sde(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function lde(){this.buffer()}function ude(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function cde(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Yi(this.sliceSerialize(t)).toLowerCase(),n.label=e}function fde(t){this.exit(t)}function dde(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Yi(this.sliceSerialize(t)).toLowerCase(),n.label=e}function hde(t){this.exit(t)}function pde(){return"["}function U3(t,e,n,r){const i=n.createTracker(r);let o=i.move("[^");const a=n.enter("footnoteReference"),l=n.enter("reference");return o+=i.move(n.safe(n.associationId(t),{after:"]",before:o})),l(),a(),o+=i.move("]"),o}function mde(){return{enter:{gfmFootnoteCallString:ade,gfmFootnoteCall:sde,gfmFootnoteDefinitionLabelString:lde,gfmFootnoteDefinition:ude},exit:{gfmFootnoteCallString:cde,gfmFootnoteCall:fde,gfmFootnoteDefinitionLabelString:dde,gfmFootnoteDefinition:hde}}}function gde(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:U3},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,o,a){const l=o.createTracker(a);let c=l.move("[^");const f=o.enter("footnoteDefinition"),h=o.enter("label");return c+=l.move(o.safe(o.associationId(r),{before:c,after:"]"})),h(),c+=l.move("]:"),r.children&&r.children.length>0&&(l.shift(4),c+=l.move((e?`
`:" ")+o.indentLines(o.containerFlow(r,l.current()),e?V3:yde))),f(),c}}function yde(t,e,n){return e===0?t:V3(t,e,n)}function V3(t,e,n){return(n?"":"    ")+t}const vde=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];F3.peek=Tde;function _de(){return{canContainEols:["delete"],enter:{strikethrough:Ede},exit:{strikethrough:wde}}}function bde(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:vde}],handlers:{delete:F3}}}function Ede(t){this.enter({type:"delete",children:[]},t)}function wde(t){this.exit(t)}function F3(t,e,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(t,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),o(),a}function Tde(){return"~"}function Sde(t){return t.length}function xde(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||Sde,o=[],a=[],l=[],c=[];let f=0,h=-1;for(;++h<t.length;){const x=[],S=[];let C=-1;for(t[h].length>f&&(f=t[h].length);++C<t[h].length;){const L=Ade(t[h][C]);if(n.alignDelimiters!==!1){const M=i(L);S[C]=M,(c[C]===void 0||M>c[C])&&(c[C]=M)}x.push(L)}a[h]=x,l[h]=S}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<f;)o[p]=n2(r[p]);else{const x=n2(r);for(;++p<f;)o[p]=x}p=-1;const g=[],v=[];for(;++p<f;){const x=o[p];let S="",C="";x===99?(S=":",C=":"):x===108?S=":":x===114&&(C=":");let L=n.alignDelimiters===!1?1:Math.max(1,c[p]-S.length-C.length);const M=S+"-".repeat(L)+C;n.alignDelimiters!==!1&&(L=S.length+L+C.length,L>c[p]&&(c[p]=L),v[p]=L),g[p]=M}a.splice(1,0,g),l.splice(1,0,v),h=-1;const T=[];for(;++h<a.length;){const x=a[h],S=l[h];p=-1;const C=[];for(;++p<f;){const L=x[p]||"";let M="",G="";if(n.alignDelimiters!==!1){const $=c[p]-(S[p]||0),z=o[p];z===114?M=" ".repeat($):z===99?$%2?(M=" ".repeat($/2+.5),G=" ".repeat($/2-.5)):(M=" ".repeat($/2),G=M):G=" ".repeat($)}n.delimiterStart!==!1&&!p&&C.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&L==="")&&(n.delimiterStart!==!1||p)&&C.push(" "),n.alignDelimiters!==!1&&C.push(M),C.push(L),n.alignDelimiters!==!1&&C.push(G),n.padding!==!1&&C.push(" "),(n.delimiterEnd!==!1||p!==f-1)&&C.push("|")}T.push(n.delimiterEnd===!1?C.join("").replace(/ +$/,""):C.join(""))}return T.join(`
`)}function Ade(t){return t==null?"":String(t)}function n2(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function Cde(t,e,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const a=n.indentLines(n.containerFlow(t,o.current()),Ide);return i(),a}function Ide(t,e,n){return">"+(n?"":" ")+t}function Rde(t,e){return r2(t,e.inConstruct,!0)&&!r2(t,e.notInConstruct,!1)}function r2(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function i2(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Rde(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Pde(t,e){const n=String(t);let r=n.indexOf(e),i=r,o=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>a&&(a=o):o=1,i=r+e.length,r=n.indexOf(e,i);return a}function kde(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Mde(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Nde(t,e,n,r){const i=Mde(n),o=t.value||"",a=i==="`"?"GraveAccent":"Tilde";if(kde(t,n)){const p=n.enter("codeIndented"),g=n.indentLines(o,Dde);return p(),g}const l=n.createTracker(r),c=i.repeat(Math.max(Pde(o,i)+1,3)),f=n.enter("codeFenced");let h=l.move(c);if(t.lang){const p=n.enter(`codeFencedLang${a}`);h+=l.move(n.safe(t.lang,{before:h,after:" ",encode:["`"],...l.current()})),p()}if(t.lang&&t.meta){const p=n.enter(`codeFencedMeta${a}`);h+=l.move(" "),h+=l.move(n.safe(t.meta,{before:h,after:`
`,encode:["`"],...l.current()})),p()}return h+=l.move(`
`),o&&(h+=l.move(o+`
`)),h+=l.move(c),f(),h}function Dde(t,e,n){return(n?"":"    ")+t}function BA(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function Ode(t,e,n,r){const i=BA(n),o=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let l=n.enter("label");const c=n.createTracker(r);let f=c.move("[");return f+=c.move(n.safe(n.associationId(t),{before:f,after:"]",...c.current()})),f+=c.move("]: "),l(),!t.url||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(n.safe(t.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(l=n.enter("destinationRaw"),f+=c.move(n.safe(t.url,{before:f,after:t.title?" ":`
`,...c.current()}))),l(),t.title&&(l=n.enter(`title${o}`),f+=c.move(" "+i),f+=c.move(n.safe(t.title,{before:f,after:i,...c.current()})),f+=c.move(i),l()),a(),f}function Lde(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Eh(t){return"&#x"+t.toString(16).toUpperCase()+";"}function My(t,e,n){const r=qc(t),i=qc(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}z3.peek=Ude;function z3(t,e,n,r){const i=Lde(n),o=n.enter("emphasis"),a=n.createTracker(r),l=a.move(i);let c=a.move(n.containerPhrasing(t,{after:i,before:l,...a.current()}));const f=c.charCodeAt(0),h=My(r.before.charCodeAt(r.before.length-1),f,i);h.inside&&(c=Eh(f)+c.slice(1));const p=c.charCodeAt(c.length-1),g=My(r.after.charCodeAt(0),p,i);g.inside&&(c=c.slice(0,-1)+Eh(p));const v=a.move(i);return o(),n.attentionEncodeSurroundingInfo={after:g.outside,before:h.outside},l+c+v}function Ude(t,e,n){return n.options.emphasis||"*"}function Vde(t,e){let n=!1;return FA(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,GT}),!!((!t.depth||t.depth<3)&&MA(t)&&(e.options.setext||n))}function Fde(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(Vde(t,n)){const h=n.enter("headingSetext"),p=n.enter("phrasing"),g=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return p(),h(),g+`
`+(i===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const a="#".repeat(i),l=n.enter("headingAtx"),c=n.enter("phrasing");o.move(a+" ");let f=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(f)&&(f=Eh(f.charCodeAt(0))+f.slice(1)),f=f?a+" "+f:a,n.options.closeAtx&&(f+=" "+a),c(),l(),f}B3.peek=zde;function B3(t){return t.value||""}function zde(){return"<"}q3.peek=Bde;function q3(t,e,n,r){const i=BA(n),o=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let l=n.enter("label");const c=n.createTracker(r);let f=c.move("![");return f+=c.move(n.safe(t.alt,{before:f,after:"]",...c.current()})),f+=c.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(n.safe(t.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(l=n.enter("destinationRaw"),f+=c.move(n.safe(t.url,{before:f,after:t.title?" ":")",...c.current()}))),l(),t.title&&(l=n.enter(`title${o}`),f+=c.move(" "+i),f+=c.move(n.safe(t.title,{before:f,after:i,...c.current()})),f+=c.move(i),l()),f+=c.move(")"),a(),f}function Bde(){return"!"}H3.peek=qde;function H3(t,e,n,r){const i=t.referenceType,o=n.enter("imageReference");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");const f=n.safe(t.alt,{before:c,after:"]",...l.current()});c+=l.move(f+"]["),a();const h=n.stack;n.stack=[],a=n.enter("reference");const p=n.safe(n.associationId(t),{before:c,after:"]",...l.current()});return a(),n.stack=h,o(),i==="full"||!f||f!==p?c+=l.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function qde(){return"!"}j3.peek=Hde;function j3(t,e,n){let r=t.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const a=n.unsafe[o],l=n.compilePattern(a);let c;if(a.atBreak)for(;c=l.exec(r);){let f=c.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(c.index+1)}}return i+r+i}function Hde(){return"`"}function $3(t,e){const n=MA(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}G3.peek=jde;function G3(t,e,n,r){const i=BA(n),o=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let l,c;if($3(t,n)){const h=n.stack;n.stack=[],l=n.enter("autolink");let p=a.move("<");return p+=a.move(n.containerPhrasing(t,{before:p,after:">",...a.current()})),p+=a.move(">"),l(),n.stack=h,p}l=n.enter("link"),c=n.enter("label");let f=a.move("[");return f+=a.move(n.containerPhrasing(t,{before:f,after:"](",...a.current()})),f+=a.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),f+=a.move("<"),f+=a.move(n.safe(t.url,{before:f,after:">",...a.current()})),f+=a.move(">")):(c=n.enter("destinationRaw"),f+=a.move(n.safe(t.url,{before:f,after:t.title?" ":")",...a.current()}))),c(),t.title&&(c=n.enter(`title${o}`),f+=a.move(" "+i),f+=a.move(n.safe(t.title,{before:f,after:i,...a.current()})),f+=a.move(i),c()),f+=a.move(")"),l(),f}function jde(t,e,n){return $3(t,n)?"<":"["}K3.peek=$de;function K3(t,e,n,r){const i=t.referenceType,o=n.enter("linkReference");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");const f=n.containerPhrasing(t,{before:c,after:"]",...l.current()});c+=l.move(f+"]["),a();const h=n.stack;n.stack=[],a=n.enter("reference");const p=n.safe(n.associationId(t),{before:c,after:"]",...l.current()});return a(),n.stack=h,o(),i==="full"||!f||f!==p?c+=l.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function $de(){return"["}function qA(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Gde(t){const e=qA(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Kde(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Y3(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function Yde(t,e,n,r){const i=n.enter("list"),o=n.bulletCurrent;let a=t.ordered?Kde(n):qA(n);const l=t.ordered?a==="."?")":".":Gde(n);let c=e&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!t.ordered){const h=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),Y3(n)===a&&h){let p=-1;for(;++p<t.children.length;){const g=t.children[p];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(a=l),n.bulletCurrent=a;const f=n.containerFlow(t,r);return n.bulletLastUsed=a,n.bulletCurrent=o,i(),f}function Wde(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function Jde(t,e,n,r){const i=Wde(n);let o=n.bulletCurrent||qA(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let a=o.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);const l=n.createTracker(r);l.move(o+" ".repeat(a-o.length)),l.shift(a);const c=n.enter("listItem"),f=n.indentLines(n.containerFlow(t,l.current()),h);return c(),f;function h(p,g,v){return g?(v?"":" ".repeat(a))+p:(v?o:o+" ".repeat(a-o.length))+p}}function Xde(t,e,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),a=n.containerPhrasing(t,r);return o(),i(),a}const Qde=Wv(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Zde(t,e,n,r){return(t.children.some(function(a){return Qde(a)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function ehe(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}W3.peek=the;function W3(t,e,n,r){const i=ehe(n),o=n.enter("strong"),a=n.createTracker(r),l=a.move(i+i);let c=a.move(n.containerPhrasing(t,{after:i,before:l,...a.current()}));const f=c.charCodeAt(0),h=My(r.before.charCodeAt(r.before.length-1),f,i);h.inside&&(c=Eh(f)+c.slice(1));const p=c.charCodeAt(c.length-1),g=My(r.after.charCodeAt(0),p,i);g.inside&&(c=c.slice(0,-1)+Eh(p));const v=a.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:g.outside,before:h.outside},l+c+v}function the(t,e,n){return n.options.strong||"*"}function nhe(t,e,n,r){return n.safe(t.value,r)}function rhe(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function ihe(t,e,n){const r=(Y3(n)+(n.options.ruleSpaces?" ":"")).repeat(rhe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const J3={blockquote:Cde,break:i2,code:Nde,definition:Ode,emphasis:z3,hardBreak:i2,heading:Fde,html:B3,image:q3,imageReference:H3,inlineCode:j3,link:G3,linkReference:K3,list:Yde,listItem:Jde,paragraph:Xde,root:Zde,strong:W3,text:nhe,thematicBreak:ihe};function ohe(){return{enter:{table:ahe,tableData:o2,tableHeader:o2,tableRow:lhe},exit:{codeText:uhe,table:she,tableData:Sw,tableHeader:Sw,tableRow:Sw}}}function ahe(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function she(t){this.exit(t),this.data.inTable=void 0}function lhe(t){this.enter({type:"tableRow",children:[]},t)}function Sw(t){this.exit(t)}function o2(t){this.enter({type:"tableCell",children:[]},t)}function uhe(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,che));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function che(t,e){return e==="|"?e:t}function fhe(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:a,tableCell:c,tableRow:l}};function a(v,T,x,S){return f(h(v,x,S),v.align)}function l(v,T,x,S){const C=p(v,x,S),L=f([C]);return L.slice(0,L.indexOf(`
`))}function c(v,T,x,S){const C=x.enter("tableCell"),L=x.enter("phrasing"),M=x.containerPhrasing(v,{...S,before:o,after:o});return L(),C(),M}function f(v,T){return xde(v,{align:T,alignDelimiters:r,padding:n,stringLength:i})}function h(v,T,x){const S=v.children;let C=-1;const L=[],M=T.enter("table");for(;++C<S.length;)L[C]=p(S[C],T,x);return M(),L}function p(v,T,x){const S=v.children;let C=-1;const L=[],M=T.enter("tableRow");for(;++C<S.length;)L[C]=c(S[C],v,T,x);return M(),L}function g(v,T,x){let S=J3.inlineCode(v,T,x);return x.stack.includes("tableCell")&&(S=S.replace(/\|/g,"\\$&")),S}}function dhe(){return{exit:{taskListCheckValueChecked:a2,taskListCheckValueUnchecked:a2,paragraph:phe}}}function hhe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:mhe}}}function a2(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function phe(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let o=-1,a;for(;++o<i.length;){const l=i[o];if(l.type==="paragraph"){a=l;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function mhe(t,e,n,r){const i=t.children[0],o=typeof t.checked=="boolean"&&i&&i.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",l=n.createTracker(r);o&&l.move(a);let c=J3.listItem(t,e,n,{...r,...l.current()});return o&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),c;function f(h){return h+a}}function ghe(){return[Yfe(),mde(),_de(),ohe(),dhe()]}function yhe(t){return{extensions:[Wfe(),gde(t),bde(),fhe(t),hhe()]}}const vhe={tokenize:She,partial:!0},X3={tokenize:xhe,partial:!0},Q3={tokenize:Ahe,partial:!0},Z3={tokenize:Che,partial:!0},_he={tokenize:Ihe,partial:!0},e5={name:"wwwAutolink",tokenize:whe,previous:n5},t5={name:"protocolAutolink",tokenize:The,previous:r5},Oa={name:"emailAutolink",tokenize:Ehe,previous:i5},Mo={};function bhe(){return{text:Mo}}let Nl=48;for(;Nl<123;)Mo[Nl]=Oa,Nl++,Nl===58?Nl=65:Nl===91&&(Nl=97);Mo[43]=Oa;Mo[45]=Oa;Mo[46]=Oa;Mo[95]=Oa;Mo[72]=[Oa,t5];Mo[104]=[Oa,t5];Mo[87]=[Oa,e5];Mo[119]=[Oa,e5];function Ehe(t,e,n){const r=this;let i,o;return a;function a(p){return!JT(p)||!i5.call(r,r.previous)||HA(r.events)?n(p):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),l(p))}function l(p){return JT(p)?(t.consume(p),l):p===64?(t.consume(p),c):n(p)}function c(p){return p===46?t.check(_he,h,f)(p):p===45||p===95||fr(p)?(o=!0,t.consume(p),c):h(p)}function f(p){return t.consume(p),i=!0,c}function h(p){return o&&i&&Ar(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(p)):n(p)}}function whe(t,e,n){const r=this;return i;function i(a){return a!==87&&a!==119||!n5.call(r,r.previous)||HA(r.events)?n(a):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(vhe,t.attempt(X3,t.attempt(Q3,o),n),n)(a))}function o(a){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(a)}}function The(t,e,n){const r=this;let i="",o=!1;return a;function a(p){return(p===72||p===104)&&r5.call(r,r.previous)&&!HA(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),t.consume(p),l):n(p)}function l(p){if(Ar(p)&&i.length<5)return i+=String.fromCodePoint(p),t.consume(p),l;if(p===58){const g=i.toLowerCase();if(g==="http"||g==="https")return t.consume(p),c}return n(p)}function c(p){return p===47?(t.consume(p),o?f:(o=!0,c)):n(p)}function f(p){return p===null||Ry(p)||Nt(p)||ou(p)||Gv(p)?n(p):t.attempt(X3,t.attempt(Q3,h),n)(p)}function h(p){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(p)}}function She(t,e,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,t.consume(a),i):a===46&&r===3?(t.consume(a),o):n(a)}function o(a){return a===null?n(a):e(a)}}function xhe(t,e,n){let r,i,o;return a;function a(f){return f===46||f===95?t.check(Z3,c,l)(f):f===null||Nt(f)||ou(f)||f!==45&&Gv(f)?c(f):(o=!0,t.consume(f),a)}function l(f){return f===95?r=!0:(i=r,r=void 0),t.consume(f),a}function c(f){return i||r||!o?n(f):e(f)}}function Ahe(t,e){let n=0,r=0;return i;function i(a){return a===40?(n++,t.consume(a),i):a===41&&r<n?o(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?t.check(Z3,e,o)(a):a===null||Nt(a)||ou(a)?e(a):(t.consume(a),i)}function o(a){return a===41&&r++,t.consume(a),i}}function Che(t,e,n){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(t.consume(l),r):l===38?(t.consume(l),o):l===93?(t.consume(l),i):l===60||l===null||Nt(l)||ou(l)?e(l):n(l)}function i(l){return l===null||l===40||l===91||Nt(l)||ou(l)?e(l):r(l)}function o(l){return Ar(l)?a(l):n(l)}function a(l){return l===59?(t.consume(l),r):Ar(l)?(t.consume(l),a):n(l)}}function Ihe(t,e,n){return r;function r(o){return t.consume(o),i}function i(o){return fr(o)?n(o):e(o)}}function n5(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Nt(t)}function r5(t){return!Ar(t)}function i5(t){return!(t===47||JT(t))}function JT(t){return t===43||t===45||t===46||t===95||fr(t)}function HA(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Rhe={tokenize:Uhe,partial:!0};function Phe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Dhe,continuation:{tokenize:Ohe},exit:Lhe}},text:{91:{name:"gfmFootnoteCall",tokenize:Nhe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:khe,resolveTo:Mhe}}}}function khe(t,e,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){a=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return l;function l(c){if(!a||!a._balanced)return n(c);const f=Yi(r.sliceSerialize({start:a.end,end:r.now()}));return f.codePointAt(0)!==94||!o.includes(f.slice(1))?n(c):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(c),t.exit("gfmFootnoteCallLabelMarker"),e(c))}}function Mhe(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},l=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",o,e],["enter",a,e],["exit",a,e],["exit",o,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...l),t}function Nhe(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,a;return l;function l(p){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(p),t.exit("gfmFootnoteCallLabelMarker"),c}function c(p){return p!==94?n(p):(t.enter("gfmFootnoteCallMarker"),t.consume(p),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",f)}function f(p){if(o>999||p===93&&!a||p===null||p===91||Nt(p))return n(p);if(p===93){t.exit("chunkString");const g=t.exit("gfmFootnoteCallString");return i.includes(Yi(r.sliceSerialize(g)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(p),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(p)}return Nt(p)||(a=!0),o++,t.consume(p),p===92?h:f}function h(p){return p===91||p===92||p===93?(t.consume(p),o++,f):f(p)}}function Dhe(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,a=0,l;return c;function c(T){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(T),t.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(T){return T===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(T),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",h):n(T)}function h(T){if(a>999||T===93&&!l||T===null||T===91||Nt(T))return n(T);if(T===93){t.exit("chunkString");const x=t.exit("gfmFootnoteDefinitionLabelString");return o=Yi(r.sliceSerialize(x)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(T),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),g}return Nt(T)||(l=!0),a++,t.consume(T),T===92?p:h}function p(T){return T===91||T===92||T===93?(t.consume(T),a++,h):h(T)}function g(T){return T===58?(t.enter("definitionMarker"),t.consume(T),t.exit("definitionMarker"),i.includes(o)||i.push(o),ct(t,v,"gfmFootnoteDefinitionWhitespace")):n(T)}function v(T){return e(T)}}function Ohe(t,e,n){return t.check(ip,e,t.attempt(Rhe,e,n))}function Lhe(t){t.exit("gfmFootnoteDefinition")}function Uhe(t,e,n){const r=this;return ct(t,i,"gfmFootnoteDefinitionIndent",5);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?e(o):n(o)}}function Vhe(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,l){let c=-1;for(;++c<a.length;)if(a[c][0]==="enter"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._close){let f=c;for(;f--;)if(a[f][0]==="exit"&&a[f][1].type==="strikethroughSequenceTemporary"&&a[f][1]._open&&a[c][1].end.offset-a[c][1].start.offset===a[f][1].end.offset-a[f][1].start.offset){a[c][1].type="strikethroughSequence",a[f][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},a[f][1].start),end:Object.assign({},a[c][1].end)},p={type:"strikethroughText",start:Object.assign({},a[f][1].end),end:Object.assign({},a[c][1].start)},g=[["enter",h,l],["enter",a[f][1],l],["exit",a[f][1],l],["enter",p,l]],v=l.parser.constructs.insideSpan.null;v&&si(g,g.length,0,Kv(v,a.slice(f+1,c),l)),si(g,g.length,0,[["exit",p,l],["enter",a[c][1],l],["exit",a[c][1],l],["exit",h,l]]),si(a,f-1,c-f+3,g),c=f+g.length-2;break}}for(c=-1;++c<a.length;)a[c][1].type==="strikethroughSequenceTemporary"&&(a[c][1].type="data");return a}function o(a,l,c){const f=this.previous,h=this.events;let p=0;return g;function g(T){return f===126&&h[h.length-1][1].type!=="characterEscape"?c(T):(a.enter("strikethroughSequenceTemporary"),v(T))}function v(T){const x=qc(f);if(T===126)return p>1?c(T):(a.consume(T),p++,v);if(p<2&&!n)return c(T);const S=a.exit("strikethroughSequenceTemporary"),C=qc(T);return S._open=!C||C===2&&!!x,S._close=!x||x===2&&!!C,l(T)}}}class Fhe{constructor(){this.map=[]}add(e,n,r){zhe(this,e,n,r)}consume(e){if(this.map.sort(function(o,a){return o[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const o of i)e.push(o);i=r.pop()}this.map.length=0}}function zhe(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function Bhe(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function qhe(){return{flow:{null:{name:"table",tokenize:Hhe,resolveAll:jhe}}}}function Hhe(t,e,n){const r=this;let i=0,o=0,a;return l;function l(k){let P=r.events.length-1;for(;P>-1;){const ie=r.events[P][1].type;if(ie==="lineEnding"||ie==="linePrefix")P--;else break}const F=P>-1?r.events[P][1].type:null,B=F==="tableHead"||F==="tableRow"?z:c;return B===z&&r.parser.lazy[r.now().line]?n(k):B(k)}function c(k){return t.enter("tableHead"),t.enter("tableRow"),f(k)}function f(k){return k===124||(a=!0,o+=1),h(k)}function h(k){return k===null?n(k):Oe(k)?o>1?(o=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),v):n(k):nt(k)?ct(t,h,"whitespace")(k):(o+=1,a&&(a=!1,i+=1),k===124?(t.enter("tableCellDivider"),t.consume(k),t.exit("tableCellDivider"),a=!0,h):(t.enter("data"),p(k)))}function p(k){return k===null||k===124||Nt(k)?(t.exit("data"),h(k)):(t.consume(k),k===92?g:p)}function g(k){return k===92||k===124?(t.consume(k),p):p(k)}function v(k){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(k):(t.enter("tableDelimiterRow"),a=!1,nt(k)?ct(t,T,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):T(k))}function T(k){return k===45||k===58?S(k):k===124?(a=!0,t.enter("tableCellDivider"),t.consume(k),t.exit("tableCellDivider"),x):$(k)}function x(k){return nt(k)?ct(t,S,"whitespace")(k):S(k)}function S(k){return k===58?(o+=1,a=!0,t.enter("tableDelimiterMarker"),t.consume(k),t.exit("tableDelimiterMarker"),C):k===45?(o+=1,C(k)):k===null||Oe(k)?G(k):$(k)}function C(k){return k===45?(t.enter("tableDelimiterFiller"),L(k)):$(k)}function L(k){return k===45?(t.consume(k),L):k===58?(a=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(k),t.exit("tableDelimiterMarker"),M):(t.exit("tableDelimiterFiller"),M(k))}function M(k){return nt(k)?ct(t,G,"whitespace")(k):G(k)}function G(k){return k===124?T(k):k===null||Oe(k)?!a||i!==o?$(k):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(k)):$(k)}function $(k){return n(k)}function z(k){return t.enter("tableRow"),N(k)}function N(k){return k===124?(t.enter("tableCellDivider"),t.consume(k),t.exit("tableCellDivider"),N):k===null||Oe(k)?(t.exit("tableRow"),e(k)):nt(k)?ct(t,N,"whitespace")(k):(t.enter("data"),U(k))}function U(k){return k===null||k===124||Nt(k)?(t.exit("data"),N(k)):(t.consume(k),k===92?V:U)}function V(k){return k===92||k===124?(t.consume(k),U):U(k)}}function jhe(t,e){let n=-1,r=!0,i=0,o=[0,0,0,0],a=[0,0,0,0],l=!1,c=0,f,h,p;const g=new Fhe;for(;++n<t.length;){const v=t[n],T=v[1];v[0]==="enter"?T.type==="tableHead"?(l=!1,c!==0&&(s2(g,e,c,f,h),h=void 0,c=0),f={type:"table",start:Object.assign({},T.start),end:Object.assign({},T.end)},g.add(n,0,[["enter",f,e]])):T.type==="tableRow"||T.type==="tableDelimiterRow"?(r=!0,p=void 0,o=[0,0,0,0],a=[0,n+1,0,0],l&&(l=!1,h={type:"tableBody",start:Object.assign({},T.start),end:Object.assign({},T.end)},g.add(n,0,[["enter",h,e]])),i=T.type==="tableDelimiterRow"?2:h?3:1):i&&(T.type==="data"||T.type==="tableDelimiterMarker"||T.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(o[1]!==0&&(a[0]=a[1],p=lg(g,e,o,i,void 0,p),o=[0,0,0,0]),a[2]=n)):T.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(a[0]=a[1],p=lg(g,e,o,i,void 0,p)),o=a,a=[o[1],n,0,0])):T.type==="tableHead"?(l=!0,c=n):T.type==="tableRow"||T.type==="tableDelimiterRow"?(c=n,o[1]!==0?(a[0]=a[1],p=lg(g,e,o,i,n,p)):a[1]!==0&&(p=lg(g,e,a,i,n,p)),i=0):i&&(T.type==="data"||T.type==="tableDelimiterMarker"||T.type==="tableDelimiterFiller")&&(a[3]=n)}for(c!==0&&s2(g,e,c,f,h),g.consume(e.events),n=-1;++n<e.events.length;){const v=e.events[n];v[0]==="enter"&&v[1].type==="table"&&(v[1]._align=Bhe(e.events,n))}return t}function lg(t,e,n,r,i,o){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(o.end=Object.assign({},pc(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const c=pc(e.events,n[1]);if(o={type:a,start:Object.assign({},c),end:Object.assign({},c)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const f=pc(e.events,n[2]),h=pc(e.events,n[3]),p={type:l,start:Object.assign({},f),end:Object.assign({},h)};if(t.add(n[2],0,[["enter",p,e]]),r!==2){const g=e.events[n[2]],v=e.events[n[3]];if(g[1].end=Object.assign({},v[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const T=n[2]+1,x=n[3]-n[2]-1;t.add(T,x,[])}}t.add(n[3]+1,0,[["exit",p,e]])}return i!==void 0&&(o.end=Object.assign({},pc(e.events,i)),t.add(i,0,[["exit",o,e]]),o=void 0),o}function s2(t,e,n,r,i){const o=[],a=pc(e.events,n);i&&(i.end=Object.assign({},a),o.push(["exit",i,e])),r.end=Object.assign({},a),o.push(["exit",r,e]),t.add(n+1,0,o)}function pc(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const $he={name:"tasklistCheck",tokenize:Khe};function Ghe(){return{text:{91:$he}}}function Khe(t,e,n){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(c),t.exit("taskListCheckMarker"),o)}function o(c){return Nt(c)?(t.enter("taskListCheckValueUnchecked"),t.consume(c),t.exit("taskListCheckValueUnchecked"),a):c===88||c===120?(t.enter("taskListCheckValueChecked"),t.consume(c),t.exit("taskListCheckValueChecked"),a):n(c)}function a(c){return c===93?(t.enter("taskListCheckMarker"),t.consume(c),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),l):n(c)}function l(c){return Oe(c)?e(c):nt(c)?t.check({tokenize:Yhe},e,n)(c):n(c)}}function Yhe(t,e,n){return ct(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function Whe(t){return p3([bhe(),Phe(),Vhe(t),qhe(),Ghe()])}const Jhe={};function o5(t){const e=this,n=t||Jhe,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Whe(n)),o.push(ghe()),a.push(yhe(n))}var l2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Xhe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},s5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=o>>2,p=(o&3)<<4|l>>4;let g=(l&15)<<2|f>>6,v=f&63;c||(v=64,a||(g=64)),r.push(n[h],n[p],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Xhe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||f==null||p==null)throw new Qhe;const g=o<<2|l>>4;if(r.push(g),f!==64){const v=l<<4&240|f>>2;if(r.push(v),p!==64){const T=f<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Qhe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zhe=function(t){const e=a5(t);return s5.encodeByteArray(e,!0)},Ny=function(t){return Zhe(t).replace(/\./g,"")},l5=function(t){try{return s5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function epe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tpe=()=>epe().__FIREBASE_DEFAULTS__,npe=()=>{if(typeof process>"u"||typeof l2>"u")return;const t=l2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rpe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&l5(t[1]);return e&&JSON.parse(e)},Xv=()=>{try{return tpe()||npe()||rpe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},u5=t=>{var e,n;return(n=(e=Xv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},c5=t=>{const e=u5(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},f5=()=>{var t;return(t=Xv())===null||t===void 0?void 0:t.config},d5=t=>{var e;return(e=Xv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ipe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ny(JSON.stringify(n)),Ny(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ope(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hr())}function ape(){var t;const e=(t=Xv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function spe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lpe(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function upe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cpe(){const t=hr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fpe(){return!ape()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dpe(){try{return typeof indexedDB=="object"}catch{return!1}}function hpe(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ppe="FirebaseError";class No extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ppe,Object.setPrototypeOf(this,No.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ap.prototype.create)}}class ap{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?mpe(o,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new No(i,l,r)}}function mpe(t,e){return t.replace(gpe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const gpe=/\{\$([^}]+)}/g;function ype(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Dy(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(u2(o)&&u2(a)){if(!Dy(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function u2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vpe(t,e){const n=new _pe(t,e);return n.subscribe.bind(n)}class _pe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bpe(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=xw),i.error===void 0&&(i.error=xw),i.complete===void 0&&(i.complete=xw);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bpe(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t){return t&&t._delegate?t._delegate:t}class Ks{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Epe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ipe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Tpe(e))try{this.getOrInitializeService({instanceIdentifier:Vl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Vl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vl){return this.instances.has(e)}getOptions(e=Vl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wpe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vl){return this.component?this.component.multipleInstances?e:Vl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wpe(t){return t===Vl?void 0:t}function Tpe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Spe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Epe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const xpe={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},Ape=lt.INFO,Cpe={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},Ipe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Cpe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jA{constructor(e){this.name=e,this._logLevel=Ape,this._logHandler=Ipe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xpe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const Rpe=(t,e)=>e.some(n=>t instanceof n);let c2,f2;function Ppe(){return c2||(c2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kpe(){return f2||(f2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p5=new WeakMap,XT=new WeakMap,m5=new WeakMap,Aw=new WeakMap,$A=new WeakMap;function Mpe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Bs(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&p5.set(n,t)}).catch(()=>{}),$A.set(e,t),e}function Npe(t){if(XT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});XT.set(t,e)}let QT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return XT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||m5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Dpe(t){QT=t(QT)}function Ope(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Cw(this),e,...n);return m5.set(r,e.sort?e.sort():[e]),Bs(r)}:kpe().includes(t)?function(...e){return t.apply(Cw(this),e),Bs(p5.get(this))}:function(...e){return Bs(t.apply(Cw(this),e))}}function Lpe(t){return typeof t=="function"?Ope(t):(t instanceof IDBTransaction&&Npe(t),Rpe(t,Ppe())?new Proxy(t,QT):t)}function Bs(t){if(t instanceof IDBRequest)return Mpe(t);if(Aw.has(t))return Aw.get(t);const e=Lpe(t);return e!==t&&(Aw.set(t,e),$A.set(e,t)),e}const Cw=t=>$A.get(t);function Upe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),l=Bs(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Bs(a.result),c.oldVersion,c.newVersion,Bs(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const Vpe=["get","getKey","getAll","getAllKeys","count"],Fpe=["put","add","delete","clear"],Iw=new Map;function d2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Iw.get(e))return Iw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Fpe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Vpe.includes(n)))return;const o=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return Iw.set(e,o),o}Dpe(t=>({...t,get:(e,n,r)=>d2(e,n)||t.get(e,n,r),has:(e,n)=>!!d2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zpe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Bpe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Bpe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ZT="@firebase/app",h2="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new jA("@firebase/app"),qpe="@firebase/app-compat",Hpe="@firebase/analytics-compat",jpe="@firebase/analytics",$pe="@firebase/app-check-compat",Gpe="@firebase/app-check",Kpe="@firebase/auth",Ype="@firebase/auth-compat",Wpe="@firebase/database",Jpe="@firebase/data-connect",Xpe="@firebase/database-compat",Qpe="@firebase/functions",Zpe="@firebase/functions-compat",eme="@firebase/installations",tme="@firebase/installations-compat",nme="@firebase/messaging",rme="@firebase/messaging-compat",ime="@firebase/performance",ome="@firebase/performance-compat",ame="@firebase/remote-config",sme="@firebase/remote-config-compat",lme="@firebase/storage",ume="@firebase/storage-compat",cme="@firebase/firestore",fme="@firebase/vertexai-preview",dme="@firebase/firestore-compat",hme="firebase",pme="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="[DEFAULT]",mme={[ZT]:"fire-core",[qpe]:"fire-core-compat",[jpe]:"fire-analytics",[Hpe]:"fire-analytics-compat",[Gpe]:"fire-app-check",[$pe]:"fire-app-check-compat",[Kpe]:"fire-auth",[Ype]:"fire-auth-compat",[Wpe]:"fire-rtdb",[Jpe]:"fire-data-connect",[Xpe]:"fire-rtdb-compat",[Qpe]:"fire-fn",[Zpe]:"fire-fn-compat",[eme]:"fire-iid",[tme]:"fire-iid-compat",[nme]:"fire-fcm",[rme]:"fire-fcm-compat",[ime]:"fire-perf",[ome]:"fire-perf-compat",[ame]:"fire-rc",[sme]:"fire-rc-compat",[lme]:"fire-gcs",[ume]:"fire-gcs-compat",[cme]:"fire-fst",[dme]:"fire-fst-compat",[fme]:"fire-vertex","fire-js":"fire-js",[hme]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=new Map,gme=new Map,tS=new Map;function p2(t,e){try{t.container.addComponent(e)}catch(n){Aa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function au(t){const e=t.name;if(tS.has(e))return Aa.debug(`There were multiple attempts to register component ${e}.`),!1;tS.set(e,t);for(const n of Oy.values())p2(n,t);for(const n of gme.values())p2(n,t);return!0}function Qv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function da(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yme={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new ap("app","Firebase",yme);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vme{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=pme;function g5(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:eS,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qs.create("bad-app-name",{appName:String(i)});if(n||(n=f5()),!n)throw qs.create("no-options");const o=Oy.get(i);if(o){if(Dy(n,o.options)&&Dy(r,o.config))return o;throw qs.create("duplicate-app",{appName:i})}const a=new Spe(i);for(const c of tS.values())a.addComponent(c);const l=new vme(n,r,a);return Oy.set(i,l),l}function GA(t=eS){const e=Oy.get(t);if(!e&&t===eS&&f5())return g5();if(!e)throw qs.create("no-app",{appName:t});return e}function To(t,e,n){var r;let i=(r=mme[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Aa.warn(l.join(" "));return}au(new Ks(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _me="firebase-heartbeat-database",bme=1,wh="firebase-heartbeat-store";let Rw=null;function y5(){return Rw||(Rw=Upe(_me,bme,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wh)}catch(n){console.warn(n)}}}}).catch(t=>{throw qs.create("idb-open",{originalErrorMessage:t.message})})),Rw}async function Eme(t){try{const n=(await y5()).transaction(wh),r=await n.objectStore(wh).get(v5(t));return await n.done,r}catch(e){if(e instanceof No)Aa.warn(e.message);else{const n=qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Aa.warn(n.message)}}}async function m2(t,e){try{const r=(await y5()).transaction(wh,"readwrite");await r.objectStore(wh).put(e,v5(t)),await r.done}catch(n){if(n instanceof No)Aa.warn(n.message);else{const r=qs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Aa.warn(r.message)}}}function v5(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wme=1024,Tme=720*60*60*1e3;class Sme{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ame(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=g2();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=Tme}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Aa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=g2(),{heartbeatsToSend:r,unsentEntries:i}=xme(this._heartbeatsCache.heartbeats),o=Ny(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Aa.warn(n),""}}}function g2(){return new Date().toISOString().substring(0,10)}function xme(t,e=wme){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),y2(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),y2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ame{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dpe()?hpe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Eme(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return m2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return m2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function y2(t){return Ny(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cme(t){au(new Ks("platform-logger",e=>new zpe(e),"PRIVATE")),au(new Ks("heartbeat",e=>new Sme(e),"PRIVATE")),To(ZT,h2,t),To(ZT,h2,"esm2017"),To("fire-js","")}Cme("");var Ime="firebase",Rme="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */To(Ime,Rme,"app");function KA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Pme=_5,b5=new ap("auth","Firebase",_5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=new jA("@firebase/auth");function kme(t,...e){Ly.logLevel<=lt.WARN&&Ly.warn(`Auth (${yu}): ${t}`,...e)}function Rg(t,...e){Ly.logLevel<=lt.ERROR&&Ly.error(`Auth (${yu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t,...e){throw WA(t,...e)}function Wi(t,...e){return WA(t,...e)}function YA(t,e,n){const r=Object.assign(Object.assign({},Pme()),{[e]:n});return new ap("auth","Firebase",r).create(e,{appName:t.name})}function Wl(t){return YA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mme(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Io(t,"argument-error"),YA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function WA(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return b5.create(t,...e)}function Be(t,e,...n){if(!t)throw WA(e,...n)}function ha(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rg(e),new Error(e)}function Ca(t,e){t||ha(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Nme(){return v2()==="http:"||v2()==="https:"}function v2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dme(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Nme()||lpe()||"connection"in navigator)?navigator.onLine:!0}function Ome(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ca(n>e,"Short delay should be less than long delay!"),this.isMobile=ope()||upe()}get(){return Dme()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t,e){Ca(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ha("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ha("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ha("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lme={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ume=new lp(3e4,6e4);function XA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ff(t,e,n,r,i={}){return w5(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const l=sp(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:c},o);return spe()||(f.referrerPolicy="no-referrer"),E5.fetch()(T5(t,t.config.apiHost,n,l),f)})}async function w5(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Lme),e);try{const i=new Fme(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw ug(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const l=o.ok?a.errorMessage:a.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ug(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw ug(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw ug(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw YA(t,h,f);Io(t,h)}}catch(i){if(i instanceof No)throw i;Io(t,"network-request-failed",{message:String(i)})}}async function Vme(t,e,n,r,i={}){const o=await ff(t,e,n,r,i);return"mfaPendingCredential"in o&&Io(t,"multi-factor-auth-required",{_serverResponse:o}),o}function T5(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?JA(t.config,i):`${t.config.apiScheme}://${i}`}class Fme{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wi(this.auth,"network-request-failed")),Ume.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ug(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wi(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zme(t,e){return ff(t,"POST","/v1/accounts:delete",e)}async function S5(t,e){return ff(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Bme(t,e=!1){const n=Hn(t),r=await n.getIdToken(e),i=QA(r);Be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Gd(Pw(i.auth_time)),issuedAtTime:Gd(Pw(i.iat)),expirationTime:Gd(Pw(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Pw(t){return Number(t)*1e3}function QA(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rg("JWT malformed, contained fewer than 3 sections"),null;try{const i=l5(n);return i?JSON.parse(i):(Rg("Failed to decode base64 JWT payload"),null)}catch(i){return Rg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _2(t){const e=QA(t);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof No&&qme(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function qme({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hme{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gd(this.lastLoginAt),this.creationTime=Gd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uy(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Th(t,S5(n,{idToken:r}));Be(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?x5(o.providerUserInfo):[],l=$me(t.providerData,a),c=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(l!=null&&l.length),h=c?f:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new rS(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function jme(t){const e=Hn(t);await Uy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $me(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function x5(t){return t.map(e=>{var{providerId:n}=e,r=KA(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gme(t,e){const n=await w5(t,{},async()=>{const r=sp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=T5(t,i,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",E5.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Kme(t,e){return ff(t,"POST","/v2/accounts:revokeToken",XA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const n=_2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Gme(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Ic;return r&&(Be(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Be(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(Be(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ic,this.toJSON())}_performRefresh(){return ha("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t,e){Be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pa{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=KA(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hme(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rS(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Th(this,this.stsTokenManager.getToken(this.auth,e));return Be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Bme(this,e)}reload(){return jme(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Uy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(da(this.auth.app))return Promise.reject(Wl(this.auth));const e=await this.getIdToken();return await Th(this,zme(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,l,c,f,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,v=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,T=(a=n.photoURL)!==null&&a!==void 0?a:void 0,x=(l=n.tenantId)!==null&&l!==void 0?l:void 0,S=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,C=(f=n.createdAt)!==null&&f!==void 0?f:void 0,L=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:M,emailVerified:G,isAnonymous:$,providerData:z,stsTokenManager:N}=n;Be(M&&N,e,"internal-error");const U=Ic.fromJSON(this.name,N);Be(typeof M=="string",e,"internal-error"),Is(p,e.name),Is(g,e.name),Be(typeof G=="boolean",e,"internal-error"),Be(typeof $=="boolean",e,"internal-error"),Is(v,e.name),Is(T,e.name),Is(x,e.name),Is(S,e.name),Is(C,e.name),Is(L,e.name);const V=new pa({uid:M,auth:e,email:g,emailVerified:G,displayName:p,isAnonymous:$,photoURL:T,phoneNumber:v,tenantId:x,stsTokenManager:U,createdAt:C,lastLoginAt:L});return z&&Array.isArray(z)&&(V.providerData=z.map(k=>Object.assign({},k))),S&&(V._redirectEventId=S),V}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ic;i.updateFromServerResponse(n);const o=new pa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Uy(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Be(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?x5(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),l=new Ic;l.updateFromIdToken(r);const c=new pa({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new rS(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=new Map;function ma(t){Ca(t instanceof Function,"Expected a class definition");let e=b2.get(t);return e?(Ca(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,b2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}A5.type="NONE";const E2=A5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(t,e,n){return`firebase:${t}:${e}:${n}`}class Rc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Pg(this.userKey,i.apiKey,o),this.fullPersistenceKey=Pg("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Rc(ma(E2),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||ma(E2);const a=Pg(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const h=await f._get(a);if(h){const p=pa._fromJSON(e,h);f!==o&&(l=p),o=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Rc(o,e,r):(o=c[0],l&&await o._set(a,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(a)}catch{}})),new Rc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(M5(e))return"Blackberry";if(N5(e))return"Webos";if(I5(e))return"Safari";if((e.includes("chrome/")||R5(e))&&!e.includes("edge/"))return"Chrome";if(k5(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function C5(t=hr()){return/firefox\//i.test(t)}function I5(t=hr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function R5(t=hr()){return/crios\//i.test(t)}function P5(t=hr()){return/iemobile/i.test(t)}function k5(t=hr()){return/android/i.test(t)}function M5(t=hr()){return/blackberry/i.test(t)}function N5(t=hr()){return/webos/i.test(t)}function ZA(t=hr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Yme(t=hr()){var e;return ZA(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Wme(){return cpe()&&document.documentMode===10}function D5(t=hr()){return ZA(t)||k5(t)||N5(t)||M5(t)||/windows phone/i.test(t)||P5(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(t,e=[]){let n;switch(t){case"Browser":n=w2(hr());break;case"Worker":n=`${w2(hr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jme{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,l)=>{try{const c=e(o);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xme(t,e={}){return ff(t,"GET","/v2/passwordPolicy",XA(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qme=6;class Zme{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:Qme,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ege{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T2(this),this.idTokenSubscription=new T2(this),this.beforeStateQueue=new Jme(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ma(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Rc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await S5(this,{idToken:e}),r=await pa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(da(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ome()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(da(this.app))return Promise.reject(Wl(this));const n=e?Hn(e):null;return n&&Be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return da(this.app)?Promise.reject(Wl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return da(this.app)?Promise.reject(Wl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ma(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Xme(this),n=new Zme(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ap("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Kme(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ma(e)||this._popupRedirectResolver;Be(n,this,"argument-error"),this.redirectPersistenceManager=await Rc.create(this,[ma(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(l,this,"internal-error"),l.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&kme(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Zv(t){return Hn(t)}class T2{constructor(e){this.auth=e,this.observer=null,this.addObserver=vpe(n=>this.observer=n)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tge(t){e1=t}function nge(t){return e1.loadJS(t)}function rge(){return e1.gapiScript}function ige(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oge(t,e){const n=Qv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Dy(o,e??{}))return i;Io(i,"already-initialized")}return n.initialize({options:e})}function age(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ma);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function sge(t,e,n){const r=Zv(t);Be(r._canInitEmulator,r,"emulator-config-failed"),Be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=L5(e),{host:a,port:l}=lge(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${o}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),uge()}function L5(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lge(t){const e=L5(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:S2(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:S2(a)}}}function S2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uge(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ha("not implemented")}_getIdTokenResponse(e){return ha("not implemented")}_linkToIdToken(e,n){return ha("not implemented")}_getReauthenticationResolver(e){return ha("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(t,e){return Vme(t,"POST","/v1/accounts:signInWithIdp",XA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cge="http://localhost";class su extends U5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new su(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Io("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=KA(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new su(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Pc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pc(e,n)}buildRequest(){const e={requestUri:cge,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=sp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up extends t1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends up{constructor(){super("facebook.com")}static credential(e){return su._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua extends up{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return su._fromParams({providerId:ua.PROVIDER_ID,signInMethod:ua.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ua.credentialFromTaggedObject(e)}static credentialFromError(e){return ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ua.credential(n,r)}catch{return null}}}ua.GOOGLE_SIGN_IN_METHOD="google.com";ua.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends up{constructor(){super("github.com")}static credential(e){return su._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.GITHUB_SIGN_IN_METHOD="github.com";Ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends up{constructor(){super("twitter.com")}static credential(e,n){return su._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ns.credential(n,r)}catch{return null}}}Ns.TWITTER_SIGN_IN_METHOD="twitter.com";Ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await pa._fromIdTokenResponse(e,r,i),a=x2(r);return new Hc({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=x2(r);return new Hc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function x2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy extends No{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vy.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Vy(e,n,r,i)}}function V5(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Vy._fromErrorAndOperation(t,o,e,r):o})}async function fge(t,e,n=!1){const r=await Th(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Hc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dge(t,e,n=!1){const{auth:r}=t;if(da(r.app))return Promise.reject(Wl(r));const i="reauthenticate";try{const o=await Th(t,V5(r,i,e,t),n);Be(o.idToken,r,"internal-error");const a=QA(o.idToken);Be(a,r,"internal-error");const{sub:l}=a;return Be(t.uid===l,r,"user-mismatch"),Hc._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Io(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hge(t,e,n=!1){if(da(t.app))return Promise.reject(Wl(t));const r="signIn",i=await V5(t,r,e),o=await Hc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function pge(t,e,n,r){return Hn(t).onIdTokenChanged(e,n,r)}function mge(t,e,n){return Hn(t).beforeAuthStateChanged(e,n)}function gge(t,e,n,r){return Hn(t).onAuthStateChanged(e,n,r)}function yge(t){return Hn(t).signOut()}const Fy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fy,"1"),this.storage.removeItem(Fy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vge=1e3,_ge=10;class z5 extends F5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=D5(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);Wme()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_ge):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vge)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}z5.type="LOCAL";const bge=z5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5 extends F5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}B5.type="SESSION";const q5=B5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ege(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new e0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async f=>f(n.origin,o)),c=await Ege(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}e0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wge{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const f=n1("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(g.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(){return window}function Tge(t){So().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(){return typeof So().WorkerGlobalScope<"u"&&typeof So().importScripts=="function"}async function Sge(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xge(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Age(){return H5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5="firebaseLocalStorageDb",Cge=1,zy="firebaseLocalStorage",$5="fbase_key";class cp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function t0(t,e){return t.transaction([zy],e?"readwrite":"readonly").objectStore(zy)}function Ige(){const t=indexedDB.deleteDatabase(j5);return new cp(t).toPromise()}function iS(){const t=indexedDB.open(j5,Cge);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zy,{keyPath:$5})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(zy)?e(r):(r.close(),await Ige(),e(await iS()))})})}async function A2(t,e,n){const r=t0(t,!0).put({[$5]:e,value:n});return new cp(r).toPromise()}async function Rge(t,e){const n=t0(t,!1).get(e),r=await new cp(n).toPromise();return r===void 0?null:r.value}function C2(t,e){const n=t0(t,!0).delete(e);return new cp(n).toPromise()}const Pge=800,kge=3;class G5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await iS(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kge)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return H5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=e0._getInstance(Age()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Sge(),!this.activeServiceWorker)return;this.sender=new wge(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xge()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await iS();return await A2(e,Fy,"1"),await C2(e,Fy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>A2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Rge(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>C2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=t0(i,!1).getAll();return new cp(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Pge)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G5.type="LOCAL";const Mge=G5;new lp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(t,e){return e?ma(e):(Be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1 extends U5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Nge(t){return hge(t.auth,new r1(t),t.bypassAuthState)}function Dge(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),dge(n,new r1(t),t.bypassAuthState)}async function Oge(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),fge(n,new r1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Nge;case"linkViaPopup":case"linkViaRedirect":return Oge;case"reauthViaPopup":case"reauthViaRedirect":return Dge;default:Io(this.auth,"internal-error")}}resolve(e){Ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lge=new lp(2e3,1e4);async function Uge(t,e,n){if(da(t.app))return Promise.reject(Wi(t,"operation-not-supported-in-this-environment"));const r=Zv(t);Mme(t,e,t1);const i=K5(r,n);return new Hl(r,"signInViaPopup",e,i).executeNotNull()}class Hl extends Y5{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Hl.currentPopupAction&&Hl.currentPopupAction.cancel(),Hl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){Ca(this.filter.length===1,"Popup operations only handle one event");const e=n1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Lge.get())};e()}}Hl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vge="pendingRedirect",kg=new Map;class Fge extends Y5{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kg.get(this.auth._key());if(!e){try{const r=await zge(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kg.set(this.auth._key(),e)}return this.bypassAuthState||kg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zge(t,e){const n=Hge(e),r=qge(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Bge(t,e){kg.set(t._key(),e)}function qge(t){return ma(t._redirectPersistence)}function Hge(t){return Pg(Vge,t.config.apiKey,t.name)}async function jge(t,e,n=!1){if(da(t.app))return Promise.reject(Wl(t));const r=Zv(t),i=K5(r,e),a=await new Fge(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ge=600*1e3;class Gge{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Kge(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!W5(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$ge&&this.cachedEventUids.clear(),this.cachedEventUids.has(I2(e))}saveEventToCache(e){this.cachedEventUids.add(I2(e)),this.lastProcessedEventTime=Date.now()}}function I2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function W5({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Kge(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W5(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yge(t,e={}){return ff(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wge=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jge=/^https?/;async function Xge(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Yge(t);for(const n of e)try{if(Qge(n))return}catch{}Io(t,"unauthorized-domain")}function Qge(t){const e=nS(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Jge.test(n))return!1;if(Wge.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zge=new lp(3e4,6e4);function R2(){const t=So().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eye(t){return new Promise((e,n)=>{var r,i,o;function a(){R2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R2(),n(Wi(t,"network-request-failed"))},timeout:Zge.get()})}if(!((i=(r=So().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=So().gapi)===null||o===void 0)&&o.load)a();else{const l=ige("iframefcb");return So()[l]=()=>{gapi.load?a():n(Wi(t,"network-request-failed"))},nge(`${rge()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Mg=null,e})}let Mg=null;function tye(t){return Mg=Mg||eye(t),Mg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nye=new lp(5e3,15e3),rye="__/auth/iframe",iye="emulator/auth/iframe",oye={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aye=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sye(t){const e=t.config;Be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?JA(e,iye):`https://${t.config.authDomain}/${rye}`,r={apiKey:e.apiKey,appName:t.name,v:yu},i=aye.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${sp(r).slice(1)}`}async function lye(t){const e=await tye(t),n=So().gapi;return Be(n,t,"internal-error"),e.open({where:document.body,url:sye(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oye,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Wi(t,"network-request-failed"),l=So().setTimeout(()=>{o(a)},nye.get());function c(){So().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uye={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cye=500,fye=600,dye="_blank",hye="http://localhost";class P2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pye(t,e,n,r=cye,i=fye){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},uye),{width:r.toString(),height:i.toString(),top:o,left:a}),f=hr().toLowerCase();n&&(l=R5(f)?dye:n),C5(f)&&(e=e||hye,c.scrollbars="yes");const h=Object.entries(c).reduce((g,[v,T])=>`${g}${v}=${T},`,"");if(Yme(f)&&l!=="_self")return mye(e||"",l),new P2(null);const p=window.open(e||"",l,h);Be(p,t,"popup-blocked");try{p.focus()}catch{}return new P2(p)}function mye(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gye="__/auth/handler",yye="emulator/auth/handler",vye=encodeURIComponent("fac");async function k2(t,e,n,r,i,o){Be(t.config.authDomain,t,"auth-domain-config-required"),Be(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yu,eventId:i};if(e instanceof t1){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",ype(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))a[h]=p}if(e instanceof up){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),f=c?`#${vye}=${encodeURIComponent(c)}`:"";return`${_ye(t)}?${sp(l).slice(1)}${f}`}function _ye({config:t}){return t.emulator?JA(t,yye):`https://${t.authDomain}/${gye}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="webStorageSupport";class bye{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q5,this._completeRedirectFn=jge,this._overrideRedirectResult=Bge}async _openPopup(e,n,r,i){var o;Ca((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await k2(e,n,r,nS(),i);return pye(e,a,n1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await k2(e,n,r,nS(),i);return Tge(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ca(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lye(e),r=new Gge(e);return n.register("authEvent",i=>(Be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kw,{type:kw},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[kw];a!==void 0&&n(!!a),Io(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Xge(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return D5()||I5()||ZA()}}const Eye=bye;var M2="@firebase/auth",N2="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wye{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tye(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Sye(t){au(new Ks("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Be(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O5(t)},f=new ege(r,i,o,c);return age(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),au(new Ks("auth-internal",e=>{const n=Zv(e.getProvider("auth").getImmediate());return(r=>new wye(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),To(M2,N2,Tye(t)),To(M2,N2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xye=300,Aye=d5("authIdTokenMaxAge")||xye;let D2=null;const Cye=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Aye)return;const i=n==null?void 0:n.token;D2!==i&&(D2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Iye(t=GA()){const e=Qv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oge(t,{popupRedirectResolver:Eye,persistence:[Mge,bge,q5]}),r=d5("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=Cye(o.toString());mge(n,a,()=>a(n.currentUser)),pge(n,l=>a(l))}}const i=u5("auth");return i&&sge(n,`http://${i}`),n}function Rye(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}tge({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Wi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Rye().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Sye("Browser");var O2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jl,J5;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,U){function V(){}V.prototype=U.prototype,N.D=U.prototype,N.prototype=new V,N.prototype.constructor=N,N.C=function(k,P,F){for(var B=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)B[ie-2]=arguments[ie];return U.prototype[P].apply(k,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,U,V){V||(V=0);var k=Array(16);if(typeof U=="string")for(var P=0;16>P;++P)k[P]=U.charCodeAt(V++)|U.charCodeAt(V++)<<8|U.charCodeAt(V++)<<16|U.charCodeAt(V++)<<24;else for(P=0;16>P;++P)k[P]=U[V++]|U[V++]<<8|U[V++]<<16|U[V++]<<24;U=N.g[0],V=N.g[1],P=N.g[2];var F=N.g[3],B=U+(F^V&(P^F))+k[0]+3614090360&4294967295;U=V+(B<<7&4294967295|B>>>25),B=F+(P^U&(V^P))+k[1]+3905402710&4294967295,F=U+(B<<12&4294967295|B>>>20),B=P+(V^F&(U^V))+k[2]+606105819&4294967295,P=F+(B<<17&4294967295|B>>>15),B=V+(U^P&(F^U))+k[3]+3250441966&4294967295,V=P+(B<<22&4294967295|B>>>10),B=U+(F^V&(P^F))+k[4]+4118548399&4294967295,U=V+(B<<7&4294967295|B>>>25),B=F+(P^U&(V^P))+k[5]+1200080426&4294967295,F=U+(B<<12&4294967295|B>>>20),B=P+(V^F&(U^V))+k[6]+2821735955&4294967295,P=F+(B<<17&4294967295|B>>>15),B=V+(U^P&(F^U))+k[7]+4249261313&4294967295,V=P+(B<<22&4294967295|B>>>10),B=U+(F^V&(P^F))+k[8]+1770035416&4294967295,U=V+(B<<7&4294967295|B>>>25),B=F+(P^U&(V^P))+k[9]+2336552879&4294967295,F=U+(B<<12&4294967295|B>>>20),B=P+(V^F&(U^V))+k[10]+4294925233&4294967295,P=F+(B<<17&4294967295|B>>>15),B=V+(U^P&(F^U))+k[11]+2304563134&4294967295,V=P+(B<<22&4294967295|B>>>10),B=U+(F^V&(P^F))+k[12]+1804603682&4294967295,U=V+(B<<7&4294967295|B>>>25),B=F+(P^U&(V^P))+k[13]+4254626195&4294967295,F=U+(B<<12&4294967295|B>>>20),B=P+(V^F&(U^V))+k[14]+2792965006&4294967295,P=F+(B<<17&4294967295|B>>>15),B=V+(U^P&(F^U))+k[15]+1236535329&4294967295,V=P+(B<<22&4294967295|B>>>10),B=U+(P^F&(V^P))+k[1]+4129170786&4294967295,U=V+(B<<5&4294967295|B>>>27),B=F+(V^P&(U^V))+k[6]+3225465664&4294967295,F=U+(B<<9&4294967295|B>>>23),B=P+(U^V&(F^U))+k[11]+643717713&4294967295,P=F+(B<<14&4294967295|B>>>18),B=V+(F^U&(P^F))+k[0]+3921069994&4294967295,V=P+(B<<20&4294967295|B>>>12),B=U+(P^F&(V^P))+k[5]+3593408605&4294967295,U=V+(B<<5&4294967295|B>>>27),B=F+(V^P&(U^V))+k[10]+38016083&4294967295,F=U+(B<<9&4294967295|B>>>23),B=P+(U^V&(F^U))+k[15]+3634488961&4294967295,P=F+(B<<14&4294967295|B>>>18),B=V+(F^U&(P^F))+k[4]+3889429448&4294967295,V=P+(B<<20&4294967295|B>>>12),B=U+(P^F&(V^P))+k[9]+568446438&4294967295,U=V+(B<<5&4294967295|B>>>27),B=F+(V^P&(U^V))+k[14]+3275163606&4294967295,F=U+(B<<9&4294967295|B>>>23),B=P+(U^V&(F^U))+k[3]+4107603335&4294967295,P=F+(B<<14&4294967295|B>>>18),B=V+(F^U&(P^F))+k[8]+1163531501&4294967295,V=P+(B<<20&4294967295|B>>>12),B=U+(P^F&(V^P))+k[13]+2850285829&4294967295,U=V+(B<<5&4294967295|B>>>27),B=F+(V^P&(U^V))+k[2]+4243563512&4294967295,F=U+(B<<9&4294967295|B>>>23),B=P+(U^V&(F^U))+k[7]+1735328473&4294967295,P=F+(B<<14&4294967295|B>>>18),B=V+(F^U&(P^F))+k[12]+2368359562&4294967295,V=P+(B<<20&4294967295|B>>>12),B=U+(V^P^F)+k[5]+4294588738&4294967295,U=V+(B<<4&4294967295|B>>>28),B=F+(U^V^P)+k[8]+2272392833&4294967295,F=U+(B<<11&4294967295|B>>>21),B=P+(F^U^V)+k[11]+1839030562&4294967295,P=F+(B<<16&4294967295|B>>>16),B=V+(P^F^U)+k[14]+4259657740&4294967295,V=P+(B<<23&4294967295|B>>>9),B=U+(V^P^F)+k[1]+2763975236&4294967295,U=V+(B<<4&4294967295|B>>>28),B=F+(U^V^P)+k[4]+1272893353&4294967295,F=U+(B<<11&4294967295|B>>>21),B=P+(F^U^V)+k[7]+4139469664&4294967295,P=F+(B<<16&4294967295|B>>>16),B=V+(P^F^U)+k[10]+3200236656&4294967295,V=P+(B<<23&4294967295|B>>>9),B=U+(V^P^F)+k[13]+681279174&4294967295,U=V+(B<<4&4294967295|B>>>28),B=F+(U^V^P)+k[0]+3936430074&4294967295,F=U+(B<<11&4294967295|B>>>21),B=P+(F^U^V)+k[3]+3572445317&4294967295,P=F+(B<<16&4294967295|B>>>16),B=V+(P^F^U)+k[6]+76029189&4294967295,V=P+(B<<23&4294967295|B>>>9),B=U+(V^P^F)+k[9]+3654602809&4294967295,U=V+(B<<4&4294967295|B>>>28),B=F+(U^V^P)+k[12]+3873151461&4294967295,F=U+(B<<11&4294967295|B>>>21),B=P+(F^U^V)+k[15]+530742520&4294967295,P=F+(B<<16&4294967295|B>>>16),B=V+(P^F^U)+k[2]+3299628645&4294967295,V=P+(B<<23&4294967295|B>>>9),B=U+(P^(V|~F))+k[0]+4096336452&4294967295,U=V+(B<<6&4294967295|B>>>26),B=F+(V^(U|~P))+k[7]+1126891415&4294967295,F=U+(B<<10&4294967295|B>>>22),B=P+(U^(F|~V))+k[14]+2878612391&4294967295,P=F+(B<<15&4294967295|B>>>17),B=V+(F^(P|~U))+k[5]+4237533241&4294967295,V=P+(B<<21&4294967295|B>>>11),B=U+(P^(V|~F))+k[12]+1700485571&4294967295,U=V+(B<<6&4294967295|B>>>26),B=F+(V^(U|~P))+k[3]+2399980690&4294967295,F=U+(B<<10&4294967295|B>>>22),B=P+(U^(F|~V))+k[10]+4293915773&4294967295,P=F+(B<<15&4294967295|B>>>17),B=V+(F^(P|~U))+k[1]+2240044497&4294967295,V=P+(B<<21&4294967295|B>>>11),B=U+(P^(V|~F))+k[8]+1873313359&4294967295,U=V+(B<<6&4294967295|B>>>26),B=F+(V^(U|~P))+k[15]+4264355552&4294967295,F=U+(B<<10&4294967295|B>>>22),B=P+(U^(F|~V))+k[6]+2734768916&4294967295,P=F+(B<<15&4294967295|B>>>17),B=V+(F^(P|~U))+k[13]+1309151649&4294967295,V=P+(B<<21&4294967295|B>>>11),B=U+(P^(V|~F))+k[4]+4149444226&4294967295,U=V+(B<<6&4294967295|B>>>26),B=F+(V^(U|~P))+k[11]+3174756917&4294967295,F=U+(B<<10&4294967295|B>>>22),B=P+(U^(F|~V))+k[2]+718787259&4294967295,P=F+(B<<15&4294967295|B>>>17),B=V+(F^(P|~U))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+U&4294967295,N.g[1]=N.g[1]+(P+(B<<21&4294967295|B>>>11))&4294967295,N.g[2]=N.g[2]+P&4294967295,N.g[3]=N.g[3]+F&4294967295}r.prototype.u=function(N,U){U===void 0&&(U=N.length);for(var V=U-this.blockSize,k=this.B,P=this.h,F=0;F<U;){if(P==0)for(;F<=V;)i(this,N,F),F+=this.blockSize;if(typeof N=="string"){for(;F<U;)if(k[P++]=N.charCodeAt(F++),P==this.blockSize){i(this,k),P=0;break}}else for(;F<U;)if(k[P++]=N[F++],P==this.blockSize){i(this,k),P=0;break}}this.h=P,this.o+=U},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var U=1;U<N.length-8;++U)N[U]=0;var V=8*this.o;for(U=N.length-8;U<N.length;++U)N[U]=V&255,V/=256;for(this.u(N),N=Array(16),U=V=0;4>U;++U)for(var k=0;32>k;k+=8)N[V++]=this.g[U]>>>k&255;return N};function o(N,U){var V=l;return Object.prototype.hasOwnProperty.call(V,N)?V[N]:V[N]=U(N)}function a(N,U){this.h=U;for(var V=[],k=!0,P=N.length-1;0<=P;P--){var F=N[P]|0;k&&F==U||(V[P]=F,k=!1)}this.g=V}var l={};function c(N){return-128<=N&&128>N?o(N,function(U){return new a([U|0],0>U?-1:0)}):new a([N|0],0>N?-1:0)}function f(N){if(isNaN(N)||!isFinite(N))return p;if(0>N)return S(f(-N));for(var U=[],V=1,k=0;N>=V;k++)U[k]=N/V|0,V*=4294967296;return new a(U,0)}function h(N,U){if(N.length==0)throw Error("number format error: empty string");if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(N.charAt(0)=="-")return S(h(N.substring(1),U));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var V=f(Math.pow(U,8)),k=p,P=0;P<N.length;P+=8){var F=Math.min(8,N.length-P),B=parseInt(N.substring(P,P+F),U);8>F?(F=f(Math.pow(U,F)),k=k.j(F).add(f(B))):(k=k.j(V),k=k.add(f(B)))}return k}var p=c(0),g=c(1),v=c(16777216);t=a.prototype,t.m=function(){if(x(this))return-S(this).m();for(var N=0,U=1,V=0;V<this.g.length;V++){var k=this.i(V);N+=(0<=k?k:4294967296+k)*U,U*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(T(this))return"0";if(x(this))return"-"+S(this).toString(N);for(var U=f(Math.pow(N,6)),V=this,k="";;){var P=G(V,U).g;V=C(V,P.j(U));var F=((0<V.g.length?V.g[0]:V.h)>>>0).toString(N);if(V=P,T(V))return F+k;for(;6>F.length;)F="0"+F;k=F+k}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function T(N){if(N.h!=0)return!1;for(var U=0;U<N.g.length;U++)if(N.g[U]!=0)return!1;return!0}function x(N){return N.h==-1}t.l=function(N){return N=C(this,N),x(N)?-1:T(N)?0:1};function S(N){for(var U=N.g.length,V=[],k=0;k<U;k++)V[k]=~N.g[k];return new a(V,~N.h).add(g)}t.abs=function(){return x(this)?S(this):this},t.add=function(N){for(var U=Math.max(this.g.length,N.g.length),V=[],k=0,P=0;P<=U;P++){var F=k+(this.i(P)&65535)+(N.i(P)&65535),B=(F>>>16)+(this.i(P)>>>16)+(N.i(P)>>>16);k=B>>>16,F&=65535,B&=65535,V[P]=B<<16|F}return new a(V,V[V.length-1]&-2147483648?-1:0)};function C(N,U){return N.add(S(U))}t.j=function(N){if(T(this)||T(N))return p;if(x(this))return x(N)?S(this).j(S(N)):S(S(this).j(N));if(x(N))return S(this.j(S(N)));if(0>this.l(v)&&0>N.l(v))return f(this.m()*N.m());for(var U=this.g.length+N.g.length,V=[],k=0;k<2*U;k++)V[k]=0;for(k=0;k<this.g.length;k++)for(var P=0;P<N.g.length;P++){var F=this.i(k)>>>16,B=this.i(k)&65535,ie=N.i(P)>>>16,ae=N.i(P)&65535;V[2*k+2*P]+=B*ae,L(V,2*k+2*P),V[2*k+2*P+1]+=F*ae,L(V,2*k+2*P+1),V[2*k+2*P+1]+=B*ie,L(V,2*k+2*P+1),V[2*k+2*P+2]+=F*ie,L(V,2*k+2*P+2)}for(k=0;k<U;k++)V[k]=V[2*k+1]<<16|V[2*k];for(k=U;k<2*U;k++)V[k]=0;return new a(V,0)};function L(N,U){for(;(N[U]&65535)!=N[U];)N[U+1]+=N[U]>>>16,N[U]&=65535,U++}function M(N,U){this.g=N,this.h=U}function G(N,U){if(T(U))throw Error("division by zero");if(T(N))return new M(p,p);if(x(N))return U=G(S(N),U),new M(S(U.g),S(U.h));if(x(U))return U=G(N,S(U)),new M(S(U.g),U.h);if(30<N.g.length){if(x(N)||x(U))throw Error("slowDivide_ only works with positive integers.");for(var V=g,k=U;0>=k.l(N);)V=$(V),k=$(k);var P=z(V,1),F=z(k,1);for(k=z(k,2),V=z(V,2);!T(k);){var B=F.add(k);0>=B.l(N)&&(P=P.add(V),F=B),k=z(k,1),V=z(V,1)}return U=C(N,P.j(U)),new M(P,U)}for(P=p;0<=N.l(U);){for(V=Math.max(1,Math.floor(N.m()/U.m())),k=Math.ceil(Math.log(V)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),F=f(V),B=F.j(U);x(B)||0<B.l(N);)V-=k,F=f(V),B=F.j(U);T(F)&&(F=g),P=P.add(F),N=C(N,B)}return new M(P,N)}t.A=function(N){return G(this,N).h},t.and=function(N){for(var U=Math.max(this.g.length,N.g.length),V=[],k=0;k<U;k++)V[k]=this.i(k)&N.i(k);return new a(V,this.h&N.h)},t.or=function(N){for(var U=Math.max(this.g.length,N.g.length),V=[],k=0;k<U;k++)V[k]=this.i(k)|N.i(k);return new a(V,this.h|N.h)},t.xor=function(N){for(var U=Math.max(this.g.length,N.g.length),V=[],k=0;k<U;k++)V[k]=this.i(k)^N.i(k);return new a(V,this.h^N.h)};function $(N){for(var U=N.g.length+1,V=[],k=0;k<U;k++)V[k]=N.i(k)<<1|N.i(k-1)>>>31;return new a(V,N.h)}function z(N,U){var V=U>>5;U%=32;for(var k=N.g.length-V,P=[],F=0;F<k;F++)P[F]=0<U?N.i(F+V)>>>U|N.i(F+V+1)<<32-U:N.i(F+V);return new a(P,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,J5=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=h,Jl=a}).apply(typeof O2<"u"?O2:typeof self<"u"?self:typeof window<"u"?window:{});var cg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var X5,Vd,Q5,Ng,oS,Z5,eq,tq;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,A,R){return _==Array.prototype||_==Object.prototype||(_[A]=R.value),_};function n(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof cg=="object"&&cg];for(var A=0;A<_.length;++A){var R=_[A];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(_,A){if(A)e:{var R=r;_=_.split(".");for(var H=0;H<_.length-1;H++){var Z=_[H];if(!(Z in R))break e;R=R[Z]}_=_[_.length-1],H=R[_],A=A(H),A!=H&&A!=null&&e(R,_,{configurable:!0,writable:!0,value:A})}}function o(_,A){_ instanceof String&&(_+="");var R=0,H=!1,Z={next:function(){if(!H&&R<_.length){var ue=R++;return{value:A(ue,_[ue]),done:!1}}return H=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}i("Array.prototype.values",function(_){return _||function(){return o(this,function(A,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(_){var A=typeof _;return A=A!="object"?A:_?Array.isArray(_)?"array":A:"null",A=="array"||A=="object"&&typeof _.length=="number"}function f(_){var A=typeof _;return A=="object"&&_!=null||A=="function"}function h(_,A,R){return _.call.apply(_.bind,arguments)}function p(_,A,R){if(!_)throw Error();if(2<arguments.length){var H=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,H),_.apply(A,Z)}}return function(){return _.apply(A,arguments)}}function g(_,A,R){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function v(_,A){var R=Array.prototype.slice.call(arguments,1);return function(){var H=R.slice();return H.push.apply(H,arguments),_.apply(this,H)}}function T(_,A){function R(){}R.prototype=A.prototype,_.aa=A.prototype,_.prototype=new R,_.prototype.constructor=_,_.Qb=function(H,Z,ue){for(var we=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)we[bt-2]=arguments[bt];return A.prototype[Z].apply(H,we)}}function x(_){const A=_.length;if(0<A){const R=Array(A);for(let H=0;H<A;H++)R[H]=_[H];return R}return[]}function S(_,A){for(let R=1;R<arguments.length;R++){const H=arguments[R];if(c(H)){const Z=_.length||0,ue=H.length||0;_.length=Z+ue;for(let we=0;we<ue;we++)_[Z+we]=H[we]}else _.push(H)}}class C{constructor(A,R){this.i=A,this.j=R,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function L(_){return/^[\s\xa0]*$/.test(_)}function M(){var _=l.navigator;return _&&(_=_.userAgent)?_:""}function G(_){return G[" "](_),_}G[" "]=function(){};var $=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function z(_,A,R){for(const H in _)A.call(R,_[H],H,_)}function N(_,A){for(const R in _)A.call(void 0,_[R],R,_)}function U(_){const A={};for(const R in _)A[R]=_[R];return A}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(_,A){let R,H;for(let Z=1;Z<arguments.length;Z++){H=arguments[Z];for(R in H)_[R]=H[R];for(let ue=0;ue<V.length;ue++)R=V[ue],Object.prototype.hasOwnProperty.call(H,R)&&(_[R]=H[R])}}function P(_){var A=1;_=_.split(":");const R=[];for(;0<A&&_.length;)R.push(_.shift()),A--;return _.length&&R.push(_.join(":")),R}function F(_){l.setTimeout(()=>{throw _},0)}function B(){var _=Se;let A=null;return _.g&&(A=_.g,_.g=_.g.next,_.g||(_.h=null),A.next=null),A}class ie{constructor(){this.h=this.g=null}add(A,R){const H=ae.get();H.set(A,R),this.h?this.h.next=H:this.g=H,this.h=H}}var ae=new C(()=>new J,_=>_.reset());class J{constructor(){this.next=this.g=this.h=null}set(A,R){this.h=A,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let le,_e=!1,Se=new ie,K=()=>{const _=l.Promise.resolve(void 0);le=()=>{_.then(W)}};var W=()=>{for(var _;_=B();){try{_.h.call(_.g)}catch(R){F(R)}var A=ae;A.j(_),100>A.h&&(A.h++,_.next=A.g,A.g=_)}_e=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(_,A){this.type=_,this.g=this.target=A,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var Ee=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var _=!1,A=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const R=()=>{};l.addEventListener("test",R,A),l.removeEventListener("test",R,A)}catch{}return _})();function Ce(_,A){if(j.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var R=this.type=_.type,H=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=A,A=_.relatedTarget){if($){e:{try{G(A.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(A=null)}}else R=="mouseover"?A=_.fromElement:R=="mouseout"&&(A=_.toElement);this.relatedTarget=A,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:Ie[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&Ce.aa.h.call(this)}}T(Ce,j);var Ie={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),_t=0;function fe(_,A,R,H,Z){this.listener=_,this.proxy=null,this.src=A,this.type=R,this.capture=!!H,this.ha=Z,this.key=++_t,this.da=this.fa=!1}function Ne(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Fe(_){this.src=_,this.g={},this.h=0}Fe.prototype.add=function(_,A,R,H,Z){var ue=_.toString();_=this.g[ue],_||(_=this.g[ue]=[],this.h++);var we=Kt(_,A,H,Z);return-1<we?(A=_[we],R||(A.fa=!1)):(A=new fe(A,this.src,ue,!!H,Z),A.fa=R,_.push(A)),A};function me(_,A){var R=A.type;if(R in _.g){var H=_.g[R],Z=Array.prototype.indexOf.call(H,A,void 0),ue;(ue=0<=Z)&&Array.prototype.splice.call(H,Z,1),ue&&(Ne(A),_.g[R].length==0&&(delete _.g[R],_.h--))}}function Kt(_,A,R,H){for(var Z=0;Z<_.length;++Z){var ue=_[Z];if(!ue.da&&ue.listener==A&&ue.capture==!!R&&ue.ha==H)return Z}return-1}var Xe="closure_lm_"+(1e6*Math.random()|0),qt={};function Yt(_,A,R,H,Z){if(Array.isArray(A)){for(var ue=0;ue<A.length;ue++)Yt(_,A[ue],R,H,Z);return null}return R=Eu(R),_&&_[ke]?_.K(A,R,f(H)?!!H.capture:!1,Z):kr(_,A,R,!1,H,Z)}function kr(_,A,R,H,Z,ue){if(!A)throw Error("Invalid event type");var we=f(Z)?!!Z.capture:!!Z,bt=al(_);if(bt||(_[Xe]=bt=new Fe(_)),R=bt.add(A,R,H,we,ue),R.proxy)return R;if(H=Do(),R.proxy=H,H.src=_,H.listener=R,_.addEventListener)Ee||(Z=we),Z===void 0&&(Z=!1),_.addEventListener(A.toString(),H,Z);else if(_.attachEvent)_.attachEvent(Va(A.toString()),H);else if(_.addListener&&_.removeListener)_.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Do(){function _(R){return A.call(_.src,_.listener,R)}const A=_f;return _}function Oo(_,A,R,H,Z){if(Array.isArray(A))for(var ue=0;ue<A.length;ue++)Oo(_,A[ue],R,H,Z);else H=f(H)?!!H.capture:!!H,R=Eu(R),_&&_[ke]?(_=_.i,A=String(A).toString(),A in _.g&&(ue=_.g[A],R=Kt(ue,R,H,Z),-1<R&&(Ne(ue[R]),Array.prototype.splice.call(ue,R,1),ue.length==0&&(delete _.g[A],_.h--)))):_&&(_=al(_))&&(A=_.g[A.toString()],_=-1,A&&(_=Kt(A,R,H,Z)),(R=-1<_?A[_]:null)&&to(R))}function to(_){if(typeof _!="number"&&_&&!_.da){var A=_.src;if(A&&A[ke])me(A.i,_);else{var R=_.type,H=_.proxy;A.removeEventListener?A.removeEventListener(R,H,_.capture):A.detachEvent?A.detachEvent(Va(R),H):A.addListener&&A.removeListener&&A.removeListener(H),(R=al(A))?(me(R,_),R.h==0&&(R.src=null,A[Xe]=null)):Ne(_)}}}function Va(_){return _ in qt?qt[_]:qt[_]="on"+_}function _f(_,A){if(_.da)_=!0;else{A=new Ce(A,this);var R=_.listener,H=_.ha||_.src;_.fa&&to(_),_=R.call(H,A)}return _}function al(_){return _=_[Xe],_ instanceof Fe?_:null}var An="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eu(_){return typeof _=="function"?_:(_[An]||(_[An]=function(A){return _.handleEvent(A)}),_[An])}function ce(){oe.call(this),this.i=new Fe(this),this.M=this,this.F=null}T(ce,oe),ce.prototype[ke]=!0,ce.prototype.removeEventListener=function(_,A,R,H){Oo(this,_,A,R,H)};function ye(_,A){var R,H=_.F;if(H)for(R=[];H;H=H.F)R.push(H);if(_=_.M,H=A.type||A,typeof A=="string")A=new j(A,_);else if(A instanceof j)A.target=A.target||_;else{var Z=A;A=new j(H,_),k(A,Z)}if(Z=!0,R)for(var ue=R.length-1;0<=ue;ue--){var we=A.g=R[ue];Z=De(we,H,!0,A)&&Z}if(we=A.g=_,Z=De(we,H,!0,A)&&Z,Z=De(we,H,!1,A)&&Z,R)for(ue=0;ue<R.length;ue++)we=A.g=R[ue],Z=De(we,H,!1,A)&&Z}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var _=this.i,A;for(A in _.g){for(var R=_.g[A],H=0;H<R.length;H++)Ne(R[H]);delete _.g[A],_.h--}}this.F=null},ce.prototype.K=function(_,A,R,H){return this.i.add(String(_),A,!1,R,H)},ce.prototype.L=function(_,A,R,H){return this.i.add(String(_),A,!0,R,H)};function De(_,A,R,H){if(A=_.i.g[String(A)],!A)return!0;A=A.concat();for(var Z=!0,ue=0;ue<A.length;++ue){var we=A[ue];if(we&&!we.da&&we.capture==R){var bt=we.listener,hn=we.ha||we.src;we.fa&&me(_.i,we),Z=bt.call(hn,H)!==!1&&Z}}return Z&&!H.defaultPrevented}function Qe(_,A,R){if(typeof _=="function")R&&(_=g(_,R));else if(_&&typeof _.handleEvent=="function")_=g(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:l.setTimeout(_,A||0)}function ft(_){_.g=Qe(()=>{_.g=null,_.i&&(_.i=!1,ft(_))},_.l);const A=_.h;_.h=null,_.m.apply(null,A)}class mr extends oe{constructor(A,R){super(),this.m=A,this.l=R,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:ft(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gr(_){oe.call(this),this.h=_,this.g={}}T(gr,oe);var On=[];function Xt(_){z(_.g,function(A,R){this.g.hasOwnProperty(R)&&to(A)},_),_.g={}}gr.prototype.N=function(){gr.aa.N.call(this),Xt(this)},gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=l.JSON.stringify,Et=l.JSON.parse,no=class{stringify(_){return l.JSON.stringify(_,void 0)}parse(_){return l.JSON.parse(_,void 0)}};function yr(){}yr.prototype.h=null;function yp(_){return _.h||(_.h=_.i())}function sl(){}var ro={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fa(){j.call(this,"d")}T(Fa,j);function Oi(){j.call(this,"c")}T(Oi,j);var ci={},za=null;function wu(){return za=za||new ce}ci.La="serverreachability";function bf(_){j.call(this,ci.La,_)}T(bf,j);function Lo(_){const A=wu();ye(A,new bf(A))}ci.STAT_EVENT="statevent";function Ba(_,A){j.call(this,ci.STAT_EVENT,_),this.stat=A}T(Ba,j);function Kn(_){const A=wu();ye(A,new Ba(A,_))}ci.Ma="timingevent";function Ef(_,A){j.call(this,ci.Ma,_),this.size=A}T(Ef,j);function qa(_,A){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){_()},A)}function Ha(){this.g=!0}Ha.prototype.xa=function(){this.g=!1};function wf(_,A,R,H,Z,ue){_.info(function(){if(_.g)if(ue)for(var we="",bt=ue.split("&"),hn=0;hn<bt.length;hn++){var Ze=bt[hn].split("=");if(1<Ze.length){var Vn=Ze[0];Ze=Ze[1];var Fn=Vn.split("_");we=2<=Fn.length&&Fn[1]=="type"?we+(Vn+"="+Ze+"&"):we+(Vn+"=redacted&")}}else we=null;else we=ue;return"XMLHTTP REQ ("+H+") [attempt "+Z+"]: "+A+`
`+R+`
`+we})}function Tf(_,A,R,H,Z,ue,we){_.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+Z+"]: "+A+`
`+R+`
`+ue+" "+we})}function Uo(_,A,R,H){_.info(function(){return"XMLHTTP TEXT ("+A+"): "+io(_,R)+(H?" "+H:"")})}function vp(_,A){_.info(function(){return"TIMEOUT: "+A})}Ha.prototype.info=function(){};function io(_,A){if(!_.g)return A;if(!A)return null;try{var R=JSON.parse(A);if(R){for(_=0;_<R.length;_++)if(Array.isArray(R[_])){var H=R[_];if(!(2>H.length)){var Z=H[1];if(Array.isArray(Z)&&!(1>Z.length)){var ue=Z[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(var we=1;we<Z.length;we++)Z[we]=""}}}}return Ln(R)}catch{return A}}var Qt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oo;function ja(){}T(ja,yr),ja.prototype.g=function(){return new XMLHttpRequest},ja.prototype.i=function(){return{}},oo=new ja;function ao(_,A,R,H){this.j=_,this.i=A,this.l=R,this.R=H||1,this.U=new gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _p}function _p(){this.i=null,this.g="",this.h=!1}var Sf={},Vo={};function ll(_,A,R){_.L=1,_.v=fl(Zt(A)),_.m=R,_.P=!0,Fo(_,null)}function Fo(_,A){_.F=Date.now(),Li(_),_.A=Zt(_.v);var R=_.A,H=_.R;Array.isArray(H)||(H=[String(H)]),qo(R.i,"t",H),_.C=0,R=_.j.J,_.h=new _p,_.g=Op(_.j,R?A:null,!_.m),0<_.O&&(_.M=new mr(g(_.Y,_,_.g),_.O)),A=_.U,R=_.g,H=_.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(On[0]=Z.toString()),Z=On);for(var ue=0;ue<Z.length;ue++){var we=Yt(R,Z[ue],H||A.handleEvent,!1,A.h||A);if(!we)break;A.g[we.key]=we}A=_.H?U(_.H):{},_.m?(_.u||(_.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,A)):(_.u="GET",_.g.ea(_.A,_.u,null,A)),Lo(),wf(_.i,_.u,_.A,_.l,_.R,_.m)}ao.prototype.ca=function(_){_=_.target;const A=this.M;A&&br(_)==3?A.j():this.Y(_)},ao.prototype.Y=function(_){try{if(_==this.g)e:{const Fn=br(this.g);var A=this.g.Ba();const rs=this.g.Z();if(!(3>Fn)&&(Fn!=3||this.g&&(this.h.h||this.g.oa()||pl(this.g)))){this.J||Fn!=4||A==7||(A==8||0>=rs?Lo(3):Lo(2)),Tu(this);var R=this.g.Z();this.X=R;t:if(zo(this)){var H=pl(this.g);_="";var Z=H.length,ue=br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vr(this),$a(this);var we="";break t}this.h.i=new l.TextDecoder}for(A=0;A<Z;A++)this.h.h=!0,_+=this.h.i.decode(H[A],{stream:!(ue&&A==Z-1)});H.length=0,this.h.g+=_,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=R==200,Tf(this.i,this.u,this.A,this.l,this.R,Fn,R),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,hn=this.g;if((bt=hn.g?hn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(bt)){var Ze=bt;break t}}Ze=null}if(R=Ze)Uo(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,so(this,R);else{this.o=!1,this.s=3,Kn(12),vr(this),$a(this);break e}}if(this.P){R=!0;let Nr;for(;!this.J&&this.C<we.length;)if(Nr=ul(this,we),Nr==Vo){Fn==4&&(this.s=4,Kn(14),R=!1),Uo(this.i,this.l,null,"[Incomplete Response]");break}else if(Nr==Sf){this.s=4,Kn(15),Uo(this.i,this.l,we,"[Invalid Chunk]"),R=!1;break}else Uo(this.i,this.l,Nr,null),so(this,Nr);if(zo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fn!=4||we.length!=0||this.h.h||(this.s=1,Kn(16),R=!1),this.o=this.o&&R,!R)Uo(this.i,this.l,we,"[Invalid Chunked Response]"),vr(this),$a(this);else if(0<we.length&&!this.W){this.W=!0;var Vn=this.j;Vn.g==this&&Vn.ba&&!Vn.M&&(Vn.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),Of(Vn),Vn.M=!0,Kn(11))}}else Uo(this.i,this.l,we,null),so(this,we);Fn==4&&vr(this),this.o&&!this.J&&(Fn==4?Mp(this.j,this):(this.o=!1,Li(this)))}else Ap(this.g),R==400&&0<we.indexOf("Unknown SID")?(this.s=3,Kn(12)):(this.s=0,Kn(13)),vr(this),$a(this)}}}catch{}finally{}};function zo(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function ul(_,A){var R=_.C,H=A.indexOf(`
`,R);return H==-1?Vo:(R=Number(A.substring(R,H)),isNaN(R)?Sf:(H+=1,H+R>A.length?Vo:(A=A.slice(H,H+R),_.C=H+R,A)))}ao.prototype.cancel=function(){this.J=!0,vr(this)};function Li(_){_.S=Date.now()+_.I,un(_,_.I)}function un(_,A){if(_.B!=null)throw Error("WatchDog timer not null");_.B=qa(g(_.ba,_),A)}function Tu(_){_.B&&(l.clearTimeout(_.B),_.B=null)}ao.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(vp(this.i,this.A),this.L!=2&&(Lo(),Kn(17)),vr(this),this.s=2,$a(this)):un(this,this.S-_)};function $a(_){_.j.G==0||_.J||Mp(_.j,_)}function vr(_){Tu(_);var A=_.M;A&&typeof A.ma=="function"&&A.ma(),_.M=null,Xt(_.U),_.g&&(A=_.g,_.g=null,A.abort(),A.ma())}function so(_,A){try{var R=_.j;if(R.G!=0&&(R.g==_||Ga(R.h,_))){if(!_.K&&Ga(R.h,_)&&R.G==3){try{var H=R.Da.g.parse(A)}catch{H=null}if(Array.isArray(H)&&H.length==3){var Z=H;if(Z[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<_.F)ts(R),es(R);else break e;Df(R),Kn(18)}}else R.za=Z[1],0<R.za-R.T&&37500>Z[2]&&R.F&&R.v==0&&!R.C&&(R.C=qa(g(R.Za,R),6e3));if(1>=bp(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else jo(R,11)}else if((_.K||R.g==_)&&ts(R),!L(A))for(Z=R.Da.g.parse(A),A=0;A<Z.length;A++){let Ze=Z[A];if(R.T=Ze[0],Ze=Ze[1],R.G==2)if(Ze[0]=="c"){R.K=Ze[1],R.ia=Ze[2];const Vn=Ze[3];Vn!=null&&(R.la=Vn,R.j.info("VER="+R.la));const Fn=Ze[4];Fn!=null&&(R.Aa=Fn,R.j.info("SVER="+R.Aa));const rs=Ze[5];rs!=null&&typeof rs=="number"&&0<rs&&(H=1.5*rs,R.L=H,R.j.info("backChannelRequestTimeoutMs_="+H)),H=R;const Nr=_.g;if(Nr){const yl=Nr.g?Nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yl){var ue=H.h;ue.g||yl.indexOf("spdy")==-1&&yl.indexOf("quic")==-1&&yl.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(Ka(ue,ue.h),ue.h=null))}if(H.D){const $o=Nr.g?Nr.g.getResponseHeader("X-HTTP-Session-Id"):null;$o&&(H.ya=$o,dt(H.I,H.D,$o))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-_.F,R.j.info("Handshake RTT: "+R.R+"ms")),H=R;var we=_;if(H.qa=Dp(H,H.J?H.ia:null,H.W),we.K){fi(H.h,we);var bt=we,hn=H.L;hn&&(bt.I=hn),bt.B&&(Tu(bt),Li(bt)),H.g=we}else Pp(H);0<R.i.length&&ku(R)}else Ze[0]!="stop"&&Ze[0]!="close"||jo(R,7);else R.G==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?jo(R,7):Mf(R):Ze[0]!="noop"&&R.l&&R.l.ta(Ze),R.v=0)}}Lo(4)}catch{}}var E0=class{constructor(_,A){this.g=_,this.map=A}};function xf(_){this.l=_||10,l.PerformanceNavigationTiming?(_=l.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Af(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function bp(_){return _.h?1:_.g?_.g.size:0}function Ga(_,A){return _.h?_.h==A:_.g?_.g.has(A):!1}function Ka(_,A){_.g?_.g.add(A):_.h=A}function fi(_,A){_.h&&_.h==A?_.h=null:_.g&&_.g.has(A)&&_.g.delete(A)}xf.prototype.cancel=function(){if(this.i=_r(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function _r(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let A=_.i;for(const R of _.g.values())A=A.concat(R.D);return A}return x(_.i)}function Ep(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(c(_)){for(var A=[],R=_.length,H=0;H<R;H++)A.push(_[H]);return A}A=[],R=0;for(H in _)A[R++]=_[H];return A}function w0(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(c(_)||typeof _=="string"){var A=[];_=_.length;for(var R=0;R<_;R++)A.push(R);return A}A=[],R=0;for(const H in _)A[R++]=H;return A}}}function Su(_,A){if(_.forEach&&typeof _.forEach=="function")_.forEach(A,void 0);else if(c(_)||typeof _=="string")Array.prototype.forEach.call(_,A,void 0);else for(var R=w0(_),H=Ep(_),Z=H.length,ue=0;ue<Z;ue++)A.call(void 0,H[ue],R&&R[ue],_)}var Cf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xu(_,A){if(_){_=_.split("&");for(var R=0;R<_.length;R++){var H=_[R].indexOf("="),Z=null;if(0<=H){var ue=_[R].substring(0,H);Z=_[R].substring(H+1)}else ue=_[R];A(ue,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Bo(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Bo){this.h=_.h,Ya(this,_.j),this.o=_.o,this.g=_.g,cl(this,_.s),this.l=_.l;var A=_.i,R=new lo;R.i=A.i,A.g&&(R.g=new Map(A.g),R.h=A.h),Au(this,R),this.m=_.m}else _&&(A=String(_).match(Cf))?(this.h=!1,Ya(this,A[1]||"",!0),this.o=Wa(A[2]||""),this.g=Wa(A[3]||"",!0),cl(this,A[4]),this.l=Wa(A[5]||"",!0),Au(this,A[6]||"",!0),this.m=Wa(A[7]||"")):(this.h=!1,this.i=new lo(null,this.h))}Bo.prototype.toString=function(){var _=[],A=this.j;A&&_.push(di(A,If,!0),":");var R=this.g;return(R||A=="file")&&(_.push("//"),(A=this.o)&&_.push(di(A,If,!0),"@"),_.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&_.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&_.push("/"),_.push(di(R,R.charAt(0)=="/"?Rf:wp,!0))),(R=this.i.toString())&&_.push("?",R),(R=this.m)&&_.push("#",di(R,x0)),_.join("")};function Zt(_){return new Bo(_)}function Ya(_,A,R){_.j=R?Wa(A,!0):A,_.j&&(_.j=_.j.replace(/:$/,""))}function cl(_,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);_.s=A}else _.s=null}function Au(_,A,R){A instanceof lo?(_.i=A,Tp(_.i,_.h)):(R||(A=di(A,S0)),_.i=new lo(A,_.h))}function dt(_,A,R){_.i.set(A,R)}function fl(_){return dt(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function Wa(_,A){return _?A?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function di(_,A,R){return typeof _=="string"?(_=encodeURI(_).replace(A,T0),R&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function T0(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var If=/[#\/\?@]/g,wp=/[#\?:]/g,Rf=/[#\?]/g,S0=/[#\?@]/g,x0=/#/g;function lo(_,A){this.h=this.g=null,this.i=_||null,this.j=!!A}function Un(_){_.g||(_.g=new Map,_.h=0,_.i&&xu(_.i,function(A,R){_.add(decodeURIComponent(A.replace(/\+/g," ")),R)}))}t=lo.prototype,t.add=function(_,A){Un(this),this.i=null,_=$r(this,_);var R=this.g.get(_);return R||this.g.set(_,R=[]),R.push(A),this.h+=1,this};function Cu(_,A){Un(_),A=$r(_,A),_.g.has(A)&&(_.i=null,_.h-=_.g.get(A).length,_.g.delete(A))}function Iu(_,A){return Un(_),A=$r(_,A),_.g.has(A)}t.forEach=function(_,A){Un(this),this.g.forEach(function(R,H){R.forEach(function(Z){_.call(A,Z,H,this)},this)},this)},t.na=function(){Un(this);const _=Array.from(this.g.values()),A=Array.from(this.g.keys()),R=[];for(let H=0;H<A.length;H++){const Z=_[H];for(let ue=0;ue<Z.length;ue++)R.push(A[H])}return R},t.V=function(_){Un(this);let A=[];if(typeof _=="string")Iu(this,_)&&(A=A.concat(this.g.get($r(this,_))));else{_=Array.from(this.g.values());for(let R=0;R<_.length;R++)A=A.concat(_[R])}return A},t.set=function(_,A){return Un(this),this.i=null,_=$r(this,_),Iu(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[A]),this.h+=1,this},t.get=function(_,A){return _?(_=this.V(_),0<_.length?String(_[0]):A):A};function qo(_,A,R){Cu(_,A),0<R.length&&(_.i=null,_.g.set($r(_,A),x(R)),_.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],A=Array.from(this.g.keys());for(var R=0;R<A.length;R++){var H=A[R];const ue=encodeURIComponent(String(H)),we=this.V(H);for(H=0;H<we.length;H++){var Z=ue;we[H]!==""&&(Z+="="+encodeURIComponent(String(we[H]))),_.push(Z)}}return this.i=_.join("&")};function $r(_,A){return A=String(A),_.j&&(A=A.toLowerCase()),A}function Tp(_,A){A&&!_.j&&(Un(_),_.i=null,_.g.forEach(function(R,H){var Z=H.toLowerCase();H!=Z&&(Cu(this,H),qo(this,Z,R))},_)),_.j=A}function Pf(_,A){const R=new Ha;if(l.Image){const H=new Image;H.onload=v(Mr,R,"TestLoadImage: loaded",!0,A,H),H.onerror=v(Mr,R,"TestLoadImage: error",!1,A,H),H.onabort=v(Mr,R,"TestLoadImage: abort",!1,A,H),H.ontimeout=v(Mr,R,"TestLoadImage: timeout",!1,A,H),l.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=_}else A(!1)}function Sp(_,A){const R=new Ha,H=new AbortController,Z=setTimeout(()=>{H.abort(),Mr(R,"TestPingServer: timeout",!1,A)},1e4);fetch(_,{signal:H.signal}).then(ue=>{clearTimeout(Z),ue.ok?Mr(R,"TestPingServer: ok",!0,A):Mr(R,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(Z),Mr(R,"TestPingServer: error",!1,A)})}function Mr(_,A,R,H,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),H(R)}catch{}}function Ui(){this.g=new no}function kf(_,A,R){const H=R||"";try{Su(_,function(Z,ue){let we=Z;f(Z)&&(we=Ln(Z)),A.push(H+ue+"="+encodeURIComponent(we))})}catch(Z){throw A.push(H+"type="+encodeURIComponent("_badmap")),Z}}function uo(_){this.l=_.Ub||null,this.j=_.eb||!1}T(uo,yr),uo.prototype.g=function(){return new Gr(this.l,this.j)},uo.prototype.i=(function(_){return function(){return _}})({});function Gr(_,A){ce.call(this),this.D=_,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Gr,ce),t=Gr.prototype,t.open=function(_,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=A,this.readyState=1,Ja(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(A.body=_),(this.D||l).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,co(this)),this.readyState=0},t.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Ja(this)),this.g&&(this.readyState=3,Ja(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ru(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ru(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}t.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var A=_.value?_.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!_.done}))&&(this.response=this.responseText+=A)}_.done?co(this):Ja(this),this.readyState==3&&Ru(this)}},t.Ra=function(_){this.g&&(this.response=this.responseText=_,co(this))},t.Qa=function(_){this.g&&(this.response=_,co(this))},t.ga=function(){this.g&&co(this)};function co(_){_.readyState=4,_.l=null,_.j=null,_.v=null,Ja(_)}t.setRequestHeader=function(_,A){this.u.append(_,A)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],A=this.h.entries();for(var R=A.next();!R.done;)R=R.value,_.push(R[0]+": "+R[1]),R=A.next();return _.join(`\r
`)};function Ja(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(Gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function dl(_){let A="";return z(_,function(R,H){A+=H,A+=":",A+=R,A+=`\r
`}),A}function Xa(_,A,R){e:{for(H in R){var H=!1;break e}H=!0}H||(R=dl(R),typeof _=="string"?R!=null&&encodeURIComponent(String(R)):dt(_,A,R))}function Ut(_){ce.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ut,ce);var ar=/^https?$/i,Ho=["POST","PUT"];t=Ut.prototype,t.Ha=function(_){this.J=_},t.ea=function(_,A,R,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);A=A?A.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oo.g(),this.v=this.o?yp(this.o):yp(oo),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(A,String(_),!0),this.B=!1}catch(ue){hl(this,ue);return}if(_=R||"",R=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var Z in H)R.set(Z,H[Z]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const ue of H.keys())R.set(ue,H.get(ue));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(R.keys()).find(ue=>ue.toLowerCase()=="content-type"),Z=l.FormData&&_ instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Ho,A,void 0))||H||Z||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,we]of R)this.g.setRequestHeader(ue,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pu(this),this.u=!0,this.g.send(_),this.u=!1}catch(ue){hl(this,ue)}};function hl(_,A){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=A,_.m=5,Qa(_),Za(_)}function Qa(_){_.A||(_.A=!0,ye(_,"complete"),ye(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,ye(this,"complete"),ye(this,"abort"),Za(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Za(this,!0)),Ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?xp(this):this.bb())},t.bb=function(){xp(this)};function xp(_){if(_.h&&typeof a<"u"&&(!_.v[1]||br(_)!=4||_.Z()!=2)){if(_.u&&br(_)==4)Qe(_.Ea,0,_);else if(ye(_,"readystatechange"),br(_)==4){_.h=!1;try{const we=_.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var R;if(!(R=A)){var H;if(H=we===0){var Z=String(_.D).match(Cf)[1]||null;!Z&&l.self&&l.self.location&&(Z=l.self.location.protocol.slice(0,-1)),H=!ar.test(Z?Z.toLowerCase():"")}R=H}if(R)ye(_,"complete"),ye(_,"success");else{_.m=6;try{var ue=2<br(_)?_.g.statusText:""}catch{ue=""}_.l=ue+" ["+_.Z()+"]",Qa(_)}}finally{Za(_)}}}}function Za(_,A){if(_.g){Pu(_);const R=_.g,H=_.v[0]?()=>{}:null;_.g=null,_.v=null,A||ye(_,"ready");try{R.onreadystatechange=H}catch{}}}function Pu(_){_.I&&(l.clearTimeout(_.I),_.I=null)}t.isActive=function(){return!!this.g};function br(_){return _.g?_.g.readyState:0}t.Z=function(){try{return 2<br(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(_){if(this.g){var A=this.g.responseText;return _&&A.indexOf(_)==0&&(A=A.substring(_.length)),Et(A)}};function pl(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Ap(_){const A={};_=(_.g&&2<=br(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<_.length;H++){if(L(_[H]))continue;var R=P(_[H]);const Z=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const ue=A[Z]||[];A[Z]=ue,ue.push(R)}N(A,function(H){return H.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ml(_,A,R){return R&&R.internalChannelParams&&R.internalChannelParams[_]||A}function Cp(_){this.Aa=0,this.i=[],this.j=new Ha,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ml("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ml("baseRetryDelayMs",5e3,_),this.cb=ml("retryDelaySeedMs",1e4,_),this.Wa=ml("forwardChannelMaxRetries",2,_),this.wa=ml("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new xf(_&&_.concurrentRequestLimit),this.Da=new Ui,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Cp.prototype,t.la=8,t.G=1,t.connect=function(_,A,R,H){Kn(0),this.W=_,this.H=A||{},R&&H!==void 0&&(this.H.OSID=R,this.H.OAID=H),this.F=this.X,this.I=Dp(this,null,this.W),ku(this)};function Mf(_){if(Ip(_),_.G==3){var A=_.U++,R=Zt(_.I);if(dt(R,"SID",_.K),dt(R,"RID",A),dt(R,"TYPE","terminate"),gl(_,R),A=new ao(_,_.j,A),A.L=2,A.v=fl(Zt(R)),R=!1,l.navigator&&l.navigator.sendBeacon)try{R=l.navigator.sendBeacon(A.v.toString(),"")}catch{}!R&&l.Image&&(new Image().src=A.v,R=!0),R||(A.g=Op(A.j,null),A.g.ea(A.v)),A.F=Date.now(),Li(A)}Lf(_)}function es(_){_.g&&(Of(_),_.g.cancel(),_.g=null)}function Ip(_){es(_),_.u&&(l.clearTimeout(_.u),_.u=null),ts(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&l.clearTimeout(_.s),_.s=null)}function ku(_){if(!Af(_.h)&&!_.s){_.s=!0;var A=_.Ga;le||K(),_e||(le(),_e=!0),Se.add(A,_),_.B=0}}function A0(_,A){return bp(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=A.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=qa(g(_.Ga,_,A),Np(_,_.B)),_.B++,!0)}t.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const Z=new ao(this,this.j,_);let ue=this.o;if(this.S&&(ue?(ue=U(ue),k(ue,this.S)):ue=this.S),this.m!==null||this.O||(Z.H=ue,ue=null),this.P)e:{for(var A=0,R=0;R<this.i.length;R++){t:{var H=this.i[R];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break t}H=void 0}if(H===void 0)break;if(A+=H,4096<A){A=R;break e}if(A===4096||R===this.i.length-1){A=R+1;break e}}A=1e3}else A=1e3;A=Nf(this,Z,A),R=Zt(this.I),dt(R,"RID",_),dt(R,"CVER",22),this.D&&dt(R,"X-HTTP-Session-Id",this.D),gl(this,R),ue&&(this.O?A="headers="+encodeURIComponent(String(dl(ue)))+"&"+A:this.m&&Xa(R,this.m,ue)),Ka(this.h,Z),this.Ua&&dt(R,"TYPE","init"),this.P?(dt(R,"$req",A),dt(R,"SID","null"),Z.T=!0,ll(Z,R,null)):ll(Z,R,A),this.G=2}}else this.G==3&&(_?Rp(this,_):this.i.length==0||Af(this.h)||Rp(this))};function Rp(_,A){var R;A?R=A.l:R=_.U++;const H=Zt(_.I);dt(H,"SID",_.K),dt(H,"RID",R),dt(H,"AID",_.T),gl(_,H),_.m&&_.o&&Xa(H,_.m,_.o),R=new ao(_,_.j,R,_.B+1),_.m===null&&(R.H=_.o),A&&(_.i=A.D.concat(_.i)),A=Nf(_,R,1e3),R.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),Ka(_.h,R),ll(R,H,A)}function gl(_,A){_.H&&z(_.H,function(R,H){dt(A,H,R)}),_.l&&Su({},function(R,H){dt(A,H,R)})}function Nf(_,A,R){R=Math.min(_.i.length,R);var H=_.l?g(_.l.Na,_.l,_):null;e:{var Z=_.i;let ue=-1;for(;;){const we=["count="+R];ue==-1?0<R?(ue=Z[0].g,we.push("ofs="+ue)):ue=0:we.push("ofs="+ue);let bt=!0;for(let hn=0;hn<R;hn++){let Ze=Z[hn].g;const Vn=Z[hn].map;if(Ze-=ue,0>Ze)ue=Math.max(0,Z[hn].g-100),bt=!1;else try{kf(Vn,we,"req"+Ze+"_")}catch{H&&H(Vn)}}if(bt){H=we.join("&");break e}}}return _=_.i.splice(0,R),A.D=_,H}function Pp(_){if(!_.g&&!_.u){_.Y=1;var A=_.Fa;le||K(),_e||(le(),_e=!0),Se.add(A,_),_.v=0}}function Df(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=qa(g(_.Fa,_),Np(_,_.v)),_.v++,!0)}t.Fa=function(){if(this.u=null,kp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=qa(g(this.ab,this),_)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kn(10),es(this),kp(this))};function Of(_){_.A!=null&&(l.clearTimeout(_.A),_.A=null)}function kp(_){_.g=new ao(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var A=Zt(_.qa);dt(A,"RID","rpc"),dt(A,"SID",_.K),dt(A,"AID",_.T),dt(A,"CI",_.F?"0":"1"),!_.F&&_.ja&&dt(A,"TO",_.ja),dt(A,"TYPE","xmlhttp"),gl(_,A),_.m&&_.o&&Xa(A,_.m,_.o),_.L&&(_.g.I=_.L);var R=_.g;_=_.ia,R.L=1,R.v=fl(Zt(A)),R.m=null,R.P=!0,Fo(R,_)}t.Za=function(){this.C!=null&&(this.C=null,es(this),Df(this),Kn(19))};function ts(_){_.C!=null&&(l.clearTimeout(_.C),_.C=null)}function Mp(_,A){var R=null;if(_.g==A){ts(_),Of(_),_.g=null;var H=2}else if(Ga(_.h,A))R=A.D,fi(_.h,A),H=1;else return;if(_.G!=0){if(A.o)if(H==1){R=A.m?A.m.length:0,A=Date.now()-A.F;var Z=_.B;H=wu(),ye(H,new Ef(H,R)),ku(_)}else Pp(_);else if(Z=A.s,Z==3||Z==0&&0<A.X||!(H==1&&A0(_,A)||H==2&&Df(_)))switch(R&&0<R.length&&(A=_.h,A.i=A.i.concat(R)),Z){case 1:jo(_,5);break;case 4:jo(_,10);break;case 3:jo(_,6);break;default:jo(_,2)}}}function Np(_,A){let R=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(R*=2),R*A}function jo(_,A){if(_.j.info("Error code "+A),A==2){var R=g(_.fb,_),H=_.Xa;const Z=!H;H=new Bo(H||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ya(H,"https"),fl(H),Z?Pf(H.toString(),R):Sp(H.toString(),R)}else Kn(2);_.G=0,_.l&&_.l.sa(A),Lf(_),Ip(_)}t.fb=function(_){_?(this.j.info("Successfully pinged google.com"),Kn(2)):(this.j.info("Failed to ping google.com"),Kn(1))};function Lf(_){if(_.G=0,_.ka=[],_.l){const A=_r(_.h);(A.length!=0||_.i.length!=0)&&(S(_.ka,A),S(_.ka,_.i),_.h.i.length=0,x(_.i),_.i.length=0),_.l.ra()}}function Dp(_,A,R){var H=R instanceof Bo?Zt(R):new Bo(R);if(H.g!="")A&&(H.g=A+"."+H.g),cl(H,H.s);else{var Z=l.location;H=Z.protocol,A=A?A+"."+Z.hostname:Z.hostname,Z=+Z.port;var ue=new Bo(null);H&&Ya(ue,H),A&&(ue.g=A),Z&&cl(ue,Z),R&&(ue.l=R),H=ue}return R=_.D,A=_.ya,R&&A&&dt(H,R,A),dt(H,"VER",_.la),gl(_,H),H}function Op(_,A,R){if(A&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=_.Ca&&!_.pa?new Ut(new uo({eb:R})):new Ut(_.pa),A.Ha(_.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lp(){}t=Lp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Mu(){}Mu.prototype.g=function(_,A){return new Er(_,A)};function Er(_,A){ce.call(this),this.g=new Cp(A),this.l=_,this.h=A&&A.messageUrlParams||null,_=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(_?_["X-WebChannel-Content-Type"]=A.messageContentType:_={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(_?_["X-WebChannel-Client-Profile"]=A.va:_={"X-WebChannel-Client-Profile":A.va}),this.g.S=_,(_=A&&A.Sb)&&!L(_)&&(this.g.m=_),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!L(A)&&(this.g.D=A,_=this.h,_!==null&&A in _&&(_=this.h,A in _&&delete _[A])),this.j=new ns(this)}T(Er,ce),Er.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Er.prototype.close=function(){Mf(this.g)},Er.prototype.o=function(_){var A=this.g;if(typeof _=="string"){var R={};R.__data__=_,_=R}else this.u&&(R={},R.__data__=Ln(_),_=R);A.i.push(new E0(A.Ya++,_)),A.G==3&&ku(A)},Er.prototype.N=function(){this.g.l=null,delete this.j,Mf(this.g),delete this.g,Er.aa.N.call(this)};function Up(_){Fa.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var A=_.__sm__;if(A){e:{for(const R in A){_=R;break e}_=void 0}(this.i=_)&&(_=this.i,A=A!==null&&_ in A?A[_]:void 0),this.data=A}else this.data=_}T(Up,Fa);function Vp(){Oi.call(this),this.status=1}T(Vp,Oi);function ns(_){this.g=_}T(ns,Lp),ns.prototype.ua=function(){ye(this.g,"a")},ns.prototype.ta=function(_){ye(this.g,new Up(_))},ns.prototype.sa=function(_){ye(this.g,new Vp)},ns.prototype.ra=function(){ye(this.g,"b")},Mu.prototype.createWebChannel=Mu.prototype.g,Er.prototype.send=Er.prototype.o,Er.prototype.open=Er.prototype.m,Er.prototype.close=Er.prototype.close,tq=function(){return new Mu},eq=function(){return wu()},Z5=ci,oS={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qt.NO_ERROR=0,Qt.TIMEOUT=8,Qt.HTTP_ERROR=6,Ng=Qt,Yn.COMPLETE="complete",Q5=Yn,sl.EventType=ro,ro.OPEN="a",ro.CLOSE="b",ro.ERROR="c",ro.MESSAGE="d",ce.prototype.listen=ce.prototype.K,Vd=sl,Ut.prototype.listenOnce=Ut.prototype.L,Ut.prototype.getLastError=Ut.prototype.Ka,Ut.prototype.getLastErrorCode=Ut.prototype.Ba,Ut.prototype.getStatus=Ut.prototype.Z,Ut.prototype.getResponseJson=Ut.prototype.Oa,Ut.prototype.getResponseText=Ut.prototype.oa,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Ha,X5=Ut}).apply(typeof cg<"u"?cg:typeof self<"u"?self:typeof window<"u"?window:{});const L2="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ur.UNAUTHENTICATED=new ur(null),ur.GOOGLE_CREDENTIALS=new ur("google-credentials-uid"),ur.FIRST_PARTY=new ur("first-party-uid"),ur.MOCK_USER=new ur("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=new jA("@firebase/firestore");function Md(){return lu.logLevel}function Re(t,...e){if(lu.logLevel<=lt.DEBUG){const n=e.map(i1);lu.debug(`Firestore (${df}): ${t}`,...n)}}function Ia(t,...e){if(lu.logLevel<=lt.ERROR){const n=e.map(i1);lu.error(`Firestore (${df}): ${t}`,...n)}}function jc(t,...e){if(lu.logLevel<=lt.WARN){const n=e.map(i1);lu.warn(`Firestore (${df}): ${t}`,...n)}}function i1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t="Unexpected state"){const e=`FIRESTORE (${df}) INTERNAL ASSERTION FAILED: `+t;throw Ia(e),new Error(e)}function At(t,e){t||qe()}function Ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends No{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pye{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ur.UNAUTHENTICATED)))}shutdown(){}}class kye{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Mye{constructor(e){this.t=e,this.currentUser=ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){At(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new Xl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Xl,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const c=o;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Xl)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string"),new nq(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string"),new ur(e)}}class Nye{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ur.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Dye{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Nye(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(ur.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Oye{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lye{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){At(this.o===void 0);const r=o=>{o.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,Re("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(At(typeof n.token=="string"),this.R=n.token,new Oye(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uye(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Uye(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function mt(t,e){return t<e?-1:t>e?1:0}function $c(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ue(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ue(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ue(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pn.fromMillis(Date.now())}static fromDate(e){return Pn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Pn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?mt(this.nanoseconds,e.nanoseconds):mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new $e(e)}static min(){return new $e(new Pn(0,0))}static max(){return new $e(new Pn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,r){n===void 0?n=0:n>e.length&&qe(),r===void 0?r=e.length-n:r>e.length-n&&qe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Sh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sh?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class on extends Sh{construct(e,n,r){return new on(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ue(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new on(n)}static emptyPath(){return new on([])}}const Vye=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rr extends Sh{construct(e,n,r){return new rr(e,n,r)}static isValidIdentifier(e){return Vye.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ue(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Ue(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ue(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(o(),i++)}if(o(),a)throw new Ue(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rr(n)}static emptyPath(){return new rr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(on.fromString(e))}static fromName(e){return new Ve(on.fromString(e).popFirst(5))}static empty(){return new Ve(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&on.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return on.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new on(e.slice()))}}function Fye(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=$e.fromTimestamp(r===1e9?new Pn(n+1,0):new Pn(n,r));return new Ys(i,Ve.empty(),e)}function zye(t){return new Ys(t.readTime,t.key,-1)}class Ys{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ys($e.min(),Ve.empty(),-1)}static max(){return new Ys($e.max(),Ve.empty(),-1)}}function Bye(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ve.comparator(t.documentKey,e.documentKey),n!==0?n:mt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qye="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hye{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fp(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==qye)throw t;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ge(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ge?n:ge.resolve(n)}catch(n){return ge.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ge.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ge.reject(n)}static resolve(e){return new ge(((n,r)=>{n(e)}))}static reject(e){return new ge(((n,r)=>{r(e)}))}static waitFor(e){return new ge(((n,r)=>{let i=0,o=0,a=!1;e.forEach((l=>{++i,l.next((()=>{++o,a&&o===i&&n()}),(c=>r(c)))})),a=!0,o===i&&n()}))}static or(e){let n=ge.resolve(!1);for(const r of e)n=n.next((i=>i?ge.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new ge(((r,i)=>{const o=e.length,a=new Array(o);let l=0;for(let c=0;c<o;c++){const f=c;n(e[f]).next((h=>{a[f]=h,++l,l===o&&r(a)}),(h=>i(h)))}}))}static doWhile(e,n){return new ge(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function jye(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function dp(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}o1.oe=-1;function n0(t){return t==null}function By(t){return t===0&&1/t==-1/0}function $ye(t){return typeof t=="number"&&Number.isInteger(t)&&!By(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hf(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n){this.comparator=e,this.root=n||tr.EMPTY}insert(e,n){return new Wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tr.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fg(this.root,e,this.comparator,!1)}getReverseIterator(){return new fg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fg(this.root,e,this.comparator,!0)}}class fg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??tr.RED,this.left=i??tr.EMPTY,this.right=o??tr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new tr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return tr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return tr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qe();const e=this.left.check();if(e!==this.right.check())throw qe();return e+(this.isRed()?0:1)}}tr.EMPTY=null,tr.RED=!0,tr.BLACK=!1;tr.EMPTY=new class{constructor(){this.size=0}get key(){throw qe()}get value(){throw qe()}get color(){throw qe()}get left(){throw qe()}get right(){throw qe()}copy(e,n,r,i,o){return this}insert(e,n,r){return new tr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V2(this.data.getIterator())}getIteratorFrom(e){return new V2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ir)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ir(this.comparator);return n.data=e,n}}class V2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this.fields=e,e.sort(rr.comparator)}static empty(){return new Gi([])}unionWith(e){let n=new ir(rr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $c(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new oq("Invalid base64 string: "+o):o}})(e);return new or(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o})(e);return new or(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}or.EMPTY_BYTE_STRING=new or("");const Gye=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(t){if(At(!!t),typeof t=="string"){let e=0;const n=Gye.exec(t);if(At(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dn(t.seconds),nanos:dn(t.nanos)}}function dn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function uu(t){return typeof t=="string"?or.fromBase64String(t):or.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function s1(t){const e=t.mapValue.fields.__previous_value__;return a1(e)?s1(e):e}function xh(t){const e=Ws(t.mapValue.fields.__local_write_time__.timestampValue);return new Pn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kye{constructor(e,n,r,i,o,a,l,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f}}class Ah{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ah("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ah&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg={mapValue:{}};function cu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?a1(t)?4:Wye(t)?9007199254740991:Yye(t)?10:11:qe()}function Ro(t,e){if(t===e)return!0;const n=cu(t);if(n!==cu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xh(t).isEqual(xh(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Ws(i.timestampValue),l=Ws(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return uu(i.bytesValue).isEqual(uu(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return dn(i.geoPointValue.latitude)===dn(o.geoPointValue.latitude)&&dn(i.geoPointValue.longitude)===dn(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return dn(i.integerValue)===dn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=dn(i.doubleValue),l=dn(o.doubleValue);return a===l?By(a)===By(l):isNaN(a)&&isNaN(l)}return!1})(t,e);case 9:return $c(t.arrayValue.values||[],e.arrayValue.values||[],Ro);case 10:case 11:return(function(i,o){const a=i.mapValue.fields||{},l=o.mapValue.fields||{};if(U2(a)!==U2(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Ro(a[c],l[c])))return!1;return!0})(t,e);default:return qe()}}function Ch(t,e){return(t.values||[]).find((n=>Ro(n,e)))!==void 0}function Gc(t,e){if(t===e)return 0;const n=cu(t),r=cu(e);if(n!==r)return mt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return mt(t.booleanValue,e.booleanValue);case 2:return(function(o,a){const l=dn(o.integerValue||o.doubleValue),c=dn(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return F2(t.timestampValue,e.timestampValue);case 4:return F2(xh(t),xh(e));case 5:return mt(t.stringValue,e.stringValue);case 6:return(function(o,a){const l=uu(o),c=uu(a);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(o,a){const l=o.split("/"),c=a.split("/");for(let f=0;f<l.length&&f<c.length;f++){const h=mt(l[f],c[f]);if(h!==0)return h}return mt(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,a){const l=mt(dn(o.latitude),dn(a.latitude));return l!==0?l:mt(dn(o.longitude),dn(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return z2(t.arrayValue,e.arrayValue);case 10:return(function(o,a){var l,c,f,h;const p=o.fields||{},g=a.fields||{},v=(l=p.value)===null||l===void 0?void 0:l.arrayValue,T=(c=g.value)===null||c===void 0?void 0:c.arrayValue,x=mt(((f=v==null?void 0:v.values)===null||f===void 0?void 0:f.length)||0,((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0);return x!==0?x:z2(v,T)})(t.mapValue,e.mapValue);case 11:return(function(o,a){if(o===dg.mapValue&&a===dg.mapValue)return 0;if(o===dg.mapValue)return 1;if(a===dg.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),f=a.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const g=mt(c[p],h[p]);if(g!==0)return g;const v=Gc(l[c[p]],f[h[p]]);if(v!==0)return v}return mt(c.length,h.length)})(t.mapValue,e.mapValue);default:throw qe()}}function F2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return mt(t,e);const n=Ws(t),r=Ws(e),i=mt(n.seconds,r.seconds);return i!==0?i:mt(n.nanos,r.nanos)}function z2(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Gc(n[i],r[i]);if(o)return o}return mt(n.length,r.length)}function Kc(t){return aS(t)}function aS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ws(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return uu(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=aS(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${aS(n.fields[a])}`;return i+"}"})(t.mapValue):qe()}function sS(t){return!!t&&"integerValue"in t}function l1(t){return!!t&&"arrayValue"in t}function B2(t){return!!t&&"nullValue"in t}function q2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dg(t){return!!t&&"mapValue"in t}function Yye(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Kd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return hf(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Kd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Wye(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.value=e}static empty(){return new xi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kd(n)}setAll(e){let n=rr.emptyPath(),r={},i=[];e.forEach(((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=Kd(a):i.push(l.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Dg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ro(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Dg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){hf(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new xi(Kd(this.value))}}function aq(t){const e=[];return hf(t.fields,((n,r)=>{const i=new rr([n]);if(Dg(r)){const o=aq(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)})),new Gi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n,r,i,o,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new cr(e,0,$e.min(),$e.min(),$e.min(),xi.empty(),0)}static newFoundDocument(e,n,r,i){return new cr(e,1,n,$e.min(),r,i,0)}static newNoDocument(e,n){return new cr(e,2,n,$e.min(),$e.min(),xi.empty(),0)}static newUnknownDocument(e,n){return new cr(e,3,n,$e.min(),$e.min(),xi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n){this.position=e,this.inclusive=n}}function H2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=Ve.comparator(Ve.fromName(a.referenceValue),n.key):r=Gc(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function j2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ro(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n="asc"){this.field=e,this.dir=n}}function Jye(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{}class Rn extends sq{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Qye(e,n,r):n==="array-contains"?new tve(e,r):n==="in"?new nve(e,r):n==="not-in"?new rve(e,r):n==="array-contains-any"?new ive(e,r):new Rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Zye(e,r):new eve(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gc(n,this.value)):n!==null&&cu(this.value)===cu(n)&&this.matchesComparison(Gc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Po extends sq{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Po(e,n)}matches(e){return lq(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function lq(t){return t.op==="and"}function uq(t){return Xye(t)&&lq(t)}function Xye(t){for(const e of t.filters)if(e instanceof Po)return!1;return!0}function lS(t){if(t instanceof Rn)return t.field.canonicalString()+t.op.toString()+Kc(t.value);if(uq(t))return t.filters.map((e=>lS(e))).join(",");{const e=t.filters.map((n=>lS(n))).join(",");return`${t.op}(${e})`}}function cq(t,e){return t instanceof Rn?(function(r,i){return i instanceof Rn&&r.op===i.op&&r.field.isEqual(i.field)&&Ro(r.value,i.value)})(t,e):t instanceof Po?(function(r,i){return i instanceof Po&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,a,l)=>o&&cq(a,i.filters[l])),!0):!1})(t,e):void qe()}function fq(t){return t instanceof Rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Kc(n.value)}`})(t):t instanceof Po?(function(n){return n.op.toString()+" {"+n.getFilters().map(fq).join(" ,")+"}"})(t):"Filter"}class Qye extends Rn{constructor(e,n,r){super(e,n,r),this.key=Ve.fromName(r.referenceValue)}matches(e){const n=Ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class Zye extends Rn{constructor(e,n){super(e,"in",n),this.keys=dq("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class eve extends Rn{constructor(e,n){super(e,"not-in",n),this.keys=dq("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function dq(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Ve.fromName(r.referenceValue)))}class tve extends Rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return l1(n)&&Ch(n.arrayValue,this.value)}}class nve extends Rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ch(this.value.arrayValue,n)}}class rve extends Rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ch(this.value.arrayValue,n)}}class ive extends Rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!l1(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ch(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ove{constructor(e,n=null,r=[],i=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=l,this.ue=null}}function $2(t,e=null,n=[],r=[],i=null,o=null,a=null){return new ove(t,e,n,r,i,o,a)}function u1(t){const e=Ge(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>lS(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),n0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Kc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Kc(r))).join(",")),e.ue=n}return e.ue}function c1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Jye(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cq(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!j2(t.startAt,e.startAt)&&j2(t.endAt,e.endAt)}function uS(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n=null,r=[],i=[],o=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ave(t,e,n,r,i,o,a,l){return new r0(t,e,n,r,i,o,a,l)}function f1(t){return new r0(t)}function G2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sve(t){return t.collectionGroup!==null}function Yd(t){const e=Ge(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ir(rr.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Hy(o,r))})),n.has(rr.keyField().canonicalString())||e.ce.push(new Hy(rr.keyField(),r))}return e.ce}function xo(t){const e=Ge(t);return e.le||(e.le=lve(e,Yd(t))),e.le}function lve(t,e){if(t.limitType==="F")return $2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new Hy(i.field,o)}));const n=t.endAt?new qy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qy(t.startAt.position,t.startAt.inclusive):null;return $2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cS(t,e,n){return new r0(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function i0(t,e){return c1(xo(t),xo(e))&&t.limitType===e.limitType}function hq(t){return`${u1(xo(t))}|lt:${t.limitType}`}function mc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>fq(i))).join(", ")}]`),n0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Kc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Kc(i))).join(",")),`Target(${r})`})(xo(t))}; limitType=${t.limitType})`}function o0(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ve.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of Yd(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,l,c){const f=H2(a,l,c);return a.inclusive?f<=0:f<0})(r.startAt,Yd(r),i)||r.endAt&&!(function(a,l,c){const f=H2(a,l,c);return a.inclusive?f>=0:f>0})(r.endAt,Yd(r),i))})(t,e)}function uve(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pq(t){return(e,n)=>{let r=!1;for(const i of Yd(t)){const o=cve(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function cve(t,e,n){const r=t.field.isKeyField()?Ve.comparator(e.key,n.key):(function(o,a,l){const c=a.data.field(o),f=l.data.field(o);return c!==null&&f!==null?Gc(c,f):qe()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hf(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return iq(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fve=new Wt(Ve.comparator);function Ra(){return fve}const mq=new Wt(Ve.comparator);function Fd(...t){let e=mq;for(const n of t)e=e.insert(n.key,n);return e}function gq(t){let e=mq;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function jl(){return Wd()}function yq(){return Wd()}function Wd(){return new pf((t=>t.toString()),((t,e)=>t.isEqual(e)))}const dve=new Wt(Ve.comparator),hve=new ir(Ve.comparator);function at(...t){let e=hve;for(const n of t)e=e.add(n);return e}const pve=new ir(mt);function mve(){return pve}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:By(e)?"-0":e}}function vq(t){return{integerValue:""+t}}function gve(t,e){return $ye(e)?vq(e):d1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(){this._=void 0}}function yve(t,e,n){return t instanceof jy?(function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&a1(o)&&(o=s1(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}})(n,e):t instanceof Ih?bq(t,e):t instanceof Rh?Eq(t,e):(function(i,o){const a=_q(i,o),l=K2(a)+K2(i.Pe);return sS(a)&&sS(i.Pe)?vq(l):d1(i.serializer,l)})(t,e)}function vve(t,e,n){return t instanceof Ih?bq(t,e):t instanceof Rh?Eq(t,e):n}function _q(t,e){return t instanceof $y?(function(r){return sS(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class jy extends a0{}class Ih extends a0{constructor(e){super(),this.elements=e}}function bq(t,e){const n=wq(e);for(const r of t.elements)n.some((i=>Ro(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Rh extends a0{constructor(e){super(),this.elements=e}}function Eq(t,e){let n=wq(e);for(const r of t.elements)n=n.filter((i=>!Ro(i,r)));return{arrayValue:{values:n}}}class $y extends a0{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function K2(t){return dn(t.integerValue||t.doubleValue)}function wq(t){return l1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _ve(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Ih&&i instanceof Ih||r instanceof Rh&&i instanceof Rh?$c(r.elements,i.elements,Ro):r instanceof $y&&i instanceof $y?Ro(r.Pe,i.Pe):r instanceof jy&&i instanceof jy})(t.transform,e.transform)}class bve{constructor(e,n){this.version=e,this.transformResults=n}}class ya{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ya}static exists(e){return new ya(void 0,e)}static updateTime(e){return new ya(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Og(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class s0{}function Tq(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xq(t.key,ya.none()):new hp(t.key,t.data,ya.none());{const n=t.data,r=xi.empty();let i=new ir(rr.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new vu(t.key,r,new Gi(i.toArray()),ya.none())}}function Eve(t,e,n){t instanceof hp?(function(i,o,a){const l=i.value.clone(),c=W2(i.fieldTransforms,o,a.transformResults);l.setAll(c),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,n):t instanceof vu?(function(i,o,a){if(!Og(i.precondition,o))return void o.convertToUnknownDocument(a.version);const l=W2(i.fieldTransforms,o,a.transformResults),c=o.data;c.setAll(Sq(i)),c.setAll(l),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):(function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function Jd(t,e,n,r){return t instanceof hp?(function(o,a,l,c){if(!Og(o.precondition,a))return l;const f=o.value.clone(),h=J2(o.fieldTransforms,c,a);return f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof vu?(function(o,a,l,c){if(!Og(o.precondition,a))return l;const f=J2(o.fieldTransforms,c,a),h=a.data;return h.setAll(Sq(o)),h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(o,a,l){return Og(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l})(t,e,n)}function wve(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=_q(r.transform,i||null);o!=null&&(n===null&&(n=xi.empty()),n.set(r.field,o))}return n||null}function Y2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$c(r,i,((o,a)=>_ve(o,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hp extends s0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vu extends s0{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Sq(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function W2(t,e,n){const r=new Map;At(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,l=e.data.field(o.field);r.set(o.field,vve(a,l,n[i]))}return r}function J2(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,yve(o,a,e))}return r}class xq extends s0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tve extends s0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sve{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Eve(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yq();return this.mutations.forEach((i=>{const o=e.get(i.key),a=o.overlayedDocument;let l=this.applyToLocalView(a,o.mutatedFields);l=n.has(i.key)?null:l;const c=Tq(a,l);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument($e.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),at())}isEqual(e){return this.batchId===e.batchId&&$c(this.mutations,e.mutations,((n,r)=>Y2(n,r)))&&$c(this.baseMutations,e.baseMutations,((n,r)=>Y2(n,r)))}}class h1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){At(e.mutations.length===r.length);let i=(function(){return dve})();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new h1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xve{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ave{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _n,ut;function Cve(t){switch(t){default:return qe();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0}}function Aq(t){if(t===void 0)return Ia("GRPC error has no .code"),ve.UNKNOWN;switch(t){case _n.OK:return ve.OK;case _n.CANCELLED:return ve.CANCELLED;case _n.UNKNOWN:return ve.UNKNOWN;case _n.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case _n.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case _n.INTERNAL:return ve.INTERNAL;case _n.UNAVAILABLE:return ve.UNAVAILABLE;case _n.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case _n.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case _n.NOT_FOUND:return ve.NOT_FOUND;case _n.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case _n.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case _n.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case _n.ABORTED:return ve.ABORTED;case _n.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case _n.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case _n.DATA_LOSS:return ve.DATA_LOSS;default:return qe()}}(ut=_n||(_n={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ive(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rve=new Jl([4294967295,4294967295],0);function X2(t){const e=Ive().encode(t),n=new J5;return n.update(e),new Uint8Array(n.digest())}function Q2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Jl([n,r],0),new Jl([i,o],0)]}class p1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zd(`Invalid padding: ${n}`);if(r<0)throw new zd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Jl.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Jl.fromNumber(r)));return i.compare(Rve)===1&&(i=new Jl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=X2(e),[r,i]=Q2(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new p1(o,i,n);return r.forEach((l=>a.insert(l))),a}insert(e){if(this.Ie===0)return;const n=X2(e),[r,i]=Q2(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class zd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,pp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new l0($e.min(),i,new Wt(mt),Ra(),at())}}class pp{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pp(r,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Cq{constructor(e,n){this.targetId=e,this.me=n}}class Iq{constructor(e,n,r=or.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Z2{constructor(){this.fe=0,this.ge=tL(),this.pe=or.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=at(),n=at(),r=at();return this.ge.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:qe()}})),new pp(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=tL()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,At(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Pve{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ra(),this.qe=eL(),this.Qe=new Wt(mt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:qe()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,i)=>{this.ze(i)&&n(i)}))}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(uS(o))if(r===0){const a=new Ve(o.path);this.Ue(n,a,cr.newNoDocument(a,$e.min()))}else At(r===1);else{const a=this.Ye(n);if(a!==r){const l=this.Ze(e),c=l?this.Xe(l,e,a):1;if(c!==0){this.je(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,l;try{a=uu(r).toUint8Array()}catch(c){if(c instanceof oq)return jc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new p1(a,i,o)}catch(c){return jc(c instanceof zd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const a=this.Le.tt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,o,null),i++)})),i}rt(e){const n=new Map;this.Be.forEach(((o,a)=>{const l=this.Je(a);if(l){if(o.current&&uS(l.target)){const c=new Ve(l.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,cr.newNoDocument(c,e))}o.be&&(n.set(a,o.ve()),o.Ce())}}));let r=at();this.qe.forEach(((o,a)=>{let l=!0;a.forEachWhile((c=>{const f=this.Je(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(o))})),this.ke.forEach(((o,a)=>a.setReadTime(e)));const i=new l0(e,n,this.Qe,this.ke,r);return this.ke=Ra(),this.qe=eL(),this.Qe=new Wt(mt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Z2,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ir(mt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Re("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Z2),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function eL(){return new Wt(Ve.comparator)}function tL(){return new Wt(Ve.comparator)}const kve={asc:"ASCENDING",desc:"DESCENDING"},Mve={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nve={and:"AND",or:"OR"};class Dve{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fS(t,e){return t.useProto3Json||n0(e)?e:{value:e}}function Gy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rq(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ove(t,e){return Gy(t,e.toTimestamp())}function Ao(t){return At(!!t),$e.fromTimestamp((function(n){const r=Ws(n);return new Pn(r.seconds,r.nanos)})(t))}function m1(t,e){return dS(t,e).canonicalString()}function dS(t,e){const n=(function(i){return new on(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Pq(t){const e=on.fromString(t);return At(Oq(e)),e}function hS(t,e){return m1(t.databaseId,e.path)}function Mw(t,e){const n=Pq(e);if(n.get(1)!==t.databaseId.projectId)throw new Ue(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ue(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ve(Mq(n))}function kq(t,e){return m1(t.databaseId,e)}function Lve(t){const e=Pq(t);return e.length===4?on.emptyPath():Mq(e)}function pS(t){return new on(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Mq(t){return At(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function nL(t,e,n){return{name:hS(t,e),fields:n.value.mapValue.fields}}function Uve(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:qe()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(f,h){return f.useProto3Json?(At(h===void 0||typeof h=="string"),or.fromBase64String(h||"")):(At(h===void 0||h instanceof Buffer||h instanceof Uint8Array),or.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&(function(f){const h=f.code===void 0?ve.UNKNOWN:Aq(f.code);return new Ue(h,f.message||"")})(a);n=new Iq(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Mw(t,r.document.name),o=Ao(r.document.updateTime),a=r.document.createTime?Ao(r.document.createTime):$e.min(),l=new xi({mapValue:{fields:r.document.fields}}),c=cr.newFoundDocument(i,o,a,l),f=r.targetIds||[],h=r.removedTargetIds||[];n=new Lg(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Mw(t,r.document),o=r.readTime?Ao(r.readTime):$e.min(),a=cr.newNoDocument(i,o),l=r.removedTargetIds||[];n=new Lg([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Mw(t,r.document),o=r.removedTargetIds||[];n=new Lg([],o,i,null)}else{if(!("filter"in e))return qe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new Ave(i,o),l=r.targetId;n=new Cq(l,a)}}return n}function Vve(t,e){let n;if(e instanceof hp)n={update:nL(t,e.key,e.value)};else if(e instanceof xq)n={delete:hS(t,e.key)};else if(e instanceof vu)n={update:nL(t,e.key,e.data),updateMask:Kve(e.fieldMask)};else{if(!(e instanceof Tve))return qe();n={verify:hS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,a){const l=a.transform;if(l instanceof jy)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ih)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Rh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof $y)return{fieldPath:a.field.canonicalString(),increment:l.Pe};throw qe()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:Ove(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:qe()})(t,e.precondition)),n}function Fve(t,e){return t&&t.length>0?(At(e!==void 0),t.map((n=>(function(i,o){let a=i.updateTime?Ao(i.updateTime):Ao(o);return a.isEqual($e.min())&&(a=Ao(o)),new bve(a,i.transformResults||[])})(n,e)))):[]}function zve(t,e){return{documents:[kq(t,e.path)]}}function Bve(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kq(t,i);const o=(function(f){if(f.length!==0)return Dq(Po.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const a=(function(f){if(f.length!==0)return f.map((h=>(function(g){return{field:gc(g.field),direction:jve(g.dir)}})(h)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=fS(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{_t:n,parent:i}}function qve(t){let e=Lve(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){At(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(p){const g=Nq(p);return g instanceof Po&&uq(g)?g.getFilters():[g]})(n.where));let a=[];n.orderBy&&(a=(function(p){return p.map((g=>(function(T){return new Hy(yc(T.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(g)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let g;return g=typeof p=="object"?p.value:p,n0(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,v=p.values||[];return new qy(v,g)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const g=!p.before,v=p.values||[];return new qy(v,g)})(n.endAt)),ave(e,i,a,o,l,"F",c,f)}function Hve(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Nq(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yc(n.unaryFilter.field);return Rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=yc(n.unaryFilter.field);return Rn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=yc(n.unaryFilter.field);return Rn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=yc(n.unaryFilter.field);return Rn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return qe()}})(t):t.fieldFilter!==void 0?(function(n){return Rn.create(yc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qe()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Po.create(n.compositeFilter.filters.map((r=>Nq(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe()}})(n.compositeFilter.op))})(t):qe()}function jve(t){return kve[t]}function $ve(t){return Mve[t]}function Gve(t){return Nve[t]}function gc(t){return{fieldPath:t.canonicalString()}}function yc(t){return rr.fromServerFormat(t.fieldPath)}function Dq(t){return t instanceof Rn?(function(n){if(n.op==="=="){if(q2(n.value))return{unaryFilter:{field:gc(n.field),op:"IS_NAN"}};if(B2(n.value))return{unaryFilter:{field:gc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(q2(n.value))return{unaryFilter:{field:gc(n.field),op:"IS_NOT_NAN"}};if(B2(n.value))return{unaryFilter:{field:gc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gc(n.field),op:$ve(n.op),value:n.value}}})(t):t instanceof Po?(function(n){const r=n.getFilters().map((i=>Dq(i)));return r.length===1?r[0]:{compositeFilter:{op:Gve(n.op),filters:r}}})(t):qe()}function Kve(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Oq(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n,r,i,o=$e.min(),a=$e.min(),l=or.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yve{constructor(e){this.ct=e}}function Wve(t){const e=qve({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jve{constructor(){this.un=new Xve}addToCollectionParentIndex(e,n){return this.un.add(n),ge.resolve()}getCollectionParents(e,n){return ge.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ge.resolve()}deleteFieldIndex(e,n){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,n){return ge.resolve()}getDocumentsMatchingTarget(e,n){return ge.resolve(null)}getIndexType(e,n){return ge.resolve(0)}getFieldIndexes(e,n){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,n){return ge.resolve(Ys.min())}getMinOffsetFromCollectionGroup(e,n){return ge.resolve(Ys.min())}updateCollectionGroup(e,n,r){return ge.resolve()}updateIndexEntries(e,n){return ge.resolve()}}class Xve{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ir(on.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ir(on.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Yc(0)}static kn(){return new Yc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qve{constructor(){this.changes=new pf((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ge.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zve{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0e{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Jd(r.mutation,i,Gi.empty(),Pn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,at()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=at()){const i=jl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let a=Fd();return o.forEach(((l,c)=>{a=a.insert(l,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=jl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,at())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((a,l)=>{n.set(a,l)}))}))}computeViews(e,n,r,i){let o=Ra();const a=Wd(),l=(function(){return Wd()})();return n.forEach(((c,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof vu)?o=o.insert(f.key,f):h!==void 0?(a.set(f.key,h.mutation.getFieldMask()),Jd(h.mutation,f,h.mutation.getFieldMask(),Pn.now())):a.set(f.key,Gi.empty())})),this.recalculateAndSaveOverlays(e,o).next((c=>(c.forEach(((f,h)=>a.set(f,h))),n.forEach(((f,h)=>{var p;return l.set(f,new Zve(h,(p=a.get(f))!==null&&p!==void 0?p:null))})),l)))}recalculateAndSaveOverlays(e,n){const r=Wd();let i=new Wt(((a,l)=>a-l)),o=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const l of a)l.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||Gi.empty();h=l.applyToLocalView(f,h),r.set(c,h);const p=(i.get(l.batchId)||at()).add(c);i=i.insert(l.batchId,p)}))})).next((()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,h=c.value,p=yq();h.forEach((g=>{if(!o.has(g)){const v=Tq(n.get(g),r.get(g));v!==null&&p.set(g,v),o=o.add(g)}})),a.push(this.documentOverlayCache.saveOverlays(e,f,p))}return ge.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(a){return Ve.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sve(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ge.resolve(jl());let l=-1,c=o;return a.next((f=>ge.forEach(f,((h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(h)?ge.resolve():this.remoteDocumentCache.getEntry(e,h).next((g=>{c=c.insert(h,g)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,c,f,at()))).next((h=>({batchId:l,changes:gq(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ve(n)).next((r=>{let i=Fd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=Fd();return this.indexManager.getCollectionParents(e,o).next((l=>ge.forEach(l,(c=>{const f=(function(p,g){return new r0(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((h=>{h.forEach(((p,g)=>{a=a.insert(p,g)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((a=>{o.forEach(((c,f)=>{const h=f.getKey();a.get(h)===null&&(a=a.insert(h,cr.newInvalidDocument(h)))}));let l=Fd();return a.forEach(((c,f)=>{const h=o.get(c);h!==void 0&&Jd(h.mutation,f,Gi.empty(),Pn.now()),o0(n,f)&&(l=l.insert(c,f))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0e{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ge.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ao(i.createTime)}})(n)),ge.resolve()}getNamedQuery(e,n){return ge.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(i){return{name:i.name,query:Wve(i.bundledQuery),readTime:Ao(i.readTime)}})(n)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0e{constructor(){this.overlays=new Wt(Ve.comparator),this.Ir=new Map}getOverlay(e,n){return ge.resolve(this.overlays.get(n))}getOverlays(e,n){const r=jl();return ge.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.ht(e,n,o)})),ge.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.Ir.delete(r)),ge.resolve()}getOverlaysForCollection(e,n,r){const i=jl(),o=n.length+1,a=new Ve(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Wt(((f,h)=>f-h));const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=o.get(f.largestBatchId);h===null&&(h=jl(),o=o.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const l=jl(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>l.set(f,h))),!(l.size()>=i)););return ge.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new xve(n,r));let o=this.Ir.get(n);o===void 0&&(o=at(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0e{constructor(){this.sessionToken=or.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this.Tr=new ir(qn.Er),this.dr=new ir(qn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new qn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new qn(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new Ve(new on([])),r=new qn(n,e),i=new qn(n,e+1),o=[];return this.dr.forEachInRange([r,i],(a=>{this.Vr(a),o.push(a.key)})),o}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ve(new on([])),r=new qn(n,e),i=new qn(n,e+1);let o=at();return this.dr.forEachInRange([r,i],(a=>{o=o.add(a.key)})),o}containsKey(e){const n=new qn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ve.comparator(e.key,n.key)||mt(e.wr,n.wr)}static Ar(e,n){return mt(e.wr,n.wr)||Ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0e{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ir(qn.Er)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Sve(o,n,r,i);this.mutationQueue.push(a);for(const l of i)this.br=this.br.add(new qn(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ge.resolve(a)}lookupMutationBatch(e,n){return ge.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return ge.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qn(n,0),i=new qn(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],(a=>{const l=this.Dr(a.wr);o.push(l)})),ge.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ir(mt);return n.forEach((i=>{const o=new qn(i,0),a=new qn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],(l=>{r=r.add(l.wr)}))})),ge.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Ve.isDocumentKey(o)||(o=o.child(""));const a=new qn(new Ve(o),0);let l=new ir(mt);return this.br.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.wr)),!0)}),a),ge.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach((r=>{const i=this.Dr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){At(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ge.forEach(n.mutations,(i=>{const o=new qn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new qn(n,0),i=this.br.firstAfterOrEqual(r);return ge.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0e{constructor(e){this.Mr=e,this.docs=(function(){return new Wt(Ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ge.resolve(r?r.document.mutableCopy():cr.newInvalidDocument(n))}getEntries(e,n){let r=Ra();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():cr.newInvalidDocument(i))})),ge.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ra();const a=n.path,l=new Ve(a.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||Bye(zye(h),r)<=0||(i.has(h.key)||o0(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return ge.resolve(o)}getAllFromCollectionGroup(e,n,r,i){qe()}Or(e,n){return ge.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new a0e(this)}getSize(e){return ge.resolve(this.size)}}class a0e extends Qve{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)})),ge.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0e{constructor(e){this.persistence=e,this.Nr=new pf((n=>u1(n)),c1),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.Lr=0,this.Br=new g1,this.targetCount=0,this.kr=Yc.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,i)=>n(i))),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ge.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Yc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ge.resolve()}updateTargetData(e,n){return this.Kn(n),ge.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach(((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),ge.waitFor(o).next((()=>i))}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ge.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ge.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((a=>{o.push(i.markPotentiallyOrphaned(e,a))})),ge.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ge.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ge.resolve(r)}containsKey(e,n){return ge.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0e{constructor(e,n){this.qr={},this.overlays={},this.Qr=new o1(0),this.Kr=!1,this.Kr=!0,this.$r=new r0e,this.referenceDelegate=e(this),this.Ur=new s0e(this),this.indexManager=new Jve,this.remoteDocumentCache=(function(i){return new o0e(i)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new Yve(n),this.Gr=new t0e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new n0e,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new i0e(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Re("MemoryPersistence","Starting transaction:",e);const i=new u0e(this.Qr.next());return this.referenceDelegate.zr(),r(i).next((o=>this.referenceDelegate.jr(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Hr(e,n){return ge.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class u0e extends Hye{constructor(e){super(),this.currentSequenceNumber=e}}class y1{constructor(e){this.persistence=e,this.Jr=new g1,this.Yr=null}static Zr(e){return new y1(e)}get Xr(){if(this.Yr)return this.Yr;throw qe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ge.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ge.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((i=>this.Xr.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.Xr.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.Xr,(r=>{const i=Ve.fromPath(r);return this.ei(e,i).next((o=>{o||n.removeEntry(i,$e.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return ge.or([()=>ge.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=at(),i=at();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new v1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0e{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return fpe()?8:jye(hr())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next((a=>{o.result=a})).next((()=>{if(!o.result)return this.Zi(e,n,i,r).next((a=>{o.result=a}))})).next((()=>{if(o.result)return;const a=new c0e;return this.Xi(e,n,a).next((l=>{if(o.result=l,this.zi)return this.es(e,n,a,l.size)}))})).next((()=>o.result))}es(e,n,r,i){return r.documentReadCount<this.ji?(Md()<=lt.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",mc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ge.resolve()):(Md()<=lt.DEBUG&&Re("QueryEngine","Query:",mc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Md()<=lt.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",mc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xo(n))):ge.resolve())}Yi(e,n){if(G2(n))return ge.resolve(null);let r=xo(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=cS(n,null,"F"),r=xo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const a=at(...o);return this.Ji.getDocuments(e,a).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.ts(n,l);return this.ns(n,f,a,c.readTime)?this.Yi(e,cS(n,null,"F")):this.rs(e,f,n,c)}))))})))))}Zi(e,n,r,i){return G2(n)||i.isEqual($e.min())?ge.resolve(null):this.Ji.getDocuments(e,r).next((o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?ge.resolve(null):(Md()<=lt.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),mc(n)),this.rs(e,a,n,Fye(i,-1)).next((l=>l)))}))}ts(e,n){let r=new ir(pq(e));return n.forEach(((i,o)=>{o0(e,o)&&(r=r.add(o))})),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Md()<=lt.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",mc(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ys.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((a=>{o=o.insert(a.key,a)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0e{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Wt(mt),this._s=new pf((o=>u1(o)),c1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new e0e(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function h0e(t,e,n,r){return new d0e(t,e,n,r)}async function Lq(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const a=[],l=[];let c=at();for(const f of i){a.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of o){l.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((f=>({hs:f,removedBatchIds:a,addedBatchIds:l})))}))}))}function p0e(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return(function(l,c,f,h){const p=f.batch,g=p.keys();let v=ge.resolve();return g.forEach((T=>{v=v.next((()=>h.getEntry(c,T))).next((x=>{const S=f.docVersions.get(T);At(S!==null),x.version.compareTo(S)<0&&(p.applyToRemoteDocument(x,f),x.isValidDocument()&&(x.setReadTime(f.commitVersion),h.addEntry(x)))}))})),v.next((()=>l.mutationQueue.removeMutationBatch(c,p)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=at();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function Uq(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function m0e(t,e){const n=Ge(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach(((h,p)=>{const g=i.get(p);if(!g)return;l.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next((()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p))));let v=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(or.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),(function(x,S,C){return x.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(g,v,h)&&l.push(n.Ur.updateTargetData(o,v))}));let c=Ra(),f=at();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))})),l.push(g0e(o,a,e.documentUpdates).next((h=>{c=h.Ps,f=h.Is}))),!r.isEqual($e.min())){const h=n.Ur.getLastRemoteSnapshotVersion(o).next((p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r)));l.push(h)}return ge.waitFor(l).next((()=>a.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,c,f))).next((()=>c))})).then((o=>(n.os=i,o)))}function g0e(t,e,n){let r=at(),i=at();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let a=Ra();return n.forEach(((l,c)=>{const f=o.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual($e.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):Re("LocalStore","Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)})),{Ps:a,Is:i}}))}function y0e(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function v0e(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Ur.getTargetData(r,e).next((o=>o?(i=o,ge.resolve(i)):n.Ur.allocateTargetId(r).next((a=>(i=new Us(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function mS(t,e,n){const r=Ge(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!dp(a))throw a;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function rL(t,e,n){const r=Ge(t);let i=$e.min(),o=at();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,f,h){const p=Ge(c),g=p._s.get(h);return g!==void 0?ge.resolve(p.os.get(g)):p.Ur.getTargetData(f,h)})(r,a,xo(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,l.targetId).next((c=>{o=c}))})).next((()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:$e.min(),n?o:at()))).next((l=>(_0e(r,uve(e),l),{documents:l,Ts:o})))))}function _0e(t,e,n){let r=t.us.get(e)||$e.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.us.set(e,r)}class iL{constructor(){this.activeTargetIds=mve()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class b0e{constructor(){this.so=new iL,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new iL,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0e{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hg=null;function Nw(){return hg===null?hg=(function(){return 268435456+Math.round(2147483648*Math.random())})():hg++,"0x"+hg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0e{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="WebChannelConnection";class S0e extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const l=Nw(),c=this.xo(n,r.toUriEncodedString());Re("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,o,a),this.No(n,c,f,i).then((h=>(Re("RestConnection",`Received RPC '${n}' ${l}: `,h),h)),(h=>{throw jc("RestConnection",`RPC '${n}' ${l} failed with error: `,h,"url: ",c,"request:",i),h}))}Lo(n,r,i,o,a,l){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+df})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((o,a)=>n[a]=o)),i&&i.headers.forEach(((o,a)=>n[a]=o))}xo(n,r){const i=w0e[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Nw();return new Promise(((a,l)=>{const c=new X5;c.setWithCredentials(!0),c.listenOnce(Q5.COMPLETE,(()=>{try{switch(c.getLastErrorCode()){case Ng.NO_ERROR:const h=c.getResponseJson();Re(lr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Ng.TIMEOUT:Re(lr,`RPC '${e}' ${o} timed out`),l(new Ue(ve.DEADLINE_EXCEEDED,"Request time out"));break;case Ng.HTTP_ERROR:const p=c.getStatus();if(Re(lr,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const T=(function(S){const C=S.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(C)>=0?C:ve.UNKNOWN})(v.status);l(new Ue(T,v.message))}else l(new Ue(ve.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Ue(ve.UNAVAILABLE,"Connection failed."));break;default:qe()}}finally{Re(lr,`RPC '${e}' ${o} completed.`)}}));const f=JSON.stringify(i);Re(lr,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",f,r,15)}))}Bo(e,n,r){const i=Nw(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=tq(),l=eq(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=o.join("");Re(lr,`Creating RPC '${e}' stream ${i}: ${h}`,c);const p=a.createWebChannel(h,c);let g=!1,v=!1;const T=new T0e({Io:S=>{v?Re(lr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(g||(Re(lr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),Re(lr,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},To:()=>p.close()}),x=(S,C,L)=>{S.listen(C,(M=>{try{L(M)}catch(G){setTimeout((()=>{throw G}),0)}}))};return x(p,Vd.EventType.OPEN,(()=>{v||(Re(lr,`RPC '${e}' stream ${i} transport opened.`),T.yo())})),x(p,Vd.EventType.CLOSE,(()=>{v||(v=!0,Re(lr,`RPC '${e}' stream ${i} transport closed`),T.So())})),x(p,Vd.EventType.ERROR,(S=>{v||(v=!0,jc(lr,`RPC '${e}' stream ${i} transport errored:`,S),T.So(new Ue(ve.UNAVAILABLE,"The operation could not be completed")))})),x(p,Vd.EventType.MESSAGE,(S=>{var C;if(!v){const L=S.data[0];At(!!L);const M=L,G=M.error||((C=M[0])===null||C===void 0?void 0:C.error);if(G){Re(lr,`RPC '${e}' stream ${i} received error:`,G);const $=G.status;let z=(function(V){const k=_n[V];if(k!==void 0)return Aq(k)})($),N=G.message;z===void 0&&(z=ve.INTERNAL,N="Unknown error status: "+$+" with message "+G.message),v=!0,T.So(new Ue(z,N)),p.close()}else Re(lr,`RPC '${e}' stream ${i} received:`,L),T.bo(L)}})),x(l,Z5.STAT_EVENT,(S=>{S.stat===oS.PROXY?Re(lr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===oS.NOPROXY&&Re(lr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{T.wo()}),0),T}}function Dw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(t){return new Dve(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e,n,r,i,o,a,l,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Vq(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ve.RESOURCE_EXHAUSTED?(Ia(n.toString()),Ia("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.Yo===n&&this.P_(r,i)}),(r=>{e((()=>{const i=new Ue(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{r((()=>this.I_(i)))})),this.stream.onMessage((i=>{r((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class x0e extends Fq{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Uve(this.serializer,e),r=(function(o){if(!("targetChange"in o))return $e.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?$e.min():a.readTime?Ao(a.readTime):$e.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=pS(this.serializer),n.addTarget=(function(o,a){let l;const c=a.target;if(l=uS(c)?{documents:zve(o,c)}:{query:Bve(o,c)._t},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=Rq(o,a.resumeToken);const f=fS(o,a.expectedCount);f!==null&&(l.expectedCount=f)}else if(a.snapshotVersion.compareTo($e.min())>0){l.readTime=Gy(o,a.snapshotVersion.toTimestamp());const f=fS(o,a.expectedCount);f!==null&&(l.expectedCount=f)}return l})(this.serializer,e);const r=Hve(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=pS(this.serializer),n.removeTarget=e,this.a_(n)}}class A0e extends Fq{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return At(!!e.streamToken),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Fve(e.writeResults,e.commitTime),r=Ao(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=pS(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Vve(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0e extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ue(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Mo(e,dS(n,r),i,o,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ue(ve.UNKNOWN,o.toString())}))}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Lo(e,dS(n,r),i,a,l,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ue(ve.UNKNOWN,a.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class I0e{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ia(n),this.D_=!1):Re("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0e{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o((a=>{r.enqueueAndForget((async()=>{_u(this)&&(Re("RemoteStore","Restarting streams for network reachability change."),await(async function(c){const f=Ge(c);f.L_.add(4),await mp(f),f.q_.set("Unknown"),f.L_.delete(4),await c0(f)})(this))}))})),this.q_=new I0e(r,i)}}async function c0(t){if(_u(t))for(const e of t.B_)await e(!0)}async function mp(t){for(const e of t.B_)await e(!1)}function zq(t,e){const n=Ge(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),w1(n)?E1(n):mf(n).r_()&&b1(n,e))}function _1(t,e){const n=Ge(t),r=mf(n);n.N_.delete(e),r.r_()&&Bq(n,e),n.N_.size===0&&(r.r_()?r.o_():_u(n)&&n.q_.set("Unknown"))}function b1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mf(t).A_(e)}function Bq(t,e){t.Q_.xe(e),mf(t).R_(e)}function E1(t){t.Q_=new Pve({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),mf(t).start(),t.q_.v_()}function w1(t){return _u(t)&&!mf(t).n_()&&t.N_.size>0}function _u(t){return Ge(t).L_.size===0}function qq(t){t.Q_=void 0}async function P0e(t){t.q_.set("Online")}async function k0e(t){t.N_.forEach(((e,n)=>{b1(t,e)}))}async function M0e(t,e){qq(t),w1(t)?(t.q_.M_(e),E1(t)):t.q_.set("Unknown")}async function N0e(t,e,n){if(t.q_.set("Online"),e instanceof Iq&&e.state===2&&e.cause)try{await(async function(i,o){const a=o.cause;for(const l of o.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.N_.delete(l),i.Q_.removeTarget(l))})(t,e)}catch(r){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ky(t,r)}else if(e instanceof Lg?t.Q_.Ke(e):e instanceof Cq?t.Q_.He(e):t.Q_.We(e),!n.isEqual($e.min()))try{const r=await Uq(t.localStore);n.compareTo(r)>=0&&await(function(o,a){const l=o.Q_.rt(a);return l.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.N_.get(f);h&&o.N_.set(f,h.withResumeToken(c.resumeToken,a))}})),l.targetMismatches.forEach(((c,f)=>{const h=o.N_.get(c);if(!h)return;o.N_.set(c,h.withResumeToken(or.EMPTY_BYTE_STRING,h.snapshotVersion)),Bq(o,c);const p=new Us(h.target,c,f,h.sequenceNumber);b1(o,p)})),o.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){Re("RemoteStore","Failed to raise snapshot:",r),await Ky(t,r)}}async function Ky(t,e,n){if(!dp(e))throw e;t.L_.add(1),await mp(t),t.q_.set("Offline"),n||(n=()=>Uq(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Re("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await c0(t)}))}function Hq(t,e){return e().catch((n=>Ky(t,n,e)))}async function f0(t){const e=Ge(t),n=Js(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;D0e(e);)try{const i=await y0e(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,O0e(e,i)}catch(i){await Ky(e,i)}jq(e)&&$q(e)}function D0e(t){return _u(t)&&t.O_.length<10}function O0e(t,e){t.O_.push(e);const n=Js(t);n.r_()&&n.V_&&n.m_(e.mutations)}function jq(t){return _u(t)&&!Js(t).n_()&&t.O_.length>0}function $q(t){Js(t).start()}async function L0e(t){Js(t).p_()}async function U0e(t){const e=Js(t);for(const n of t.O_)e.m_(n.mutations)}async function V0e(t,e,n){const r=t.O_.shift(),i=h1.from(r,e,n);await Hq(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await f0(t)}async function F0e(t,e){e&&Js(t).V_&&await(async function(r,i){if((function(a){return Cve(a)&&a!==ve.ABORTED})(i.code)){const o=r.O_.shift();Js(r).s_(),await Hq(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await f0(r)}})(t,e),jq(t)&&$q(t)}async function aL(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const r=_u(n);n.L_.add(3),await mp(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await c0(n)}async function z0e(t,e){const n=Ge(t);e?(n.L_.delete(2),await c0(n)):e||(n.L_.add(2),await mp(n),n.q_.set("Unknown"))}function mf(t){return t.K_||(t.K_=(function(n,r,i){const o=Ge(n);return o.w_(),new x0e(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Eo:P0e.bind(null,t),Ro:k0e.bind(null,t),mo:M0e.bind(null,t),d_:N0e.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),w1(t)?E1(t):t.q_.set("Unknown")):(await t.K_.stop(),qq(t))}))),t.K_}function Js(t){return t.U_||(t.U_=(function(n,r,i){const o=Ge(n);return o.w_(),new A0e(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:L0e.bind(null,t),mo:F0e.bind(null,t),f_:U0e.bind(null,t),g_:V0e.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await f0(t)):(await t.U_.stop(),t.O_.length>0&&(Re("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Xl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,l=new T1(e,n,a,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ue(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S1(t,e){if(Ia("AsyncQueue",`${e}: ${t}`),dp(t))return new Ue(ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ve.comparator(n.key,r.key):(n,r)=>Ve.comparator(n.key,r.key),this.keyedMap=Fd(),this.sortedSet=new Wt(this.comparator)}static emptySet(e){return new kc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof kc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new kc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(){this.W_=new Wt(Ve.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):qe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Wc{constructor(e,n,r,i,o,a,l,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach((l=>{a.push({type:0,doc:l})})),new Wc(e,n,kc.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&i0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0e{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class q0e{constructor(){this.queries=lL(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ge(n),o=i.queries;i.queries=lL(),o.forEach(((a,l)=>{for(const c of l.j_)c.onError(r)}))})(this,new Ue(ve.ABORTED,"Firestore shutting down"))}}function lL(){return new pf((t=>hq(t)),i0)}async function H0e(t,e){const n=Ge(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new B0e,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=S1(a,`Initialization of query '${mc(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&x1(n)}async function j0e(t,e){const n=Ge(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $0e(t,e){const n=Ge(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const l of a.j_)l.X_(i)&&(r=!0);a.z_=i}}r&&x1(n)}function G0e(t,e,n){const r=Ge(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function x1(t){t.Y_.forEach((e=>{e.next()}))}var gS,uL;(uL=gS||(gS={})).ea="default",uL.Cache="cache";class K0e{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Wc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==gS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(e){this.key=e}}class Kq{constructor(e){this.key=e}}class Y0e{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=at(),this.mutatedKeys=at(),this.Aa=pq(e),this.Ra=new kc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new sL,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,p)=>{const g=i.get(h),v=o0(this.query,p)?p:null,T=!!g&&this.mutatedKeys.has(g.key),x=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let S=!1;g&&v?g.data.isEqual(v.data)?T!==x&&(r.track({type:3,doc:v}),S=!0):this.ga(g,v)||(r.track({type:2,doc:v}),S=!0,(c&&this.Aa(v,c)>0||f&&this.Aa(v,f)<0)&&(l=!0)):!g&&v?(r.track({type:0,doc:v}),S=!0):g&&!v&&(r.track({type:1,doc:g}),S=!0,(c||f)&&(l=!0)),S&&(v?(a=a.add(v),o=x?o.add(h):o.delete(h)):(a=a.delete(h),o=o.delete(h)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:a,fa:r,ns:l,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort(((h,p)=>(function(v,T){const x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe()}};return x(v)-x(T)})(h.type,p.type)||this.Aa(h.doc,p.doc))),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,f=c!==this.Ea;return this.Ea=c,a.length!==0||f?{snapshot:new Wc(this.query,e.Ra,o,a,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new sL,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=at(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new Kq(r))})),this.da.forEach((r=>{e.has(r)||n.push(new Gq(r))})),n}ba(e){this.Ta=e.Ts,this.da=at();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Wc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class W0e{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class J0e{constructor(e){this.key=e,this.va=!1}}class X0e{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new pf((l=>hq(l)),i0),this.Ma=new Map,this.xa=new Set,this.Oa=new Wt(Ve.comparator),this.Na=new Map,this.La=new g1,this.Ba={},this.ka=new Map,this.qa=Yc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Q0e(t,e,n=!0){const r=Zq(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await Yq(r,e,n,!0),i}async function Z0e(t,e){const n=Zq(t);await Yq(n,e,!0,!1)}async function Yq(t,e,n,r){const i=await v0e(t.localStore,xo(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await e_e(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&zq(t.remoteStore,i),l}async function e_e(t,e,n,r,i){t.Ka=(p,g,v)=>(async function(x,S,C,L){let M=S.view.ma(C);M.ns&&(M=await rL(x.localStore,S.query,!1).then((({documents:N})=>S.view.ma(N,M))));const G=L&&L.targetChanges.get(S.targetId),$=L&&L.targetMismatches.get(S.targetId)!=null,z=S.view.applyChanges(M,x.isPrimaryClient,G,$);return fL(x,S.targetId,z.wa),z.snapshot})(t,p,g,v);const o=await rL(t.localStore,e,!0),a=new Y0e(e,o.Ts),l=a.ma(o.documents),c=pp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=a.applyChanges(l,t.isPrimaryClient,c);fL(t,n,f.wa);const h=new W0e(e,n,a);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),f.snapshot}async function t_e(t,e,n){const r=Ge(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter((a=>!i0(a,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await mS(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&_1(r.remoteStore,i.targetId),yS(r,i.targetId)})).catch(fp)):(yS(r,i.targetId),await mS(r.localStore,i.targetId,!0))}async function n_e(t,e){const n=Ge(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_1(n.remoteStore,r.targetId))}async function r_e(t,e,n){const r=c_e(t);try{const i=await(function(a,l){const c=Ge(a),f=Pn.now(),h=l.reduce(((v,T)=>v.add(T.key)),at());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let T=Ra(),x=at();return c.cs.getEntries(v,h).next((S=>{T=S,T.forEach(((C,L)=>{L.isValidDocument()||(x=x.add(C))}))})).next((()=>c.localDocuments.getOverlayedDocuments(v,T))).next((S=>{p=S;const C=[];for(const L of l){const M=wve(L,p.get(L.key).overlayedDocument);M!=null&&C.push(new vu(L.key,M,aq(M.value.mapValue),ya.exists(!0)))}return c.mutationQueue.addMutationBatch(v,f,C,l)})).next((S=>{g=S;const C=S.applyToLocalDocumentSet(p,x);return c.documentOverlayCache.saveOverlays(v,S.batchId,C)}))})).then((()=>({batchId:g.batchId,changes:gq(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,l,c){let f=a.Ba[a.currentUser.toKey()];f||(f=new Wt(mt)),f=f.insert(l,c),a.Ba[a.currentUser.toKey()]=f})(r,i.batchId,n),await gp(r,i.changes),await f0(r.remoteStore)}catch(i){const o=S1(i,"Failed to persist write");n.reject(o)}}async function Wq(t,e){const n=Ge(t);try{const r=await m0e(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const a=n.Na.get(o);a&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?At(a.va):i.removedDocuments.size>0&&(At(a.va),a.va=!1))})),await gp(n,r,e)}catch(r){await fp(r)}}function cL(t,e,n){const r=Ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach(((o,a)=>{const l=a.view.Z_(e);l.snapshot&&i.push(l.snapshot)})),(function(a,l){const c=Ge(a);c.onlineState=l;let f=!1;c.queries.forEach(((h,p)=>{for(const g of p.j_)g.Z_(l)&&(f=!0)})),f&&x1(c)})(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function i_e(t,e,n){const r=Ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new Wt(Ve.comparator);a=a.insert(o,cr.newNoDocument(o,$e.min()));const l=at().add(o),c=new l0($e.min(),new Map,new Wt(mt),a,l);await Wq(r,c),r.Oa=r.Oa.remove(o),r.Na.delete(e),A1(r)}else await mS(r.localStore,e,!1).then((()=>yS(r,e,n))).catch(fp)}async function o_e(t,e){const n=Ge(t),r=e.batch.batchId;try{const i=await p0e(n.localStore,e);Xq(n,r,null),Jq(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gp(n,i)}catch(i){await fp(i)}}async function a_e(t,e,n){const r=Ge(t);try{const i=await(function(a,l){const c=Ge(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,l).next((p=>(At(p!==null),h=p.keys(),c.mutationQueue.removeMutationBatch(f,p)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(r.localStore,e);Xq(r,e,n),Jq(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gp(r,i)}catch(i){await fp(i)}}function Jq(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function Xq(t,e,n){const r=Ge(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function yS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||Qq(t,r)}))}function Qq(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(_1(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),A1(t))}function fL(t,e,n){for(const r of n)r instanceof Gq?(t.La.addReference(r.key,e),s_e(t,r)):r instanceof Kq?(Re("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Qq(t,r.key)):qe()}function s_e(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Re("SyncEngine","New document in limbo: "+n),t.xa.add(r),A1(t))}function A1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ve(on.fromString(e)),r=t.qa.next();t.Na.set(r,new J0e(n)),t.Oa=t.Oa.insert(n,r),zq(t.remoteStore,new Us(xo(f1(n.path)),r,"TargetPurposeLimboResolution",o1.oe))}}async function gp(t,e,n){const r=Ge(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach(((l,c)=>{a.push(r.Ka(c,e,n).then((f=>{var h;if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(f){i.push(f);const p=v1.Wi(c.targetId,f);o.push(p)}})))})),await Promise.all(a),r.Ca.d_(i),await(async function(c,f){const h=Ge(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>ge.forEach(f,(g=>ge.forEach(g.$i,(v=>h.persistence.referenceDelegate.addReference(p,g.targetId,v))).next((()=>ge.forEach(g.Ui,(v=>h.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))))))}catch(p){if(!dp(p))throw p;Re("LocalStore","Failed to update sequence numbers: "+p)}for(const p of f){const g=p.targetId;if(!p.fromCache){const v=h.os.get(g),T=v.snapshotVersion,x=v.withLastLimboFreeSnapshotVersion(T);h.os=h.os.insert(g,x)}}})(r.localStore,o))}async function l_e(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const r=await Lq(n.localStore,e);n.currentUser=e,(function(o,a){o.ka.forEach((l=>{l.forEach((c=>{c.reject(new Ue(ve.CANCELLED,a))}))})),o.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gp(n,r.hs)}}function u_e(t,e){const n=Ge(t),r=n.Na.get(e);if(r&&r.va)return at().add(r.key);{let i=at();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const l=n.Fa.get(a);i=i.unionWith(l.view.Va)}return i}}function Zq(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u_e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i_e.bind(null,e),e.Ca.d_=$0e.bind(null,e.eventManager),e.Ca.$a=G0e.bind(null,e.eventManager),e}function c_e(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o_e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a_e.bind(null,e),e}class Yy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=u0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return h0e(this.persistence,new f0e,e.initialUser,this.serializer)}Ga(e){return new l0e(y1.Zr,this.serializer)}Wa(e){return new b0e}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yy.provider={build:()=>new Yy};class vS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cL(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=l_e.bind(null,this.syncEngine),await z0e(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new q0e})()}createDatastore(e){const n=u0(e.databaseInfo.databaseId),r=(function(o){return new S0e(o)})(e.databaseInfo);return(function(o,a,l,c){return new C0e(o,a,l,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,a,l){return new R0e(r,i,o,a,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>cL(this.syncEngine,n,0)),(function(){return oL.D()?new oL:new E0e})())}createSyncEngine(e,n){return(function(i,o,a,l,c,f,h){const p=new X0e(i,o,a,l,c,f);return h&&(p.Qa=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=Ge(i);Re("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await mp(o),o.k_.shutdown(),o.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}vS.provider={build:()=>new vS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_e{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ia("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_e{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ur.UNAUTHENTICATED,this.clientId=rq.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async a=>{Re("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(Re("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=S1(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ow(t,e){t.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Lq(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function dL(t,e){t.asyncQueue.verifyOperationInProgress();const n=await h_e(t);Re("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>aL(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>aL(e.remoteStore,i))),t._onlineComponents=e}async function h_e(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ow(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ve.FAILED_PRECONDITION||i.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;jc("Error using user provided cache. Falling back to memory cache: "+n),await Ow(t,new Yy)}}else Re("FirestoreClient","Using default OfflineComponentProvider"),await Ow(t,new Yy);return t._offlineComponents}async function e6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re("FirestoreClient","Using user provided OnlineComponentProvider"),await dL(t,t._uninitializedComponentsProvider._online)):(Re("FirestoreClient","Using default OnlineComponentProvider"),await dL(t,new vS))),t._onlineComponents}function p_e(t){return e6(t).then((e=>e.syncEngine))}async function hL(t){const e=await e6(t),n=e.eventManager;return n.onListen=Q0e.bind(null,e.syncEngine),n.onUnlisten=t_e.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Z0e.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=n_e.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_e(t,e,n){if(!n)throw new Ue(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function g_e(t,e,n,r){if(e===!0&&r===!0)throw new Ue(ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mL(t){if(!Ve.isDocumentKey(t))throw new Ue(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function C1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe()}function Mc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ue(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=C1(t);throw new Ue(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ue(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ue(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g_e("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=t6((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ue(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ue(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ue(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class I1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gL({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ue(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ue(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gL(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Pye;switch(r.type){case"firstParty":return new Dye(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ue(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=pL.get(n);r&&(Re("ComponentProvider","Removing Datastore"),pL.delete(n),r.terminate())})(this),Promise.resolve()}}function y_e(t,e,n,r={}){var i;const o=(t=Mc(t,I1))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&jc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=ur.MOCK_USER;else{l=h5(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Ue(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ur(f)}t._authCredentials=new kye(new nq(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new d0(this.firestore,e,this._query)}}class Ci{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ph(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ci(this.firestore,e,this._key)}}class Ph extends d0{constructor(e,n,r){super(e,n,f1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ci(this.firestore,null,new Ve(e))}withConverter(e){return new Ph(this.firestore,e,this._path)}}function yL(t,e,...n){if(t=Hn(t),arguments.length===1&&(e=rq.newId()),m_e("doc","path",e),t instanceof I1){const r=on.fromString(e,...n);return mL(r),new Ci(t,null,new Ve(r))}{if(!(t instanceof Ci||t instanceof Ph))throw new Ue(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(on.fromString(e,...n));return mL(r),new Ci(t.firestore,t instanceof Ph?t.converter:null,new Ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Vq(this,"async_queue_retry"),this.Vu=()=>{const r=Dw();r&&Re("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Dw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Dw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new Xl;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!dp(e))throw e;Re("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const i=(function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l})(r);throw Ia("INTERNAL UNHANDLED ERROR: ",i),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=T1.createAndSchedule(this,e,n,r,(o=>this.yu(o)));return this.Tu.push(i),i}fu(){this.Eu&&qe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function _L(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Wy extends I1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vL,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vL(e),this._firestoreClient=void 0,await e}}}function v_e(t,e){const n=typeof t=="object"?t:GA(),r=typeof t=="string"?t:"(default)",i=Qv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=c5("firestore");o&&y_e(i,...o)}return i}function n6(t){if(t._terminated)throw new Ue(ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||__e(t),t._firestoreClient}function __e(t){var e,n,r;const i=t._freezeSettings(),o=(function(l,c,f,h){return new Kye(l,c,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,t6(h.experimentalLongPollingOptions),h.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new d_e(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jc(or.fromBase64String(e))}catch(n){throw new Ue(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jc(or.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ue(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ue(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ue(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mt(this._lat,e._lat)||mt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_e=/^__.*__$/;class E_e{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vu(e,this.data,this.fieldMask,n,this.fieldTransforms):new hp(e,this.data,n,this.fieldTransforms)}}function i6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe()}}class M1{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new M1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Jy(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(i6(this.Cu)&&b_e.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class w_e{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||u0(e)}Qu(e,n,r,i=!1){return new M1({Cu:e,methodName:n,qu:r,path:rr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function T_e(t){const e=t._freezeSettings(),n=u0(t._databaseId);return new w_e(t._databaseId,!!e.ignoreUndefinedProperties,n)}function S_e(t,e,n,r,i,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);l6("Data must be an object, but it was:",a,r);const l=a6(r,a);let c,f;if(o.merge)c=new Gi(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const g=x_e(e,p,n);if(!a.contains(g))throw new Ue(ve.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);C_e(h,g)||h.push(g)}c=new Gi(h),f=a.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,f=a.fieldTransforms;return new E_e(new xi(l),c,f)}function o6(t,e){if(s6(t=Hn(t)))return l6("Unsupported field value:",e,t),a6(t,e);if(t instanceof r6)return(function(r,i){if(!i6(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,i){const o=[];let a=0;for(const l of r){let c=o6(l,i.Lu(a));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),a++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gve(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Pn.fromDate(r);return{timestampValue:Gy(i.serializer,o)}}if(r instanceof Pn){const o=new Pn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gy(i.serializer,o)}}if(r instanceof P1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jc)return{bytesValue:Rq(i.serializer,r._byteString)};if(r instanceof Ci){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:m1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof k1)return(function(a,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map((c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return d1(l.serializer,c)}))}}}}}})(r,i);throw i.Bu(`Unsupported field value: ${C1(r)}`)})(t,e)}function a6(t,e){const n={};return iq(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hf(t,((r,i)=>{const o=o6(i,e.Mu(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function s6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pn||t instanceof P1||t instanceof Jc||t instanceof Ci||t instanceof r6||t instanceof k1)}function l6(t,e,n){if(!s6(n)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(n)){const r=C1(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function x_e(t,e,n){if((e=Hn(e))instanceof R1)return e._internalPath;if(typeof e=="string")return u6(t,e);throw Jy("Field path arguments must be of type string or ",t,!1,void 0,n)}const A_e=new RegExp("[~\\*/\\[\\]]");function u6(t,e,n){if(e.search(A_e)>=0)throw Jy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new R1(...e.split("."))._internalPath}catch{throw Jy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jy(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Ue(ve.INVALID_ARGUMENT,l+t+c)}function C_e(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ci(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I_e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(f6("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class I_e extends c6{data(){return super.data()}}function f6(t,e){return typeof e=="string"?u6(t,e):e instanceof R1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_e(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ue(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P_e{convertValue(e,n="none"){switch(cu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(uu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw qe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return hf(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((a=>dn(a.doubleValue)));return new k1(o)}convertGeoPoint(e){return new P1(dn(e.latitude),dn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=s1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xh(e));default:return null}}convertTimestamp(e){const n=Ws(e);return new Pn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=on.fromString(e);At(Oq(r));const i=new Ah(r.get(1),r.get(3)),o=new Ve(r.popFirst(5));return i.isEqual(n)||Ia(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_e(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class d6 extends c6{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ug(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(f6("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ug extends d6{data(e={}){return super.data(e)}}class M_e{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ug(this._firestore,this._userDataWriter,r.key,r,new Bd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ue(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((l=>{const c=new Ug(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Bd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>o||l.type!==3)).map((l=>{const c=new Ug(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Bd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return l.type!==0&&(f=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:N_e(l.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function N_e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe()}}class h6 extends P_e{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ci(this.firestore,null,n)}}function D_e(t,e,n){t=Mc(t,Ci);const r=Mc(t.firestore,Wy),i=k_e(t.converter,e,n);return L_e(r,[S_e(T_e(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ya.none())])}function O_e(t,...e){var n,r,i;t=Hn(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||_L(e[a])||(o=e[a],a++);const l={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(_L(e[a])){const p=e[a];e[a]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[a+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[a+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,f,h;if(t instanceof Ci)f=Mc(t.firestore,Wy),h=f1(t._key.path),c={next:p=>{e[a]&&e[a](U_e(f,t,p))},error:e[a+1],complete:e[a+2]};else{const p=Mc(t,d0);f=Mc(p.firestore,Wy),h=p._query;const g=new h6(f);c={next:v=>{e[a]&&e[a](new M_e(f,g,p,v))},error:e[a+1],complete:e[a+2]},R_e(t._query)}return(function(g,v,T,x){const S=new f_e(x),C=new K0e(v,S,T);return g.asyncQueue.enqueueAndForget((async()=>H0e(await hL(g),C))),()=>{S.Za(),g.asyncQueue.enqueueAndForget((async()=>j0e(await hL(g),C)))}})(n6(f),h,l,c)}function L_e(t,e){return(function(r,i){const o=new Xl;return r.asyncQueue.enqueueAndForget((async()=>r_e(await p_e(r),i,o))),o.promise})(n6(t),e)}function U_e(t,e,n){const r=n.docs.get(e._key),i=new h6(t);return new d6(t,i,e._key,r,new Bd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){df=i})(yu),au(new Ks("firestore",((r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),l=new Wy(new Mye(r.getProvider("auth-internal")),new Lye(r.getProvider("app-check-internal")),(function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ue(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ah(f.options.projectId,h)})(a,i),a);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l}),"PUBLIC").setMultipleInstances(!0)),To(L2,"4.7.3",e),To(L2,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6="firebasestorage.googleapis.com",m6="storageBucket",V_e=120*1e3,F_e=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln extends No{constructor(e,n,r=0){super(Lw(e),`Firebase Storage: ${n} (${Lw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ln.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var sn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(sn||(sn={}));function Lw(t){return"storage/"+t}function N1(){const t="An unknown error occurred, please check the error payload for server response.";return new ln(sn.UNKNOWN,t)}function z_e(t){return new ln(sn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function B_e(t){return new ln(sn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function q_e(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ln(sn.UNAUTHENTICATED,t)}function H_e(){return new ln(sn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function j_e(t){return new ln(sn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function $_e(){return new ln(sn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function G_e(){return new ln(sn.CANCELED,"User canceled the upload/download.")}function K_e(t){return new ln(sn.INVALID_URL,"Invalid URL '"+t+"'.")}function Y_e(t){return new ln(sn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function W_e(){return new ln(sn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+m6+"' property when initializing the app?")}function J_e(){return new ln(sn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function X_e(){return new ln(sn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Q_e(t){return new ln(sn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function _S(t){return new ln(sn.INVALID_ARGUMENT,t)}function g6(){return new ln(sn.APP_DELETED,"The Firebase app was deleted.")}function Z_e(t){return new ln(sn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xd(t,e){return new ln(sn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Nd(t){throw new ln(sn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ii.makeFromUrl(e,n)}catch{return new ii(e,"")}if(r.path==="")return r;throw Y_e(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function f(G){G.path_=decodeURIComponent(G.path)}const h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp(`^https?://${p}/${h}/b/${i}/o${g}`,"i"),T={bucket:1,path:3},x=n===p6?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",C=new RegExp(`^https?://${x}/${i}/${S}`,"i"),M=[{regex:l,indices:c,postModify:o},{regex:v,indices:T,postModify:f},{regex:C,indices:{bucket:1,path:2},postModify:f}];for(let G=0;G<M.length;G++){const $=M[G],z=$.regex.exec(e);if(z){const N=z[$.indices.bucket];let U=z[$.indices.path];U||(U=""),r=new ii(N,U),$.postModify(r);break}}if(r==null)throw K_e(e);return r}}class ebe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tbe(t,e,n){let r=1,i=null,o=null,a=!1,l=0;function c(){return l===2}let f=!1;function h(...S){f||(f=!0,e.apply(null,S))}function p(S){i=setTimeout(()=>{i=null,t(v,c())},S)}function g(){o&&clearTimeout(o)}function v(S,...C){if(f){g();return}if(S){g(),h.call(null,S,...C);return}if(c()||a){g(),h.call(null,S,...C);return}r<64&&(r*=2);let M;l===1?(l=2,M=0):M=(r+Math.random())*1e3,p(M)}let T=!1;function x(S){T||(T=!0,g(),!f&&(i!==null?(S||(l=2),clearTimeout(i),p(0)):S||(l=1)))}return p(0),o=setTimeout(()=>{a=!0,x(!0)},n),x}function nbe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rbe(t){return t!==void 0}function ibe(t){return typeof t=="object"&&!Array.isArray(t)}function D1(t){return typeof t=="string"||t instanceof String}function bL(t){return O1()&&t instanceof Blob}function O1(){return typeof Blob<"u"}function EL(t,e,n,r){if(r<e)throw _S(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw _S(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function y6(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Ql;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ql||(Ql={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function obe(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class abe{constructor(e,n,r,i,o,a,l,c,f,h,p,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=p,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,T)=>{this.resolve_=v,this.reject_=T,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new pg(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=l=>{const c=l.loaded,f=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const l=o.getErrorCode()===Ql.NO_ERROR,c=o.getStatus();if(!l||obe(c,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===Ql.ABORT;r(!1,new pg(!1,null,h));return}const f=this.successCodes_.indexOf(c)!==-1;r(!0,new pg(f,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());rbe(c)?o(c):o()}catch(c){a(c)}else if(l!==null){const c=N1();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(i.canceled){const c=this.appDelete_?g6():G_e();a(c)}else{const c=$_e();a(c)}};this.canceled_?n(!1,new pg(!1,null,!0)):this.backoffId_=tbe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&nbe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pg{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function sbe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function lbe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ube(t,e){e&&(t["X-Firebase-GMPID"]=e)}function cbe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function fbe(t,e,n,r,i,o,a=!0){const l=y6(t.urlParams),c=t.url+l,f=Object.assign({},t.headers);return ube(f,e),sbe(f,n),lbe(f,o),cbe(f,r),new abe(c,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dbe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function hbe(...t){const e=dbe();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(O1())return new Blob(t);throw new ln(sn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function pbe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mbe(t){if(typeof atob>"u")throw Q_e("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Uw{constructor(e,n){this.data=e,this.contentType=n||null}}function gbe(t,e){switch(t){case Eo.RAW:return new Uw(v6(e));case Eo.BASE64:case Eo.BASE64URL:return new Uw(_6(t,e));case Eo.DATA_URL:return new Uw(vbe(e),_be(e))}throw N1()}function v6(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function ybe(t){let e;try{e=decodeURIComponent(t)}catch{throw Xd(Eo.DATA_URL,"Malformed data URL.")}return v6(e)}function _6(t,e){switch(t){case Eo.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Xd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Eo.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Xd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=mbe(e)}catch(i){throw i.message.includes("polyfill")?i:Xd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class b6{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Xd(Eo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=bbe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function vbe(t){const e=new b6(t);return e.base64?_6(Eo.BASE64,e.rest):ybe(e.rest)}function _be(t){return new b6(t).contentType}function bbe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n){let r=0,i="";bL(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(bL(this.data_)){const r=this.data_,i=pbe(r,e,n);return i===null?null:new Ds(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ds(r,!0)}}static getBlob(...e){if(O1()){const n=e.map(r=>r instanceof Ds?r.data_:r);return new Ds(hbe.apply(null,n))}else{const n=e.map(a=>D1(a)?gbe(Eo.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)i[o++]=a[l]}),new Ds(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(t){let e;try{e=JSON.parse(t)}catch{return null}return ibe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ebe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function wbe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function w6(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tbe(t,e){return e}class Tr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Tbe}}let mg=null;function Sbe(t){return!D1(t)||t.length<2?t:w6(t)}function T6(){if(mg)return mg;const t=[];t.push(new Tr("bucket")),t.push(new Tr("generation")),t.push(new Tr("metageneration")),t.push(new Tr("name","fullPath",!0));function e(o,a){return Sbe(a)}const n=new Tr("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}const i=new Tr("size");return i.xform=r,t.push(i),t.push(new Tr("timeCreated")),t.push(new Tr("updated")),t.push(new Tr("md5Hash",null,!0)),t.push(new Tr("cacheControl",null,!0)),t.push(new Tr("contentDisposition",null,!0)),t.push(new Tr("contentEncoding",null,!0)),t.push(new Tr("contentLanguage",null,!0)),t.push(new Tr("contentType",null,!0)),t.push(new Tr("metadata","customMetadata",!0)),mg=t,mg}function xbe(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new ii(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function Abe(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];r[a.local]=a.xform(r,e[a.server])}return xbe(r,t),r}function S6(t,e,n){const r=E6(e);return r===null?null:Abe(t,r,n)}function Cbe(t,e,n,r){const i=E6(e);if(i===null||!D1(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(f=>{const h=t.bucket,p=t.fullPath,g="/b/"+a(h)+"/o/"+a(p),v=h0(g,n,r),T=y6({alt:"media",token:f});return v+T})[0]}function Ibe(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class L1{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(t){if(!t)throw N1()}function Rbe(t,e){function n(r,i){const o=S6(t,i,e);return x6(o!==null),o}return n}function Pbe(t,e){function n(r,i){const o=S6(t,i,e);return x6(o!==null),Cbe(o,i,t.host,t._protocol)}return n}function A6(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=H_e():i=q_e():n.getStatus()===402?i=B_e(t.bucket):n.getStatus()===403?i=j_e(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function C6(t){const e=A6(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=z_e(t.path)),o.serverResponse=i.serverResponse,o}return n}function kbe(t,e,n){const r=e.fullServerUrl(),i=h0(r,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,l=new L1(i,o,Pbe(t,n),a);return l.errorHandler=C6(e),l}function Mbe(t,e){const n=e.fullServerUrl(),r=h0(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function a(c,f){}const l=new L1(r,i,a,o);return l.successCodes=[200,204],l.errorHandler=C6(e),l}function Nbe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Dbe(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Nbe(null,e)),r}function Obe(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let M="";for(let G=0;G<2;G++)M=M+Math.random().toString().slice(2);return M}const c=l();a["Content-Type"]="multipart/related; boundary="+c;const f=Dbe(e,r,i),h=Ibe(f,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,g=`\r
--`+c+"--",v=Ds.getBlob(p,r,g);if(v===null)throw J_e();const T={name:f.fullPath},x=h0(o,t.host,t._protocol),S="POST",C=t.maxUploadRetryTime,L=new L1(x,S,Rbe(t,n),C);return L.urlParams=T,L.headers=a,L.body=v.uploadData(),L.errorHandler=A6(e),L}class Lbe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ql.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ql.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ql.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Nd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Ube extends Lbe{initXhr(){this.xhr_.responseType="text"}}function U1(){return new Ube}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this._service=e,n instanceof ii?this._location=n:this._location=ii.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new fu(e,n)}get root(){const e=new ii(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return w6(this._location.path)}get storage(){return this._service}get parent(){const e=Ebe(this._location.path);if(e===null)return null;const n=new ii(this._location.bucket,e);return new fu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Z_e(e)}}function Vbe(t,e,n){t._throwIfRoot("uploadBytes");const r=Obe(t.storage,t._location,T6(),new Ds(e,!0),n);return t.storage.makeRequestWithTokens(r,U1).then(i=>({metadata:i,ref:t}))}function Fbe(t){t._throwIfRoot("getDownloadURL");const e=kbe(t.storage,t._location,T6());return t.storage.makeRequestWithTokens(e,U1).then(n=>{if(n===null)throw X_e();return n})}function zbe(t){t._throwIfRoot("deleteObject");const e=Mbe(t.storage,t._location);return t.storage.makeRequestWithTokens(e,U1)}function Bbe(t,e){const n=wbe(t._location.path,e),r=new ii(t._location.bucket,n);return new fu(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qbe(t){return/^[A-Za-z]+:\/\//.test(t)}function Hbe(t,e){return new fu(t,e)}function I6(t,e){if(t instanceof V1){const n=t;if(n._bucket==null)throw W_e();const r=new fu(n,n._bucket);return e!=null?I6(r,e):r}else return e!==void 0?Bbe(t,e):t}function jbe(t,e){if(e&&qbe(e)){if(t instanceof V1)return Hbe(t,e);throw _S("To use ref(service, url), the first argument must be a Storage instance.")}else return I6(t,e)}function wL(t,e){const n=e==null?void 0:e[m6];return n==null?null:ii.makeFromBucketSpec(n,t)}function $be(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:h5(i,t.app.options.projectId))}class V1{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=p6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=V_e,this._maxUploadRetryTime=F_e,this._requests=new Set,i!=null?this._bucket=ii.makeFromBucketSpec(i,this._host):this._bucket=wL(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ii.makeFromBucketSpec(this._url,e):this._bucket=wL(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){EL("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){EL("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fu(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new ebe(g6());{const a=fbe(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const TL="@firebase/storage",SL="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6="storage";function P6(t,e,n){return t=Hn(t),Vbe(t,e,n)}function k6(t){return t=Hn(t),Fbe(t)}function M6(t){return t=Hn(t),zbe(t)}function Xy(t,e){return t=Hn(t),jbe(t,e)}function Gbe(t=GA(),e){t=Hn(t);const r=Qv(t,R6).getImmediate({identifier:e}),i=c5("storage");return i&&Kbe(r,...i),r}function Kbe(t,e,n,r={}){$be(t,e,n,r)}function Ybe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new V1(n,r,i,e,yu)}function Wbe(){au(new Ks(R6,Ybe,"PUBLIC").setMultipleInstances(!0)),To(TL,SL,""),To(TL,SL,"esm2017")}Wbe();const bS={apiKey:"AIzaSyApdW3VyiDJc9kJhvl6KC2IB4Q7HX6jBGM",authDomain:"notion-35f2a.firebaseapp.com",projectId:"notion-35f2a",storageBucket:"notion-35f2a.firebasestorage.app",messagingSenderId:"83841265274",appId:"1:83841265274:web:40300f10e24f9f25add5c3",measurementId:"G-4D3LMLMZ0Q"},ES=bS.apiKey!=="YOUR_API_KEY"&&bS.apiKey!=="",Xc=ES?g5(bS):null,Ec=Xc?Iye(Xc):null,gg=Xc?v_e(Xc):null,Vs=Xc?Gbe(Xc):null,Jbe=new ua,Xbe=({notes:t,logoUrl:e,attachments:n=[],onUpdateNotes:r,onUpdateLogo:i,onUpdateAttachments:o})=>{const[a,l]=O.useState(!0),[c,f]=O.useState(!1),h=async v=>{var x;const T=(x=v.target.files)==null?void 0:x[0];if(T){if(!Vs){alert("  Firebase ");return}f(!0);try{const S=`notes/attachments/${Date.now()}_${T.name}`,C=Xy(Vs,S);await P6(C,T);const L=await k6(C),M={id:Math.random().toString(36).substr(2,9),name:T.name,url:L,path:S,type:T.type,createdAt:new Date().toISOString()};o([...n,M])}catch(S){console.error("Upload failed:",S),S.code==="storage/unauthorized"?alert("  Firebase Storage  Rules "):S.message.includes("CORS")||S.name==="FirebaseError"?alert(`  CORS 

 lib/firebase.ts  Google Cloud Storage  CORS `):alert(` 
: ${S.message}`)}finally{f(!1),v.target.value=""}}},p=async v=>{if(!(!confirm(" ")||!Vs))try{const T=Xy(Vs,v.path);await M6(T),o(n.filter(x=>x.id!==v.id))}catch(T){console.error("Delete failed:",T),o(n.filter(x=>x.id!==v.id))}},g=v=>{var x;const T=(x=v.target.files)==null?void 0:x[0];if(T){const S=URL.createObjectURL(T);i(S)}};return D.jsx("div",{className:"bg-white rounded-[40px] p-8 cute-shadow border border-pink-100 min-h-[600px] flex flex-col space-y-8",children:D.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[D.jsxs("div",{className:"w-full lg:w-64 flex-shrink-0 space-y-8",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-bold text-pink-400 mb-4 uppercase tracking-wider",children:" "}),D.jsxs("div",{className:"w-full aspect-square max-w-[200px] bg-pink-50 rounded-3xl border-2 border-dashed border-pink-200 flex items-center justify-center overflow-hidden relative group cursor-pointer shadow-inner mx-auto lg:mx-0",onClick:()=>{var v;return(v=document.getElementById("logo-input-notes"))==null?void 0:v.click()},children:[e!=null&&e.startsWith("http")||e!=null&&e.startsWith("blob")?D.jsx("img",{src:e,alt:"Logo",className:"w-full h-full object-cover"}):e?D.jsx("span",{className:"text-6xl",children:e}):D.jsx(J$,{className:"text-pink-200",size:48}),D.jsx("div",{className:"absolute inset-0 bg-pink-500/10 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:D.jsx("span",{className:"text-xs text-white font-bold bg-pink-400 px-3 py-1.5 rounded-full shadow-lg",children:""})}),D.jsx("input",{id:"logo-input-notes",type:"file",className:"hidden",accept:"image/*",onChange:g})]})]}),D.jsxs("div",{children:[D.jsxs("div",{className:"flex items-center justify-between mb-4",children:[D.jsx("label",{className:"text-sm font-bold text-pink-400 uppercase tracking-wider",children:" "}),D.jsx("button",{onClick:()=>{var v;return(v=document.getElementById("file-upload-notes"))==null?void 0:v.click()},disabled:c,className:"p-1.5 bg-pink-50 text-pink-400 rounded-lg hover:bg-pink-100 transition-colors disabled:opacity-50",title:"",children:c?D.jsx(eh,{size:16,className:"animate-spin"}):D.jsx(Hw,{size:16})}),D.jsx("input",{id:"file-upload-notes",type:"file",className:"hidden",onChange:h})]}),D.jsxs("div",{className:"space-y-2",children:[n.map(v=>D.jsxs("div",{className:"group flex items-center gap-2 p-2 bg-pink-50/30 rounded-xl border border-pink-50 hover:bg-white hover:shadow-sm transition-all",children:[D.jsx(xV,{size:14,className:"text-pink-300"}),D.jsx("span",{className:"flex-1 text-[11px] font-bold text-[#5c4b51] truncate",title:v.name,children:v.name}),D.jsxs("div",{className:"flex opacity-0 group-hover:opacity-100 transition-opacity",children:[D.jsx("a",{href:v.url,target:"_blank",rel:"noopener noreferrer",className:"p-1 text-blue-300 hover:text-blue-500",children:D.jsx(TV,{size:12})}),D.jsx("button",{onClick:()=>p(v),className:"p-1 text-pink-200 hover:text-red-400",children:D.jsx(Nh,{size:12})})]})]},v.id)),n.length===0&&D.jsx("p",{className:"text-center py-4 text-[10px] text-pink-200 font-bold italic",children:""})]})]})]}),D.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[D.jsxs("div",{className:"flex items-center justify-between mb-4",children:[D.jsxs("label",{className:"text-sm font-bold text-pink-400 flex items-center gap-2 uppercase tracking-wider",children:[D.jsx(Oc,{size:16})," Markdown  "]}),D.jsxs("div",{className:"flex bg-pink-50 p-1 rounded-xl border border-pink-100",children:[D.jsxs("button",{onClick:()=>l(!0),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${a?"bg-white text-pink-500 shadow-sm":"text-pink-300"}`,children:[D.jsx(Oc,{size:12})," "]}),D.jsxs("button",{onClick:()=>l(!1),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${a?"text-pink-300":"bg-white text-pink-500 shadow-sm"}`,children:[D.jsx(SV,{size:12})," "]})]})]}),D.jsx("div",{className:"flex-1 flex flex-col min-h-[400px]",children:a?D.jsx("textarea",{className:"flex-1 w-full p-6 rounded-[32px] bg-pink-50/20 border-2 border-pink-50 focus:border-pink-200 focus:outline-none focus:ring-4 focus:ring-pink-50 text-[#5c4b51] resize-none font-mono text-sm leading-relaxed",placeholder:"#  1\\n##  2\\n- [ ] \\n- ****\\n Markdown ",value:t,onChange:v=>r(v.target.value)}):D.jsx("div",{className:"flex-1 w-full p-8 rounded-[32px] bg-white border border-pink-50 overflow-y-auto prose prose-pink max-w-none shadow-inner",children:D.jsx(O3,{remarkPlugins:[o5],children:t||"**"})})})]})]})})},Qbe={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},xHours:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},Zbe=(t,e,n)=>{let r;const i=Qbe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?r+"":r+"":r},eEe={full:"y''M''d'' EEEE",long:"y''M''d''",medium:"yyyy-MM-dd",short:"yy-MM-dd"},tEe={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},nEe={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},rEe={date:Sc({formats:eEe,defaultWidth:"full"}),time:Sc({formats:tEe,defaultWidth:"full"}),dateTime:Sc({formats:nEe,defaultWidth:"full"})},iEe={lastWeek:"''eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"''eeee p",other:"P"},oEe=(t,e,n,r)=>iEe[t],aEe={narrow:["",""],abbreviated:["",""],wide:["",""]},sEe={narrow:["1","2","3","4"],abbreviated:["","","",""],wide:["","","",""]},lEe={narrow:["","","","","","","","","","","",""],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["","","","","","","","","","","",""]},uEe={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},cEe={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},fEe={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},dEe=(t,e)=>{const n=Number(t);switch(e==null?void 0:e.unit){case"date":return n+"";case"hour":return n+"";case"minute":return n+"";case"second":return n+"";default:return" "+n}},hEe={ordinalNumber:dEe,era:vo({values:aEe,defaultWidth:"wide"}),quarter:vo({values:sEe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:vo({values:lEe,defaultWidth:"wide"}),day:vo({values:uEe,defaultWidth:"wide"}),dayPeriod:vo({values:cEe,defaultWidth:"wide",formattingValues:fEe,defaultFormattingWidth:"wide"})},pEe=/^(\s*)?\d+(|||)?/i,mEe=/\d+/i,gEe={narrow:/^()/i,abbreviated:/^()/i,wide:/^(|)/i},yEe={any:[/^()/i,/^()/i]},vEe={narrow:/^[1234]/i,abbreviated:/^[]/i,wide:/^[]/i},_Ee={any:[/(1|)/i,/(2|)/i,/(3|)/i,/(4|)/i]},bEe={narrow:/^(|||||||||[])/i,abbreviated:/^(|||||||||[]|\d|1[12])/i,wide:/^(|||||||||[])/i},EEe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^(?!(|))/i,/^/i,/^/i],any:[/^|1/i,/^|2/i,/^|3/i,/^|4/i,/^|5/i,/^|6/i,/^|7/i,/^|8/i,/^|9/i,/^(?!(|))|10/i,/^|11/i,/^|12/i]},wEe={narrow:/^[]/i,short:/^[]/i,abbreviated:/^[]/i,wide:/^[]/i},TEe={any:[//i,//i,//i,//i,//i,//i,//i]},SEe={any:/^(?|?||[]|?||?|)/i},xEe={any:{am:/^?/i,pm:/^?/i,midnight:/^/i,noon:/^[]/i,morning:/^/i,afternoon:/^/i,evening:/^?/i,night:/^/i}},AEe={ordinalNumber:NV({matchPattern:pEe,parsePattern:mEe,valueCallback:t=>parseInt(t,10)}),era:_o({matchPatterns:gEe,defaultMatchWidth:"wide",parsePatterns:yEe,defaultParseWidth:"any"}),quarter:_o({matchPatterns:vEe,defaultMatchWidth:"wide",parsePatterns:_Ee,defaultParseWidth:"any",valueCallback:t=>t+1}),month:_o({matchPatterns:bEe,defaultMatchWidth:"wide",parsePatterns:EEe,defaultParseWidth:"any"}),day:_o({matchPatterns:wEe,defaultMatchWidth:"wide",parsePatterns:TEe,defaultParseWidth:"any"}),dayPeriod:_o({matchPatterns:SEe,defaultMatchWidth:"any",parsePatterns:xEe,defaultParseWidth:"any"})},CEe={code:"zh-TW",formatDistance:Zbe,formatLong:rEe,formatRelative:oEe,localize:hEe,match:AEe,options:{weekStartsOn:1,firstWeekContainsDate:4}},xL=({tasks:t})=>{const[e,n]=O.useState(new Date),r=new Date(e.getFullYear(),e.getMonth(),1),i=IG(e),o=new Date(r);o.setDate(r.getDate()-r.getDay());const a=kG(i),l=MV({start:o,end:a}),c=()=>n($w(e,1)),f=()=>n($w(e,-1)),h=()=>n(LP(e,1)),p=()=>n(LP(e,-1)),g=v=>{v=v.replace("#","");const T=parseInt(v.substr(0,2),16),x=parseInt(v.substr(2,2),16),S=parseInt(v.substr(4,2),16);return(T*299+x*587+S*114)/1e3>=128?"#5c4b51":"white"};return D.jsxs("div",{className:"bg-white rounded-[40px] p-8 cute-shadow border border-pink-100",children:[D.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-6 gap-4",children:[D.jsxs("h2",{className:"text-xl font-bold text-pink-600 flex items-center gap-2",children:[D.jsx("span",{className:"text-2xl",children:""})," "]}),D.jsxs("div",{className:"flex items-center gap-2 bg-pink-50/50 p-1 rounded-2xl",children:[D.jsx("button",{onClick:p,className:"p-2 hover:bg-white rounded-xl text-pink-300 transition-colors",title:"",children:D.jsx(P$,{size:18})}),D.jsx("button",{onClick:f,className:"p-2 hover:bg-white rounded-xl text-pink-300 transition-colors",title:"",children:D.jsx(C$,{size:18})}),D.jsx("div",{className:"px-4 font-bold text-pink-500 min-w-[140px] text-center",children:qg(e,"yyyy MMMM",{locale:CEe})}),D.jsx("button",{onClick:c,className:"p-2 hover:bg-white rounded-xl text-pink-300 transition-colors",title:"",children:D.jsx(wV,{size:18})}),D.jsx("button",{onClick:h,className:"p-2 hover:bg-white rounded-xl text-pink-300 transition-colors",title:"",children:D.jsx(M$,{size:18})})]})]}),D.jsxs("div",{className:"grid grid-cols-7 border-t border-l border-pink-50 rounded-3xl overflow-hidden border-r border-b shadow-inner",children:[["","","","","","",""].map(v=>D.jsx("div",{className:"p-3 text-center text-xs font-bold text-pink-400 border-r border-b border-pink-50 bg-pink-50/20",children:v},v)),l.map((v,T)=>{const x=t.filter(S=>{const C=new Date(S.startDate),L=new Date(S.endDate),M=new Date(v);return M.setHours(0,0,0,0),C.setHours(0,0,0,0),L.setHours(0,0,0,0),M>=C&&M<=L});return D.jsxs("div",{className:`min-h-[120px] p-2 border-r border-b border-pink-50 transition-colors hover:bg-pink-50/10 ${R8(v,r)?"bg-white":"opacity-30 bg-gray-50/50"}`,children:[D.jsx("div",{className:"flex justify-between items-center h-8 mb-1",children:D.jsx("span",{className:`text-xs font-bold w-7 h-7 flex items-center justify-center rounded-full transition-all ${P8(v)?"bg-pink-500 text-white shadow-sm":"text-[#5c4b51]"}`,children:qg(v,"d")})}),D.jsx("div",{className:"space-y-1",children:x.map(S=>D.jsx("div",{className:"text-[10px] p-1.5 rounded-lg font-bold truncate shadow-sm leading-tight border border-white/50 block w-full text-left",style:{backgroundColor:S.color,color:g(S.color)},title:S.title,children:S.title},S.id))})]},T)})]})]})},IEe=({precautions:t,backgroundColor:e="#fff9c4",onUpdate:n,onColorChange:r})=>{const[i,o]=O.useState(""),[a,l]=O.useState(!1),c=()=>{i.trim()&&(n([...t,i.trim()]),o(""))},f=p=>{const g=[...t];g.splice(p,1),n(g)},h=()=>{const p=prompt(" Hex  ( #ffdeeb) ",e);p&&/^#([0-9A-F]{3}){1,2}$/i.test(p)?r(p):p&&alert(" # ")};return D.jsxs("div",{className:"rounded-[40px] p-8 cute-shadow border transition-colors duration-500 h-full flex flex-col relative",style:{backgroundColor:e,borderColor:`${e}dd`},children:[D.jsxs("div",{className:"flex items-center justify-between mb-6",children:[D.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",style:{color:"rgba(0,0,0,0.6)"},children:[D.jsx(Oc,{size:24,className:"opacity-70"})," "]}),D.jsxs("div",{className:"flex items-center gap-2 relative",children:[a&&D.jsxs("div",{className:"absolute right-full mr-3 flex items-center gap-1.5 bg-white/80 backdrop-blur-md p-2 rounded-2xl shadow-lg border border-white animate-in slide-in-from-right-2 duration-300",children:[nr.stickyNotes.map(p=>D.jsx("button",{onClick:()=>r(p),className:"w-6 h-6 rounded-full border border-black/5 hover:scale-110 transition-transform flex items-center justify-center",style:{backgroundColor:p},children:e===p&&D.jsx(FS,{size:12,className:"text-black/40"})},p)),D.jsx("button",{onClick:h,className:"w-6 h-6 rounded-full border-2 border-dashed border-pink-300 flex items-center justify-center bg-white hover:bg-pink-50 transition-colors",title:"",children:D.jsx(th,{size:12,className:"text-pink-400"})})]}),D.jsx("button",{onClick:()=>l(!a),className:`p-2 rounded-xl transition-all ${a?"bg-white shadow-inner scale-90":"bg-white/40 hover:bg-white/60"}`,children:D.jsx(sG,{size:20,className:"text-black/40"})})]})]}),D.jsxs("div",{className:"flex-1 space-y-3 overflow-y-auto max-h-[300px] pr-2 custom-scrollbar",children:[t.map((p,g)=>D.jsxs("div",{className:"flex items-center gap-3 group bg-white/40 p-3 rounded-2xl border border-white/20 hover:bg-white/60 transition-all",children:[D.jsx("span",{className:"text-xl",children:""}),D.jsx("p",{className:"flex-1 text-sm font-medium",style:{color:"rgba(0,0,0,0.7)"},children:p}),D.jsx("button",{onClick:()=>f(g),className:"p-1 opacity-0 group-hover:opacity-100 text-black/20 hover:text-red-400 transition-all",children:D.jsx(Nh,{size:16})})]},g)),t.length===0&&D.jsx("p",{className:"text-center py-8 opacity-40 italic text-sm",children:" "})]}),D.jsxs("div",{className:"mt-6 relative",children:[D.jsx("input",{type:"text",value:i,onChange:p=>o(p.target.value),onKeyPress:p=>p.key==="Enter"&&c(),placeholder:"...",className:"w-full bg-white/60 border-2 border-transparent focus:border-white/80 rounded-full px-6 py-3 text-sm focus:outline-none transition-all pr-12 font-medium placeholder-black/20",style:{color:"rgba(0,0,0,0.8)"}}),D.jsx("button",{onClick:c,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 text-black/40 p-2 rounded-full hover:bg-white transition-colors shadow-sm",children:D.jsx(th,{size:18})})]})]})},REe=({task:t,allProjects:e,onClose:n,onUpdate:r})=>{var h;const[i,o]=O.useState(!1),[a,l]=O.useState(!1),c=async p=>{var v;const g=(v=p.target.files)==null?void 0:v[0];if(g){if(!Vs){alert("  Firebase ");return}l(!0);try{const T=`tasks/${t.id}/${Date.now()}_${g.name}`,x=Xy(Vs,T);await P6(x,g);const S=await k6(x),C={id:Math.random().toString(36).substr(2,9),name:g.name,url:S,path:T,type:g.type,createdAt:new Date().toISOString()};r({attachments:[...t.attachments||[],C]})}catch(T){console.error("Upload failed:",T),T.message.includes("CORS")?alert(`  CORS 

 lib/firebase.ts  Storage  CORS `):alert(` 
: ${T.message}`)}finally{l(!1),p.target.value=""}}},f=async p=>{if(!(!confirm(" ")||!Vs))try{const g=Xy(Vs,p.path);await M6(g),r({attachments:(t.attachments||[]).filter(v=>v.id!==p.id)})}catch(g){console.error("Delete failed:",g),r({attachments:(t.attachments||[]).filter(v=>v.id!==p.id)})}};return D.jsx("div",{className:"fixed inset-0 z-[60] flex justify-end bg-black/20 backdrop-blur-sm animate-in fade-in duration-300",children:D.jsxs("div",{className:"w-full max-w-lg bg-white h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-500 rounded-l-[40px] border-l-4 border-pink-100",onClick:p=>p.stopPropagation(),children:[D.jsxs("div",{className:"flex items-center justify-between p-8 border-b border-pink-50",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center text-xl shadow-inner bg-pink-50",children:""}),D.jsx("h2",{className:"text-xl font-bold text-pink-600",children:""})]}),D.jsx("button",{onClick:n,className:"p-2 hover:bg-pink-50 rounded-full transition-colors text-pink-300",children:D.jsx(_G,{size:24})})]}),D.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-8 no-scrollbar",children:[D.jsxs("div",{className:"space-y-2",children:[D.jsx("label",{className:"text-xs font-bold text-pink-300 uppercase tracking-wider",children:""}),D.jsx("input",{value:t.title,onChange:p=>r({title:p.target.value}),placeholder:"...",className:"text-2xl font-bold text-[#5c4b51] w-full bg-transparent border-none focus:outline-none focus:ring-2 focus:ring-pink-100 rounded-xl px-2 py-1"})]}),D.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[D.jsxs("div",{className:"space-y-2",children:[D.jsxs("label",{className:"text-xs font-bold text-pink-300 flex items-center gap-1 uppercase tracking-wider",children:[D.jsx(D$,{size:12})," "]}),D.jsx("select",{value:t.status,onChange:p=>{const g=p.target.value;r({status:g,progress:g===zt.COMPLETED?100:t.progress})},className:"w-full p-3 rounded-2xl border-none text-sm font-bold text-[#5c4b51] focus:outline-none focus:ring-4 focus:ring-pink-100 transition-all shadow-sm cursor-pointer",style:{backgroundColor:nr.status[t.status]+"66"},children:Object.values(zt).map(p=>D.jsx("option",{value:p,className:"bg-white",children:p},p))})]}),D.jsxs("div",{className:"space-y-2",children:[D.jsxs("label",{className:"text-xs font-bold text-pink-300 flex items-center gap-1 uppercase tracking-wider",children:[D.jsx($$,{size:12})," "]}),D.jsx("select",{value:t.priority,onChange:p=>r({priority:p.target.value}),className:"w-full p-3 rounded-2xl border-none text-sm font-bold text-[#5c4b51] focus:outline-none focus:ring-4 focus:ring-pink-100 transition-all shadow-sm cursor-pointer",style:{backgroundColor:nr.priority[t.priority]},children:Object.values(Fs).map(p=>D.jsx("option",{value:p,className:"bg-white",children:p},p))})]})]}),D.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[D.jsxs("div",{className:"space-y-2",children:[D.jsxs("label",{className:"text-xs font-bold text-pink-300 flex items-center gap-1 uppercase tracking-wider",children:[D.jsx(qw,{size:12})," "]}),D.jsx("input",{type:"date",value:t.startDate.split("T")[0],onChange:p=>r({startDate:new Date(p.target.value).toISOString()}),className:"w-full p-3 rounded-2xl bg-pink-50/50 border border-pink-100 text-sm font-medium text-[#5c4b51] focus:outline-none focus:ring-2 focus:ring-pink-200"})]}),D.jsxs("div",{className:"space-y-2",children:[D.jsxs("label",{className:"text-xs font-bold text-pink-300 flex items-center gap-1 uppercase tracking-wider",children:[D.jsx(qw,{size:12})," "]}),D.jsx("input",{type:"date",value:t.endDate.split("T")[0],onChange:p=>r({endDate:new Date(p.target.value).toISOString()}),className:"w-full p-3 rounded-2xl bg-pink-50/50 border border-pink-100 text-sm font-medium text-[#5c4b51] focus:outline-none focus:ring-2 focus:ring-pink-200"})]})]}),D.jsxs("div",{className:"space-y-3",children:[D.jsxs("div",{className:"flex justify-between items-center",children:[D.jsx("label",{className:"text-xs font-bold text-pink-300 uppercase tracking-wider",children:""}),D.jsxs("span",{className:"text-sm font-bold text-pink-500",children:[t.progress,"%"]})]}),D.jsx("input",{type:"range",min:"0",max:"100",value:t.progress,onChange:p=>r({progress:parseInt(p.target.value)}),className:"w-full h-2 bg-pink-100 rounded-lg appearance-none cursor-pointer accent-pink-400 shadow-inner"})]}),D.jsxs("div",{className:"space-y-3",children:[D.jsxs("div",{className:"flex items-center justify-between",children:[D.jsxs("label",{className:"text-xs font-bold text-pink-300 flex items-center gap-1 uppercase tracking-wider",children:[D.jsx(Hw,{size:12})," "]}),D.jsx("button",{onClick:()=>{var p;return(p=document.getElementById("task-file-upload"))==null?void 0:p.click()},disabled:a,className:"text-[10px] font-bold px-2 py-1 rounded-lg bg-pink-50 text-pink-400 hover:bg-pink-100 transition-colors flex items-center gap-1",children:a?D.jsx(eh,{size:10,className:"animate-spin"}):D.jsxs(D.Fragment,{children:[D.jsx(Hw,{size:10})," "]})}),D.jsx("input",{id:"task-file-upload",type:"file",className:"hidden",onChange:c})]}),D.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[(h=t.attachments)==null?void 0:h.map(p=>D.jsxs("div",{className:"flex items-center gap-3 p-3 bg-pink-50/20 border border-pink-50 rounded-2xl group",children:[D.jsx(xV,{size:16,className:"text-pink-300"}),D.jsx("span",{className:"flex-1 text-xs font-bold text-[#5c4b51] truncate",children:p.name}),D.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[D.jsx("a",{href:p.url,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 text-blue-400 hover:bg-blue-50 rounded-lg",children:D.jsx(TV,{size:14})}),D.jsx("button",{onClick:()=>f(p),className:"p-1.5 text-pink-300 hover:text-red-400 hover:bg-red-50 rounded-lg",children:D.jsx(Nh,{size:14})})]})]},p.id)),(!t.attachments||t.attachments.length===0)&&D.jsx("p",{className:"text-center py-4 text-[10px] text-pink-200 font-bold italic",children:""})]})]}),D.jsxs("div",{className:"space-y-2 flex-1 flex flex-col",children:[D.jsxs("div",{className:"flex items-center justify-between",children:[D.jsxs("label",{className:"text-xs font-bold text-pink-300 flex items-center gap-1 uppercase tracking-wider",children:[D.jsx(gG,{size:12})," "]}),D.jsx("button",{onClick:()=>o(!i),className:"text-[10px] font-bold px-2 py-1 rounded-lg bg-pink-50 text-pink-400 hover:bg-pink-100 transition-colors flex items-center gap-1",children:i?D.jsxs(D.Fragment,{children:[D.jsx(Oc,{size:10})," "]}):D.jsxs(D.Fragment,{children:[D.jsx(SV,{size:10}),"  Markdown"]})})]}),i?D.jsx("div",{className:"w-full flex-1 p-6 rounded-[30px] bg-pink-50/10 border border-pink-50 prose prose-pink max-w-none overflow-y-auto min-h-[180px] shadow-inner",children:D.jsx(O3,{remarkPlugins:[o5],children:t.description||"**"})}):D.jsx("textarea",{value:t.description,onChange:p=>r({description:p.target.value}),placeholder:" ( Markdown)...",className:"w-full flex-1 p-6 rounded-[30px] bg-pink-50/30 border border-pink-50 text-[#5c4b51] text-sm leading-relaxed focus:outline-none focus:ring-2 focus:ring-pink-200 min-h-[180px] resize-none font-mono"})]})]}),D.jsx("div",{className:"p-8 border-t border-pink-50 text-center",children:D.jsxs("p",{className:"text-[10px] text-pink-200 font-bold uppercase tracking-widest",children:["Last Updated: ",qg(new Date,"yyyy-MM-dd HH:mm")," "]})})]})})},PEe={projects:[],workspaceLogo:"",workspaceName:"Melody",user:null,lastSyncedAt:null,isLoading:!0,isSyncing:!1},kEe=(t,e)=>{switch(e.type){case"SET_USER":return{...t,user:e.user};case"SET_DATA":return{...t,projects:e.projects,workspaceLogo:e.workspaceLogo,workspaceName:e.workspaceName,lastSyncedAt:e.lastSyncedAt};case"UPDATE_PROJECTS":return{...t,projects:e.projects};case"UPDATE_WORKSPACE":return{...t,workspaceLogo:e.logo,workspaceName:e.name};case"SET_SYNCING":return{...t,isSyncing:e.isSyncing};case"SET_LOADING":return{...t,isLoading:e.isLoading};default:return t}},N6=O.createContext(null),MEe=({children:t})=>{const[e,n]=O.useReducer(kEe,{...PEe,projects:JSON.parse(localStorage.getItem("melody_local_data")||JSON.stringify(qP))});O.useEffect(()=>{if(!Ec){n({type:"SET_LOADING",isLoading:!1});return}const i=gge(Ec,o=>{n({type:"SET_USER",user:o}),o||n({type:"SET_LOADING",isLoading:!1})});return()=>i()},[]),O.useEffect(()=>{if(!e.user||!gg)return;n({type:"SET_LOADING",isLoading:!0});const i=O_e(yL(gg,"users",e.user.uid),o=>{if(o.exists()){const a=o.data();n({type:"SET_DATA",projects:a.projects||qP,workspaceLogo:a.workspaceLogo||"",workspaceName:a.workspaceName||"Melody",lastSyncedAt:a.lastUpdated||null})}n({type:"SET_LOADING",isLoading:!1})},o=>{console.error("Firestore error:",o),n({type:"SET_LOADING",isLoading:!1})});return()=>i()},[e.user]);const r=O.useCallback(async(i,o,a)=>{if(localStorage.setItem("melody_local_data",JSON.stringify(i)),!(!e.user||!gg)){n({type:"SET_SYNCING",isSyncing:!0});try{const l=new Date().toISOString();await D_e(yL(gg,"users",e.user.uid),{projects:i,workspaceLogo:o||e.workspaceLogo,workspaceName:a||e.workspaceName,lastUpdated:l},{merge:!0})}catch(l){console.error("Sync Error:",l)}finally{setTimeout(()=>n({type:"SET_SYNCING",isSyncing:!1}),800)}}},[e.user,e.workspaceLogo,e.workspaceName]);return D.jsx(N6.Provider,{value:{state:e,dispatch:n,syncToCloud:r},children:t})},D6=()=>{const t=O.useContext(N6);if(!t)throw new Error("useProjects must be used within ProjectProvider");return t};var NEe={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let DEe,OEe;function LEe(){return{geminiUrl:DEe,vertexUrl:OEe}}function UEe(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=LEe();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class La{}function Te(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function b(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const l=a.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[l])){const c=t[l];if(Array.isArray(n))for(let f=0;f<c.length;f++){const h=c[f];b(h,e.slice(o+1),n[f])}else for(const f of c)b(f,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const l=a.slice(0,-3);l in t||(t[l]=[{}]);const c=t[l];b(c[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function y(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(l=>y(l,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function VEe(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let l=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){l=c;break}if(l!==-1&&o.length>l)for(let c=l;c<o.length;c++){const f=o[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&a.add(f)}wS(t,i,o,0,a)}}function wS(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),l=t;if(a in l&&Array.isArray(l[a]))for(const c of l[a])wS(c,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,l=Object.keys(a).filter(f=>!f.startsWith("_")&&!i.has(f)),c={};for(const f of l)c[f]=a[f];for(const[f,h]of Object.entries(c)){const p=[];for(const g of n.slice(r))g==="*"?p.push(f):p.push(g);b(a,p,h)}for(const f of l)delete a[f]}}else{const a=t;o in a&&wS(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function F1(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FEe(t){const e={},n=y(t,["operationName"]);n!=null&&b(e,["operationName"],n);const r=y(t,["resourceName"]);return r!=null&&b(e,["_url","resourceName"],r),e}function zEe(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);o!=null&&b(e,["error"],o);const a=y(t,["response","generateVideoResponse"]);return a!=null&&b(e,["response"],qEe(a)),e}function BEe(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);o!=null&&b(e,["error"],o);const a=y(t,["response"]);return a!=null&&b(e,["response"],HEe(a)),e}function qEe(t){const e={},n=y(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>jEe(a))),b(e,["generatedVideos"],o)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function HEe(t){const e={},n=y(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>$Ee(a))),b(e,["generatedVideos"],o)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function jEe(t){const e={},n=y(t,["video"]);return n!=null&&b(e,["video"],XEe(n)),e}function $Ee(t){const e={},n=y(t,["_self"]);return n!=null&&b(e,["video"],QEe(n)),e}function GEe(t){const e={},n=y(t,["operationName"]);return n!=null&&b(e,["_url","operationName"],n),e}function KEe(t){const e={},n=y(t,["operationName"]);return n!=null&&b(e,["_url","operationName"],n),e}function YEe(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);o!=null&&b(e,["error"],o);const a=y(t,["response"]);return a!=null&&b(e,["response"],WEe(a)),e}function WEe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&b(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function O6(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);o!=null&&b(e,["error"],o);const a=y(t,["response"]);return a!=null&&b(e,["response"],JEe(a)),e}function JEe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&b(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function XEe(t){const e={},n=y(t,["uri"]);n!=null&&b(e,["uri"],n);const r=y(t,["encodedVideo"]);r!=null&&b(e,["videoBytes"],F1(r));const i=y(t,["encoding"]);return i!=null&&b(e,["mimeType"],i),e}function QEe(t){const e={},n=y(t,["gcsUri"]);n!=null&&b(e,["uri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&b(e,["videoBytes"],F1(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var AL;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(AL||(AL={}));var CL;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(CL||(CL={}));var IL;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(IL||(IL={}));var xr;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(xr||(xr={}));var RL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(RL||(RL={}));var PL;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(PL||(PL={}));var kL;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(kL||(kL={}));var ML;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ML||(ML={}));var NL;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(NL||(NL={}));var DL;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(DL||(DL={}));var OL;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(OL||(OL={}));var LL;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(LL||(LL={}));var UL;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(UL||(UL={}));var VL;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(VL||(VL={}));var FL;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(FL||(FL={}));var zL;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(zL||(zL={}));var BL;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(BL||(BL={}));var qL;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(qL||(qL={}));var HL;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(HL||(HL={}));var Qy;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Qy||(Qy={}));var jL;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(jL||(jL={}));var $L;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})($L||($L={}));var GL;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(GL||(GL={}));var TS;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(TS||(TS={}));var KL;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(KL||(KL={}));var YL;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(YL||(YL={}));var WL;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(WL||(WL={}));var JL;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(JL||(JL={}));var XL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(XL||(XL={}));var QL;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(QL||(QL={}));var ZL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(ZL||(ZL={}));var eU;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(eU||(eU={}));var tU;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(tU||(tU={}));var nU;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(nU||(nU={}));var rU;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(rU||(rU={}));var iU;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(iU||(iU={}));var oU;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(oU||(oU={}));var aU;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(aU||(aU={}));var sU;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(sU||(sU={}));var lU;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(lU||(lU={}));var uU;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(uU||(uU={}));var cU;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(cU||(cU={}));var fU;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(fU||(fU={}));var dU;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(dU||(dU={}));var hU;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(hU||(hU={}));var pU;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(pU||(pU={}));var mU;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(mU||(mU={}));var gU;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(gU||(gU={}));var yU;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(yU||(yU={}));var vU;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(vU||(vU={}));var _U;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(_U||(_U={}));var bU;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(bU||(bU={}));var EU;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(EU||(EU={}));var wU;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(wU||(wU={}));var TU;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(TU||(TU={}));var wc;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(wc||(wc={}));class SS{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Dd{get text(){var e,n,r,i,o,a,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const p=[];for(const g of(c=(l=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[v,T]of Object.entries(g))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(T!==null||T!==void 0)&&p.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,f+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,r,i,o,a,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const p of(c=(l=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[g,v]of Object.entries(p))g!=="inlineData"&&(v!==null||v!==void 0)&&h.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,o,a,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(l=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,o,a,l,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(l=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,o,a,l,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(l=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class SU{}class xU{}class ZEe{}class ewe{}class twe{}class nwe{}class AU{}class CU{}class IU{}class rwe{}class Zy{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Zy;let i;const o=e;return n?i=BEe(o):i=zEe(o),Object.assign(r,i),r}}class RU{}class PU{}class kU{}class MU{}class iwe{}class owe{}class awe{}class z1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new z1,o=YEe(e);return Object.assign(r,o),r}}class swe{}class lwe{}class uwe{}class NU{}class cwe{get text(){var e,n,r;let i="",o=!1;const a=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(l))c!=="text"&&c!=="thought"&&f!==null&&a.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;o=!0,i+=l.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(a))l!=="inlineData"&&c!==null&&o.push(l);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class fwe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class B1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new B1,o=O6(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function L6(t,e){const n=yt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function U6(t){return Array.isArray(t)?t.map(e=>ev(e)):[ev(t)]}function ev(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function V6(t){const e=ev(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function F6(t){const e=ev(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function DU(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function z6(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>DU(e)):[DU(t)]}function xS(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function OU(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function LU(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function dr(t){if(t==null)throw new Error("ContentUnion is required");return xS(t)?t:{role:"user",parts:z6(t)}}function q1(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=dr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=dr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>dr(n)):[dr(e)]}function Ii(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(OU(t)||LU(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[dr(t)]}const e=[],n=[],r=xS(t[0]);for(const i of t){const o=xS(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(OU(i)||LU(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:z6(n)}),e}function dwe(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(xr).includes(n[0].toUpperCase())?n[0].toUpperCase():xr.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(xr).includes(r.toUpperCase())?r.toUpperCase():xr.TYPE_UNSPECIFIED})}}function Nc(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&dwe(t.type,e);for(const[a,l]of Object.entries(t))if(l!=null)if(a=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(xr).includes(l.toUpperCase())?l.toUpperCase():xr.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=Nc(l);else if(r.includes(a)){const c=[];for(const f of l){if(f.type=="null"){e.nullable=!0;continue}c.push(Nc(f))}e[a]=c}else if(i.includes(a)){const c={};for(const[f,h]of Object.entries(l))c[f]=Nc(h);e[a]=c}else{if(a==="additionalProperties")continue;e[a]=l}return e}function H1(t){return Nc(t)}function j1(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function $1(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function gf(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Nc(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Nc(e.response));return t}function yf(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function hwe(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Ua(t,e){if(typeof e!="string")throw new Error("name must be a string");return hwe(t,e,"cachedContents")}function B6(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ol(t){return F1(t)}function pwe(t){return t!=null&&typeof t=="object"&&"name"in t}function mwe(t){return t!=null&&typeof t=="object"&&"video"in t}function gwe(t){return t!=null&&typeof t=="object"&&"uri"in t}function q6(t){var e;let n;if(pwe(t)&&(n=t.name),!(gwe(t)&&(n=t.uri,n===void 0))&&!(mwe(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function H6(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function j6(t){for(const e of["models","tunedModels","publisherModels"])if(ywe(t,e))return t[e];return[]}function ywe(t,e){return t!==null&&typeof t=="object"&&e in t}function vwe(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function _we(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=vwe(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function $6(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function bwe(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function G6(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const c=a.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function vf(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function K6(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ewe(t){const e={},n=y(t,["responsesFile"]);n!=null&&b(e,["fileName"],n);const r=y(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>tTe(a))),b(e,["inlinedResponses"],o)}const i=y(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),b(e,["inlinedEmbedContentResponses"],o)}return e}function wwe(t){const e={},n=y(t,["predictionsFormat"]);n!=null&&b(e,["format"],n);const r=y(t,["gcsDestination","outputUriPrefix"]);r!=null&&b(e,["gcsUri"],r);const i=y(t,["bigqueryDestination","outputUri"]);return i!=null&&b(e,["bigqueryUri"],i),e}function Twe(t){const e={},n=y(t,["format"]);n!=null&&b(e,["predictionsFormat"],n);const r=y(t,["gcsUri"]);r!=null&&b(e,["gcsDestination","outputUriPrefix"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&b(e,["bigqueryDestination","outputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Vg(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata","displayName"]);r!=null&&b(e,["displayName"],r);const i=y(t,["metadata","state"]);i!=null&&b(e,["state"],K6(i));const o=y(t,["metadata","createTime"]);o!=null&&b(e,["createTime"],o);const a=y(t,["metadata","endTime"]);a!=null&&b(e,["endTime"],a);const l=y(t,["metadata","updateTime"]);l!=null&&b(e,["updateTime"],l);const c=y(t,["metadata","model"]);c!=null&&b(e,["model"],c);const f=y(t,["metadata","output"]);return f!=null&&b(e,["dest"],Ewe(G6(f))),e}function AS(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=y(t,["state"]);i!=null&&b(e,["state"],K6(i));const o=y(t,["error"]);o!=null&&b(e,["error"],o);const a=y(t,["createTime"]);a!=null&&b(e,["createTime"],a);const l=y(t,["startTime"]);l!=null&&b(e,["startTime"],l);const c=y(t,["endTime"]);c!=null&&b(e,["endTime"],c);const f=y(t,["updateTime"]);f!=null&&b(e,["updateTime"],f);const h=y(t,["model"]);h!=null&&b(e,["model"],h);const p=y(t,["inputConfig"]);p!=null&&b(e,["src"],Swe(p));const g=y(t,["outputConfig"]);g!=null&&b(e,["dest"],wwe(G6(g)));const v=y(t,["completionStats"]);return v!=null&&b(e,["completionStats"],v),e}function Swe(t){const e={},n=y(t,["instancesFormat"]);n!=null&&b(e,["format"],n);const r=y(t,["gcsSource","uris"]);r!=null&&b(e,["gcsUri"],r);const i=y(t,["bigquerySource","inputUri"]);return i!=null&&b(e,["bigqueryUri"],i),e}function xwe(t,e){const n={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(e,["fileName"]);r!=null&&b(n,["fileName"],r);const i=y(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>eTe(t,a))),b(n,["requests","requests"],o)}return n}function Awe(t){const e={},n=y(t,["format"]);n!=null&&b(e,["instancesFormat"],n);const r=y(t,["gcsUri"]);r!=null&&b(e,["gcsSource","uris"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&b(e,["bigquerySource","inputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Cwe(t){const e={},n=y(t,["data"]);if(n!=null&&b(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function Iwe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],vf(t,r)),n}function Rwe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],vf(t,r)),n}function Pwe(t){const e={},n=y(t,["content"]);n!=null&&b(e,["content"],n);const r=y(t,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],kwe(r));const i=y(t,["tokenCount"]);i!=null&&b(e,["tokenCount"],i);const o=y(t,["finishReason"]);o!=null&&b(e,["finishReason"],o);const a=y(t,["avgLogprobs"]);a!=null&&b(e,["avgLogprobs"],a);const l=y(t,["groundingMetadata"]);l!=null&&b(e,["groundingMetadata"],l);const c=y(t,["index"]);c!=null&&b(e,["index"],c);const f=y(t,["logprobsResult"]);f!=null&&b(e,["logprobsResult"],f);const h=y(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>v)),b(e,["safetyRatings"],g)}const p=y(t,["urlContextMetadata"]);return p!=null&&b(e,["urlContextMetadata"],p),e}function kwe(t){const e={},n=y(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["citations"],r)}return e}function Y6(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>lTe(o))),b(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&b(e,["role"],r),e}function Mwe(t,e){const n={},r=y(t,["displayName"]);if(e!==void 0&&r!=null&&b(e,["batch","displayName"],r),y(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Nwe(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=y(t,["dest"]);return e!==void 0&&i!=null&&b(e,["outputConfig"],Twe(bwe(i))),n}function UU(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],yt(t,r));const i=y(e,["src"]);i!=null&&b(n,["batch","inputConfig"],xwe(t,$6(t,i)));const o=y(e,["config"]);return o!=null&&Mwe(o,n),n}function Dwe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["model"],yt(t,r));const i=y(e,["src"]);i!=null&&b(n,["inputConfig"],Awe($6(t,i)));const o=y(e,["config"]);return o!=null&&Nwe(o,n),n}function Owe(t,e){const n={},r=y(t,["displayName"]);return e!==void 0&&r!=null&&b(e,["batch","displayName"],r),n}function Lwe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],yt(t,r));const i=y(e,["src"]);i!=null&&b(n,["batch","inputConfig"],Hwe(t,i));const o=y(e,["config"]);return o!=null&&Owe(o,n),n}function Uwe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],vf(t,r)),n}function Vwe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],vf(t,r)),n}function Fwe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&b(e,["name"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);return o!=null&&b(e,["error"],o),e}function zwe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&b(e,["name"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);return o!=null&&b(e,["error"],o),e}function Bwe(t,e){const n={},r=y(e,["contents"]);if(r!=null){let o=q1(t,r);Array.isArray(o)&&(o=o.map(a=>a)),b(n,["requests[]","request","content"],o)}const i=y(e,["config"]);return i!=null&&(b(n,["_self"],qwe(i,n)),VEe(n,{"requests[].*":"requests[].request.*"})),n}function qwe(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&b(e,["requests[]","taskType"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&b(e,["requests[]","title"],i);const o=y(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&b(e,["requests[]","outputDimensionality"],o),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Hwe(t,e){const n={},r=y(e,["fileName"]);r!=null&&b(n,["file_name"],r);const i=y(e,["inlinedRequests"]);return i!=null&&b(n,["requests"],Bwe(t,i)),n}function jwe(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function $we(t){const e={},n=y(t,["id"]);n!=null&&b(e,["id"],n);const r=y(t,["args"]);r!=null&&b(e,["args"],r);const i=y(t,["name"]);if(i!=null&&b(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Gwe(t){const e={},n=y(t,["mode"]);n!=null&&b(e,["mode"],n);const r=y(t,["allowedFunctionNames"]);if(r!=null&&b(e,["allowedFunctionNames"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Kwe(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],Y6(dr(i)));const o=y(e,["temperature"]);o!=null&&b(r,["temperature"],o);const a=y(e,["topP"]);a!=null&&b(r,["topP"],a);const l=y(e,["topK"]);l!=null&&b(r,["topK"],l);const c=y(e,["candidateCount"]);c!=null&&b(r,["candidateCount"],c);const f=y(e,["maxOutputTokens"]);f!=null&&b(r,["maxOutputTokens"],f);const h=y(e,["stopSequences"]);h!=null&&b(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&b(r,["responseLogprobs"],p);const g=y(e,["logprobs"]);g!=null&&b(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&b(r,["presencePenalty"],v);const T=y(e,["frequencyPenalty"]);T!=null&&b(r,["frequencyPenalty"],T);const x=y(e,["seed"]);x!=null&&b(r,["seed"],x);const S=y(e,["responseMimeType"]);S!=null&&b(r,["responseMimeType"],S);const C=y(e,["responseSchema"]);C!=null&&b(r,["responseSchema"],H1(C));const L=y(e,["responseJsonSchema"]);if(L!=null&&b(r,["responseJsonSchema"],L),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=y(e,["safetySettings"]);if(n!==void 0&&M!=null){let B=M;Array.isArray(B)&&(B=B.map(ie=>uTe(ie))),b(n,["safetySettings"],B)}const G=y(e,["tools"]);if(n!==void 0&&G!=null){let B=yf(G);Array.isArray(B)&&(B=B.map(ie=>fTe(gf(ie)))),b(n,["tools"],B)}const $=y(e,["toolConfig"]);if(n!==void 0&&$!=null&&b(n,["toolConfig"],cTe($)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=y(e,["cachedContent"]);n!==void 0&&z!=null&&b(n,["cachedContent"],Ua(t,z));const N=y(e,["responseModalities"]);N!=null&&b(r,["responseModalities"],N);const U=y(e,["mediaResolution"]);U!=null&&b(r,["mediaResolution"],U);const V=y(e,["speechConfig"]);if(V!=null&&b(r,["speechConfig"],j1(V)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=y(e,["thinkingConfig"]);k!=null&&b(r,["thinkingConfig"],k);const P=y(e,["imageConfig"]);P!=null&&b(r,["imageConfig"],Zwe(P));const F=y(e,["enableEnhancedCivicAnswers"]);return F!=null&&b(r,["enableEnhancedCivicAnswers"],F),r}function Ywe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Pwe(f))),b(e,["candidates"],c)}const i=y(t,["modelVersion"]);i!=null&&b(e,["modelVersion"],i);const o=y(t,["promptFeedback"]);o!=null&&b(e,["promptFeedback"],o);const a=y(t,["responseId"]);a!=null&&b(e,["responseId"],a);const l=y(t,["usageMetadata"]);return l!=null&&b(e,["usageMetadata"],l),e}function Wwe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],vf(t,r)),n}function Jwe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],vf(t,r)),n}function Xwe(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function Qwe(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function Zwe(t){const e={},n=y(t,["aspectRatio"]);n!=null&&b(e,["aspectRatio"],n);const r=y(t,["imageSize"]);if(r!=null&&b(e,["imageSize"],r),y(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function eTe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["request","model"],yt(t,r));const i=y(e,["contents"]);if(i!=null){let l=Ii(i);Array.isArray(l)&&(l=l.map(c=>Y6(c))),b(n,["request","contents"],l)}const o=y(e,["metadata"]);o!=null&&b(n,["metadata"],o);const a=y(e,["config"]);return a!=null&&b(n,["request","generationConfig"],Kwe(t,a,y(n,["request"],{}))),n}function tTe(t){const e={},n=y(t,["response"]);n!=null&&b(e,["response"],Ywe(n));const r=y(t,["error"]);return r!=null&&b(e,["error"],r),e}function nTe(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);if(e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),y(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function rTe(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);e!==void 0&&i!=null&&b(e,["_query","pageToken"],i);const o=y(t,["filter"]);return e!==void 0&&o!=null&&b(e,["_query","filter"],o),n}function iTe(t){const e={},n=y(t,["config"]);return n!=null&&nTe(n,e),e}function oTe(t){const e={},n=y(t,["config"]);return n!=null&&rTe(n,e),e}function aTe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Vg(a))),b(e,["batchJobs"],o)}return e}function sTe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>AS(a))),b(e,["batchJobs"],o)}return e}function lTe(t){const e={},n=y(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&b(e,["fileData"],jwe(o));const a=y(t,["functionCall"]);a!=null&&b(e,["functionCall"],$we(a));const l=y(t,["functionResponse"]);l!=null&&b(e,["functionResponse"],l);const c=y(t,["inlineData"]);c!=null&&b(e,["inlineData"],Cwe(c));const f=y(t,["text"]);f!=null&&b(e,["text"],f);const h=y(t,["thought"]);h!=null&&b(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&b(e,["videoMetadata"],g),e}function uTe(t){const e={},n=y(t,["category"]);if(n!=null&&b(e,["category"],n),y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(t,["threshold"]);return r!=null&&b(e,["threshold"],r),e}function cTe(t){const e={},n=y(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],Gwe(n));const r=y(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],r),e}function fTe(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const o=y(t,["fileSearch"]);o!=null&&b(e,["fileSearch"],o);const a=y(t,["codeExecution"]);if(a!=null&&b(e,["codeExecution"],a),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=y(t,["googleMaps"]);l!=null&&b(e,["googleMaps"],Xwe(l));const c=y(t,["googleSearch"]);c!=null&&b(e,["googleSearch"],Qwe(c));const f=y(t,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Pa;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Pa||(Pa={}));class bu{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dTe extends La{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new bu(Pa.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=UU(this.apiClient,e),r=n._url,i=Te("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,c=l.requests,f=[];for(const h of c){const p=Object.assign({},h);if(p.systemInstruction){const g=p.systemInstruction;delete p.systemInstruction;const v=p.request;v.systemInstruction=g,p.request=v}f.push(p)}return l.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=Dwe(this.apiClient,e);return l=Te("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>AS(h))}else{const f=UU(this.apiClient,e);return l=Te("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>Vg(h))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Lwe(this.apiClient,e);return o=Te("{model}:asyncBatchEmbedContent",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>Vg(c))}}async get(e){var n,r,i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=Jwe(this.apiClient,e);return l=Te("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>AS(h))}else{const f=Wwe(this.apiClient,e);return l=Te("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>Vg(h))}}async cancel(e){var n,r,i,o;let a="",l={};if(this.apiClient.isVertexAI()){const c=Rwe(this.apiClient,e);a=Te("batchPredictionJobs/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=Iwe(this.apiClient,e);a=Te("batches/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=oTe(e);return l=Te("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=sTe(h),g=new NU;return Object.assign(g,p),g})}else{const f=iTe(e);return l=Te("batches",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=aTe(h),g=new NU;return Object.assign(g,p),g})}}async delete(e){var n,r,i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=Vwe(this.apiClient,e);return l=Te("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>zwe(h))}else{const f=Uwe(this.apiClient,e);return l=Te("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>Fwe(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hTe(t){const e={},n=y(t,["data"]);if(n!=null&&b(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function VU(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>LTe(o))),b(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&b(e,["role"],r),e}function pTe(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&b(e,["expireTime"],i);const o=y(t,["displayName"]);e!==void 0&&o!=null&&b(e,["displayName"],o);const a=y(t,["contents"]);if(e!==void 0&&a!=null){let h=Ii(a);Array.isArray(h)&&(h=h.map(p=>VU(p))),b(e,["contents"],h)}const l=y(t,["systemInstruction"]);e!==void 0&&l!=null&&b(e,["systemInstruction"],VU(dr(l)));const c=y(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>VTe(p))),b(e,["tools"],h)}const f=y(t,["toolConfig"]);if(e!==void 0&&f!=null&&b(e,["toolConfig"],UTe(f)),y(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function mTe(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&b(e,["expireTime"],i);const o=y(t,["displayName"]);e!==void 0&&o!=null&&b(e,["displayName"],o);const a=y(t,["contents"]);if(e!==void 0&&a!=null){let p=Ii(a);Array.isArray(p)&&(p=p.map(g=>g)),b(e,["contents"],p)}const l=y(t,["systemInstruction"]);e!==void 0&&l!=null&&b(e,["systemInstruction"],dr(l));const c=y(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>FTe(g))),b(e,["tools"],p)}const f=y(t,["toolConfig"]);e!==void 0&&f!=null&&b(e,["toolConfig"],f);const h=y(t,["kmsKeyName"]);return e!==void 0&&h!=null&&b(e,["encryption_spec","kmsKeyName"],h),n}function gTe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["model"],L6(t,r));const i=y(e,["config"]);return i!=null&&pTe(i,n),n}function yTe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["model"],L6(t,r));const i=y(e,["config"]);return i!=null&&mTe(i,n),n}function vTe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Ua(t,r)),n}function _Te(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Ua(t,r)),n}function bTe(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function ETe(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function wTe(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function TTe(t){const e={},n=y(t,["id"]);n!=null&&b(e,["id"],n);const r=y(t,["args"]);r!=null&&b(e,["args"],r);const i=y(t,["name"]);if(i!=null&&b(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function STe(t){const e={},n=y(t,["mode"]);n!=null&&b(e,["mode"],n);const r=y(t,["allowedFunctionNames"]);if(r!=null&&b(e,["allowedFunctionNames"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function xTe(t){const e={};if(y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(t,["description"]);n!=null&&b(e,["description"],n);const r=y(t,["name"]);r!=null&&b(e,["name"],r);const i=y(t,["parameters"]);i!=null&&b(e,["parameters"],i);const o=y(t,["parametersJsonSchema"]);o!=null&&b(e,["parametersJsonSchema"],o);const a=y(t,["response"]);a!=null&&b(e,["response"],a);const l=y(t,["responseJsonSchema"]);return l!=null&&b(e,["responseJsonSchema"],l),e}function ATe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Ua(t,r)),n}function CTe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Ua(t,r)),n}function ITe(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function RTe(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function PTe(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function kTe(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function MTe(t){const e={},n=y(t,["config"]);return n!=null&&PTe(n,e),e}function NTe(t){const e={},n=y(t,["config"]);return n!=null&&kTe(n,e),e}function DTe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),b(e,["cachedContents"],o)}return e}function OTe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),b(e,["cachedContents"],o)}return e}function LTe(t){const e={},n=y(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&b(e,["fileData"],wTe(o));const a=y(t,["functionCall"]);a!=null&&b(e,["functionCall"],TTe(a));const l=y(t,["functionResponse"]);l!=null&&b(e,["functionResponse"],l);const c=y(t,["inlineData"]);c!=null&&b(e,["inlineData"],hTe(c));const f=y(t,["text"]);f!=null&&b(e,["text"],f);const h=y(t,["thought"]);h!=null&&b(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&b(e,["videoMetadata"],g),e}function UTe(t){const e={},n=y(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],STe(n));const r=y(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],r),e}function VTe(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const o=y(t,["fileSearch"]);o!=null&&b(e,["fileSearch"],o);const a=y(t,["codeExecution"]);if(a!=null&&b(e,["codeExecution"],a),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=y(t,["googleMaps"]);l!=null&&b(e,["googleMaps"],ITe(l));const c=y(t,["googleSearch"]);c!=null&&b(e,["googleSearch"],RTe(c));const f=y(t,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}function FTe(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>xTe(g))),b(e,["functionDeclarations"],p)}const r=y(t,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=y(t,["googleSearchRetrieval"]);i!=null&&b(e,["googleSearchRetrieval"],i);const o=y(t,["computerUse"]);if(o!=null&&b(e,["computerUse"],o),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(t,["codeExecution"]);a!=null&&b(e,["codeExecution"],a);const l=y(t,["enterpriseWebSearch"]);l!=null&&b(e,["enterpriseWebSearch"],l);const c=y(t,["googleMaps"]);c!=null&&b(e,["googleMaps"],c);const f=y(t,["googleSearch"]);f!=null&&b(e,["googleSearch"],f);const h=y(t,["urlContext"]);return h!=null&&b(e,["urlContext"],h),e}function zTe(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&b(e,["expireTime"],i),n}function BTe(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&b(e,["expireTime"],i),n}function qTe(t,e){const n={},r=y(e,["name"]);r!=null&&b(n,["_url","name"],Ua(t,r));const i=y(e,["config"]);return i!=null&&zTe(i,n),n}function HTe(t,e){const n={},r=y(e,["name"]);r!=null&&b(n,["_url","name"],Ua(t,r));const i=y(e,["config"]);return i!=null&&BTe(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jTe extends La{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new bu(Pa.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=yTe(this.apiClient,e);return l=Te("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const f=gTe(this.apiClient,e);return l=Te("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async get(e){var n,r,i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=CTe(this.apiClient,e);return l=Te("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const f=ATe(this.apiClient,e);return l=Te("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async delete(e){var n,r,i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=_Te(this.apiClient,e);return l=Te("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=ETe(h),g=new kU;return Object.assign(g,p),g})}else{const f=vTe(this.apiClient,e);return l=Te("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=bTe(h),g=new kU;return Object.assign(g,p),g})}}async update(e){var n,r,i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=HTe(this.apiClient,e);return l=Te("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const f=qTe(this.apiClient,e);return l=Te("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async listInternal(e){var n,r,i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=NTe(e);return l=Te("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=OTe(h),g=new MU;return Object.assign(g,p),g})}else{const f=MTe(e);return l=Te("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=DTe(h),g=new MU;return Object.assign(g,p),g})}}}function tv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function FU(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function He(t){return this instanceof He?(this.v=t,this):new He(t)}function Ji(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(v){return function(T){return Promise.resolve(T).then(v,p)}}function l(v,T){r[v]&&(i[v]=function(x){return new Promise(function(S,C){o.push([v,x,S,C])>1||c(v,x)})},T&&(i[v]=T(i[v])))}function c(v,T){try{f(r[v](T))}catch(x){g(o[0][3],x)}}function f(v){v.value instanceof He?Promise.resolve(v.value.v).then(h,p):g(o[0][2],v)}function h(v){c("next",v)}function p(v){c("throw",v)}function g(v,T){v(T),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Xi(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof FU=="function"?FU(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(l,c){a=t[o](a),i(l,c,a.done,a.value)})}}function i(o,a,l,c){Promise.resolve(c).then(function(f){o({value:f,done:l})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $Te(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:W6(n)}function W6(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function GTe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function zU(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!W6(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class KTe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new YTe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class YTe{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),GTe(o)}async sendMessage(e){var n;await this.sendPromise;const r=dr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,l;const c=await i,f=(a=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,h=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let g=[];h!=null&&(g=(l=h.slice(p))!==null&&l!==void 0?l:[]);const v=f?[f]:[];this.recordHistory(r,v,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=dr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?zU(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Ji(this,arguments,function*(){var i,o,a,l,c,f;const h=[];try{for(var p=!0,g=Xi(e),v;v=yield He(g.next()),i=v.done,!i;p=!0){l=v.value,p=!1;const T=l;if($Te(T)){const x=(f=(c=T.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content;x!==void 0&&h.push(x)}yield yield He(T)}}catch(T){o={error:T}}finally{try{!p&&!i&&(a=g.return)&&(yield He(a.call(g)))}finally{if(o)throw o.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...zU(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class p0 extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,p0.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WTe(t){const e={},n=y(t,["file"]);return n!=null&&b(e,["file"],n),e}function JTe(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function XTe(t){const e={},n=y(t,["name"]);return n!=null&&b(e,["_url","file"],q6(n)),e}function QTe(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function ZTe(t){const e={},n=y(t,["name"]);return n!=null&&b(e,["_url","file"],q6(n)),e}function eSe(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function tSe(t){const e={},n=y(t,["config"]);return n!=null&&eSe(n,e),e}function nSe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),b(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rSe extends La{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new bu(Pa.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=tSe(e);return o=Te("files",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=nSe(c),h=new swe;return Object.assign(h,f),h})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=WTe(e);return o=Te("upload/v1beta/files",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=JTe(c),h=new lwe;return Object.assign(h,f),h})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=ZTe(e);return o=Te("files/{file}",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=XTe(e);return o=Te("files/{file}",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=QTe(c),h=new uwe;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fg(t){const e={},n=y(t,["data"]);if(n!=null&&b(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function iSe(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>bSe(o))),b(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&b(e,["role"],r),e}function oSe(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function aSe(t){const e={},n=y(t,["id"]);n!=null&&b(e,["id"],n);const r=y(t,["args"]);r!=null&&b(e,["args"],r);const i=y(t,["name"]);if(i!=null&&b(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sSe(t){const e={};if(y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(t,["description"]);n!=null&&b(e,["description"],n);const r=y(t,["name"]);r!=null&&b(e,["name"],r);const i=y(t,["parameters"]);i!=null&&b(e,["parameters"],i);const o=y(t,["parametersJsonSchema"]);o!=null&&b(e,["parametersJsonSchema"],o);const a=y(t,["response"]);a!=null&&b(e,["response"],a);const l=y(t,["responseJsonSchema"]);return l!=null&&b(e,["responseJsonSchema"],l),e}function lSe(t){const e={},n=y(t,["modelSelectionConfig"]);n!=null&&b(e,["modelConfig"],n);const r=y(t,["responseJsonSchema"]);r!=null&&b(e,["responseJsonSchema"],r);const i=y(t,["audioTimestamp"]);i!=null&&b(e,["audioTimestamp"],i);const o=y(t,["candidateCount"]);o!=null&&b(e,["candidateCount"],o);const a=y(t,["enableAffectiveDialog"]);a!=null&&b(e,["enableAffectiveDialog"],a);const l=y(t,["frequencyPenalty"]);l!=null&&b(e,["frequencyPenalty"],l);const c=y(t,["logprobs"]);c!=null&&b(e,["logprobs"],c);const f=y(t,["maxOutputTokens"]);f!=null&&b(e,["maxOutputTokens"],f);const h=y(t,["mediaResolution"]);h!=null&&b(e,["mediaResolution"],h);const p=y(t,["presencePenalty"]);p!=null&&b(e,["presencePenalty"],p);const g=y(t,["responseLogprobs"]);g!=null&&b(e,["responseLogprobs"],g);const v=y(t,["responseMimeType"]);v!=null&&b(e,["responseMimeType"],v);const T=y(t,["responseModalities"]);T!=null&&b(e,["responseModalities"],T);const x=y(t,["responseSchema"]);x!=null&&b(e,["responseSchema"],x);const S=y(t,["routingConfig"]);S!=null&&b(e,["routingConfig"],S);const C=y(t,["seed"]);C!=null&&b(e,["seed"],C);const L=y(t,["speechConfig"]);L!=null&&b(e,["speechConfig"],L);const M=y(t,["stopSequences"]);M!=null&&b(e,["stopSequences"],M);const G=y(t,["temperature"]);G!=null&&b(e,["temperature"],G);const $=y(t,["thinkingConfig"]);$!=null&&b(e,["thinkingConfig"],$);const z=y(t,["topK"]);z!=null&&b(e,["topK"],z);const N=y(t,["topP"]);if(N!=null&&b(e,["topP"],N),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function uSe(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function cSe(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function fSe(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const o=y(t,["temperature"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","temperature"],o);const a=y(t,["topP"]);e!==void 0&&a!=null&&b(e,["setup","generationConfig","topP"],a);const l=y(t,["topK"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","topK"],l);const c=y(t,["maxOutputTokens"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","maxOutputTokens"],c);const f=y(t,["mediaResolution"]);e!==void 0&&f!=null&&b(e,["setup","generationConfig","mediaResolution"],f);const h=y(t,["seed"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&b(e,["setup","generationConfig","speechConfig"],$1(p));const g=y(t,["thinkingConfig"]);e!==void 0&&g!=null&&b(e,["setup","generationConfig","thinkingConfig"],g);const v=y(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],v);const T=y(t,["systemInstruction"]);e!==void 0&&T!=null&&b(e,["setup","systemInstruction"],iSe(dr(T)));const x=y(t,["tools"]);if(e!==void 0&&x!=null){let z=yf(x);Array.isArray(z)&&(z=z.map(N=>wSe(gf(N)))),b(e,["setup","tools"],z)}const S=y(t,["sessionResumption"]);e!==void 0&&S!=null&&b(e,["setup","sessionResumption"],ESe(S));const C=y(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&b(e,["setup","inputAudioTranscription"],C);const L=y(t,["outputAudioTranscription"]);e!==void 0&&L!=null&&b(e,["setup","outputAudioTranscription"],L);const M=y(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&b(e,["setup","realtimeInputConfig"],M);const G=y(t,["contextWindowCompression"]);e!==void 0&&G!=null&&b(e,["setup","contextWindowCompression"],G);const $=y(t,["proactivity"]);if(e!==void 0&&$!=null&&b(e,["setup","proactivity"],$),y(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function dSe(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],lSe(r));const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const o=y(t,["temperature"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","temperature"],o);const a=y(t,["topP"]);e!==void 0&&a!=null&&b(e,["setup","generationConfig","topP"],a);const l=y(t,["topK"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","topK"],l);const c=y(t,["maxOutputTokens"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","maxOutputTokens"],c);const f=y(t,["mediaResolution"]);e!==void 0&&f!=null&&b(e,["setup","generationConfig","mediaResolution"],f);const h=y(t,["seed"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&b(e,["setup","generationConfig","speechConfig"],$1(p));const g=y(t,["thinkingConfig"]);e!==void 0&&g!=null&&b(e,["setup","generationConfig","thinkingConfig"],g);const v=y(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],v);const T=y(t,["systemInstruction"]);e!==void 0&&T!=null&&b(e,["setup","systemInstruction"],dr(T));const x=y(t,["tools"]);if(e!==void 0&&x!=null){let N=yf(x);Array.isArray(N)&&(N=N.map(U=>TSe(gf(U)))),b(e,["setup","tools"],N)}const S=y(t,["sessionResumption"]);e!==void 0&&S!=null&&b(e,["setup","sessionResumption"],S);const C=y(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&b(e,["setup","inputAudioTranscription"],C);const L=y(t,["outputAudioTranscription"]);e!==void 0&&L!=null&&b(e,["setup","outputAudioTranscription"],L);const M=y(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&b(e,["setup","realtimeInputConfig"],M);const G=y(t,["contextWindowCompression"]);e!==void 0&&G!=null&&b(e,["setup","contextWindowCompression"],G);const $=y(t,["proactivity"]);e!==void 0&&$!=null&&b(e,["setup","proactivity"],$);const z=y(t,["explicitVadSignal"]);return e!==void 0&&z!=null&&b(e,["setup","explicitVadSignal"],z),n}function hSe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["setup","model"],yt(t,r));const i=y(e,["config"]);return i!=null&&b(n,["config"],fSe(i,n)),n}function pSe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["setup","model"],yt(t,r));const i=y(e,["config"]);return i!=null&&b(n,["config"],dSe(i,n)),n}function mSe(t){const e={},n=y(t,["musicGenerationConfig"]);return n!=null&&b(e,["musicGenerationConfig"],n),e}function gSe(t){const e={},n=y(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["weightedPrompts"],r)}return e}function ySe(t){const e={},n=y(t,["media"]);if(n!=null){let f=U6(n);Array.isArray(f)&&(f=f.map(h=>Fg(h))),b(e,["mediaChunks"],f)}const r=y(t,["audio"]);r!=null&&b(e,["audio"],Fg(F6(r)));const i=y(t,["audioStreamEnd"]);i!=null&&b(e,["audioStreamEnd"],i);const o=y(t,["video"]);o!=null&&b(e,["video"],Fg(V6(o)));const a=y(t,["text"]);a!=null&&b(e,["text"],a);const l=y(t,["activityStart"]);l!=null&&b(e,["activityStart"],l);const c=y(t,["activityEnd"]);return c!=null&&b(e,["activityEnd"],c),e}function vSe(t){const e={},n=y(t,["media"]);if(n!=null){let f=U6(n);Array.isArray(f)&&(f=f.map(h=>h)),b(e,["mediaChunks"],f)}const r=y(t,["audio"]);r!=null&&b(e,["audio"],F6(r));const i=y(t,["audioStreamEnd"]);i!=null&&b(e,["audioStreamEnd"],i);const o=y(t,["video"]);o!=null&&b(e,["video"],V6(o));const a=y(t,["text"]);a!=null&&b(e,["text"],a);const l=y(t,["activityStart"]);l!=null&&b(e,["activityStart"],l);const c=y(t,["activityEnd"]);return c!=null&&b(e,["activityEnd"],c),e}function _Se(t){const e={},n=y(t,["setupComplete"]);n!=null&&b(e,["setupComplete"],n);const r=y(t,["serverContent"]);r!=null&&b(e,["serverContent"],r);const i=y(t,["toolCall"]);i!=null&&b(e,["toolCall"],i);const o=y(t,["toolCallCancellation"]);o!=null&&b(e,["toolCallCancellation"],o);const a=y(t,["usageMetadata"]);a!=null&&b(e,["usageMetadata"],SSe(a));const l=y(t,["goAway"]);l!=null&&b(e,["goAway"],l);const c=y(t,["sessionResumptionUpdate"]);c!=null&&b(e,["sessionResumptionUpdate"],c);const f=y(t,["voiceActivityDetectionSignal"]);return f!=null&&b(e,["voiceActivityDetectionSignal"],f),e}function bSe(t){const e={},n=y(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&b(e,["fileData"],oSe(o));const a=y(t,["functionCall"]);a!=null&&b(e,["functionCall"],aSe(a));const l=y(t,["functionResponse"]);l!=null&&b(e,["functionResponse"],l);const c=y(t,["inlineData"]);c!=null&&b(e,["inlineData"],Fg(c));const f=y(t,["text"]);f!=null&&b(e,["text"],f);const h=y(t,["thought"]);h!=null&&b(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&b(e,["videoMetadata"],g),e}function ESe(t){const e={},n=y(t,["handle"]);if(n!=null&&b(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function wSe(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const o=y(t,["fileSearch"]);o!=null&&b(e,["fileSearch"],o);const a=y(t,["codeExecution"]);if(a!=null&&b(e,["codeExecution"],a),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=y(t,["googleMaps"]);l!=null&&b(e,["googleMaps"],uSe(l));const c=y(t,["googleSearch"]);c!=null&&b(e,["googleSearch"],cSe(c));const f=y(t,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}function TSe(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>sSe(g))),b(e,["functionDeclarations"],p)}const r=y(t,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=y(t,["googleSearchRetrieval"]);i!=null&&b(e,["googleSearchRetrieval"],i);const o=y(t,["computerUse"]);if(o!=null&&b(e,["computerUse"],o),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(t,["codeExecution"]);a!=null&&b(e,["codeExecution"],a);const l=y(t,["enterpriseWebSearch"]);l!=null&&b(e,["enterpriseWebSearch"],l);const c=y(t,["googleMaps"]);c!=null&&b(e,["googleMaps"],c);const f=y(t,["googleSearch"]);f!=null&&b(e,["googleSearch"],f);const h=y(t,["urlContext"]);return h!=null&&b(e,["urlContext"],h),e}function SSe(t){const e={},n=y(t,["promptTokenCount"]);n!=null&&b(e,["promptTokenCount"],n);const r=y(t,["cachedContentTokenCount"]);r!=null&&b(e,["cachedContentTokenCount"],r);const i=y(t,["candidatesTokenCount"]);i!=null&&b(e,["responseTokenCount"],i);const o=y(t,["toolUsePromptTokenCount"]);o!=null&&b(e,["toolUsePromptTokenCount"],o);const a=y(t,["thoughtsTokenCount"]);a!=null&&b(e,["thoughtsTokenCount"],a);const l=y(t,["totalTokenCount"]);l!=null&&b(e,["totalTokenCount"],l);const c=y(t,["promptTokensDetails"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(T=>T)),b(e,["promptTokensDetails"],v)}const f=y(t,["cacheTokensDetails"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),b(e,["cacheTokensDetails"],v)}const h=y(t,["candidatesTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(T=>T)),b(e,["responseTokensDetails"],v)}const p=y(t,["toolUsePromptTokensDetails"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(T=>T)),b(e,["toolUsePromptTokensDetails"],v)}const g=y(t,["trafficType"]);return g!=null&&b(e,["trafficType"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xSe(t){const e={},n=y(t,["data"]);if(n!=null&&b(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function ASe(t){const e={},n=y(t,["content"]);n!=null&&b(e,["content"],n);const r=y(t,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],CSe(r));const i=y(t,["tokenCount"]);i!=null&&b(e,["tokenCount"],i);const o=y(t,["finishReason"]);o!=null&&b(e,["finishReason"],o);const a=y(t,["avgLogprobs"]);a!=null&&b(e,["avgLogprobs"],a);const l=y(t,["groundingMetadata"]);l!=null&&b(e,["groundingMetadata"],l);const c=y(t,["index"]);c!=null&&b(e,["index"],c);const f=y(t,["logprobsResult"]);f!=null&&b(e,["logprobsResult"],f);const h=y(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>v)),b(e,["safetyRatings"],g)}const p=y(t,["urlContextMetadata"]);return p!=null&&b(e,["urlContextMetadata"],p),e}function CSe(t){const e={},n=y(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["citations"],r)}return e}function ISe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],yt(t,r));const i=y(e,["contents"]);if(i!=null){let o=Ii(i);Array.isArray(o)&&(o=o.map(a=>a)),b(n,["contents"],o)}return n}function RSe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),b(e,["tokensInfo"],i)}return e}function PSe(t){const e={},n=y(t,["values"]);n!=null&&b(e,["values"],n);const r=y(t,["statistics"]);return r!=null&&b(e,["statistics"],kSe(r)),e}function kSe(t){const e={},n=y(t,["truncated"]);n!=null&&b(e,["truncated"],n);const r=y(t,["token_count"]);return r!=null&&b(e,["tokenCount"],r),e}function m0(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>zxe(o))),b(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&b(e,["role"],r),e}function MSe(t){const e={},n=y(t,["controlType"]);n!=null&&b(e,["controlType"],n);const r=y(t,["enableControlImageComputation"]);return r!=null&&b(e,["computeControl"],r),e}function NSe(t){const e={};if(y(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function DSe(t,e){const n={},r=y(t,["systemInstruction"]);e!==void 0&&r!=null&&b(e,["systemInstruction"],dr(r));const i=y(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Z6(l))),b(e,["tools"],a)}const o=y(t,["generationConfig"]);return e!==void 0&&o!=null&&b(e,["generationConfig"],xxe(o)),n}function OSe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],yt(t,r));const i=y(e,["contents"]);if(i!=null){let a=Ii(i);Array.isArray(a)&&(a=a.map(l=>m0(l))),b(n,["contents"],a)}const o=y(e,["config"]);return o!=null&&NSe(o),n}function LSe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],yt(t,r));const i=y(e,["contents"]);if(i!=null){let a=Ii(i);Array.isArray(a)&&(a=a.map(l=>l)),b(n,["contents"],a)}const o=y(e,["config"]);return o!=null&&DSe(o,n),n}function USe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["totalTokens"]);r!=null&&b(e,["totalTokens"],r);const i=y(t,["cachedContentTokenCount"]);return i!=null&&b(e,["cachedContentTokenCount"],i),e}function VSe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["totalTokens"]);return r!=null&&b(e,["totalTokens"],r),e}function FSe(t,e){const n={},r=y(e,["model"]);return r!=null&&b(n,["_url","name"],yt(t,r)),n}function zSe(t,e){const n={},r=y(e,["model"]);return r!=null&&b(n,["_url","name"],yt(t,r)),n}function BSe(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function qSe(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function HSe(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=y(t,["negativePrompt"]);e!==void 0&&i!=null&&b(e,["parameters","negativePrompt"],i);const o=y(t,["numberOfImages"]);e!==void 0&&o!=null&&b(e,["parameters","sampleCount"],o);const a=y(t,["aspectRatio"]);e!==void 0&&a!=null&&b(e,["parameters","aspectRatio"],a);const l=y(t,["guidanceScale"]);e!==void 0&&l!=null&&b(e,["parameters","guidanceScale"],l);const c=y(t,["seed"]);e!==void 0&&c!=null&&b(e,["parameters","seed"],c);const f=y(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&b(e,["parameters","safetySetting"],f);const h=y(t,["personGeneration"]);e!==void 0&&h!=null&&b(e,["parameters","personGeneration"],h);const p=y(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&b(e,["parameters","includeSafetyAttributes"],p);const g=y(t,["includeRaiReason"]);e!==void 0&&g!=null&&b(e,["parameters","includeRaiReason"],g);const v=y(t,["language"]);e!==void 0&&v!=null&&b(e,["parameters","language"],v);const T=y(t,["outputMimeType"]);e!==void 0&&T!=null&&b(e,["parameters","outputOptions","mimeType"],T);const x=y(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&b(e,["parameters","outputOptions","compressionQuality"],x);const S=y(t,["addWatermark"]);e!==void 0&&S!=null&&b(e,["parameters","addWatermark"],S);const C=y(t,["labels"]);e!==void 0&&C!=null&&b(e,["labels"],C);const L=y(t,["editMode"]);e!==void 0&&L!=null&&b(e,["parameters","editMode"],L);const M=y(t,["baseSteps"]);return e!==void 0&&M!=null&&b(e,["parameters","editConfig","baseSteps"],M),n}function jSe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],yt(t,r));const i=y(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=y(e,["referenceImages"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Gxe(c))),b(n,["instances[0]","referenceImages"],l)}const a=y(e,["config"]);return a!=null&&HSe(a,n),n}function $Se(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>g0(o))),b(e,["generatedImages"],i)}return e}function GSe(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&b(e,["requests[]","taskType"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&b(e,["requests[]","title"],i);const o=y(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&b(e,["requests[]","outputDimensionality"],o),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function KSe(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&b(e,["instances[]","task_type"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&b(e,["instances[]","title"],i);const o=y(t,["outputDimensionality"]);e!==void 0&&o!=null&&b(e,["parameters","outputDimensionality"],o);const a=y(t,["mimeType"]);e!==void 0&&a!=null&&b(e,["instances[]","mimeType"],a);const l=y(t,["autoTruncate"]);return e!==void 0&&l!=null&&b(e,["parameters","autoTruncate"],l),n}function YSe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],yt(t,r));const i=y(e,["contents"]);if(i!=null){let l=q1(t,i);Array.isArray(l)&&(l=l.map(c=>c)),b(n,["requests[]","content"],l)}const o=y(e,["config"]);o!=null&&GSe(o,n);const a=y(e,["model"]);return a!==void 0&&b(n,["requests[]","model"],yt(t,a)),n}function WSe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],yt(t,r));const i=y(e,["contents"]);if(i!=null){let a=q1(t,i);Array.isArray(a)&&(a=a.map(l=>l)),b(n,["instances[]","content"],a)}const o=y(e,["config"]);return o!=null&&KSe(o,n),n}function JSe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),b(e,["embeddings"],o)}const i=y(t,["metadata"]);return i!=null&&b(e,["metadata"],i),e}function XSe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>PSe(a))),b(e,["embeddings"],o)}const i=y(t,["metadata"]);return i!=null&&b(e,["metadata"],i),e}function QSe(t){const e={},n=y(t,["endpoint"]);n!=null&&b(e,["name"],n);const r=y(t,["deployedModelId"]);return r!=null&&b(e,["deployedModelId"],r),e}function ZSe(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function exe(t){const e={},n=y(t,["id"]);n!=null&&b(e,["id"],n);const r=y(t,["args"]);r!=null&&b(e,["args"],r);const i=y(t,["name"]);if(i!=null&&b(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function txe(t){const e={},n=y(t,["mode"]);n!=null&&b(e,["mode"],n);const r=y(t,["allowedFunctionNames"]);if(r!=null&&b(e,["allowedFunctionNames"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function nxe(t){const e={};if(y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(t,["description"]);n!=null&&b(e,["description"],n);const r=y(t,["name"]);r!=null&&b(e,["name"],r);const i=y(t,["parameters"]);i!=null&&b(e,["parameters"],i);const o=y(t,["parametersJsonSchema"]);o!=null&&b(e,["parametersJsonSchema"],o);const a=y(t,["response"]);a!=null&&b(e,["response"],a);const l=y(t,["responseJsonSchema"]);return l!=null&&b(e,["responseJsonSchema"],l),e}function rxe(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],m0(dr(i)));const o=y(e,["temperature"]);o!=null&&b(r,["temperature"],o);const a=y(e,["topP"]);a!=null&&b(r,["topP"],a);const l=y(e,["topK"]);l!=null&&b(r,["topK"],l);const c=y(e,["candidateCount"]);c!=null&&b(r,["candidateCount"],c);const f=y(e,["maxOutputTokens"]);f!=null&&b(r,["maxOutputTokens"],f);const h=y(e,["stopSequences"]);h!=null&&b(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&b(r,["responseLogprobs"],p);const g=y(e,["logprobs"]);g!=null&&b(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&b(r,["presencePenalty"],v);const T=y(e,["frequencyPenalty"]);T!=null&&b(r,["frequencyPenalty"],T);const x=y(e,["seed"]);x!=null&&b(r,["seed"],x);const S=y(e,["responseMimeType"]);S!=null&&b(r,["responseMimeType"],S);const C=y(e,["responseSchema"]);C!=null&&b(r,["responseSchema"],H1(C));const L=y(e,["responseJsonSchema"]);if(L!=null&&b(r,["responseJsonSchema"],L),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=y(e,["safetySettings"]);if(n!==void 0&&M!=null){let B=M;Array.isArray(B)&&(B=B.map(ie=>Kxe(ie))),b(n,["safetySettings"],B)}const G=y(e,["tools"]);if(n!==void 0&&G!=null){let B=yf(G);Array.isArray(B)&&(B=B.map(ie=>eAe(gf(ie)))),b(n,["tools"],B)}const $=y(e,["toolConfig"]);if(n!==void 0&&$!=null&&b(n,["toolConfig"],Zxe($)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=y(e,["cachedContent"]);n!==void 0&&z!=null&&b(n,["cachedContent"],Ua(t,z));const N=y(e,["responseModalities"]);N!=null&&b(r,["responseModalities"],N);const U=y(e,["mediaResolution"]);U!=null&&b(r,["mediaResolution"],U);const V=y(e,["speechConfig"]);if(V!=null&&b(r,["speechConfig"],j1(V)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=y(e,["thinkingConfig"]);k!=null&&b(r,["thinkingConfig"],k);const P=y(e,["imageConfig"]);P!=null&&b(r,["imageConfig"],Pxe(P));const F=y(e,["enableEnhancedCivicAnswers"]);return F!=null&&b(r,["enableEnhancedCivicAnswers"],F),r}function ixe(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],dr(i));const o=y(e,["temperature"]);o!=null&&b(r,["temperature"],o);const a=y(e,["topP"]);a!=null&&b(r,["topP"],a);const l=y(e,["topK"]);l!=null&&b(r,["topK"],l);const c=y(e,["candidateCount"]);c!=null&&b(r,["candidateCount"],c);const f=y(e,["maxOutputTokens"]);f!=null&&b(r,["maxOutputTokens"],f);const h=y(e,["stopSequences"]);h!=null&&b(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&b(r,["responseLogprobs"],p);const g=y(e,["logprobs"]);g!=null&&b(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&b(r,["presencePenalty"],v);const T=y(e,["frequencyPenalty"]);T!=null&&b(r,["frequencyPenalty"],T);const x=y(e,["seed"]);x!=null&&b(r,["seed"],x);const S=y(e,["responseMimeType"]);S!=null&&b(r,["responseMimeType"],S);const C=y(e,["responseSchema"]);C!=null&&b(r,["responseSchema"],H1(C));const L=y(e,["responseJsonSchema"]);L!=null&&b(r,["responseJsonSchema"],L);const M=y(e,["routingConfig"]);M!=null&&b(r,["routingConfig"],M);const G=y(e,["modelSelectionConfig"]);G!=null&&b(r,["modelConfig"],G);const $=y(e,["safetySettings"]);if(n!==void 0&&$!=null){let J=$;Array.isArray(J)&&(J=J.map(le=>le)),b(n,["safetySettings"],J)}const z=y(e,["tools"]);if(n!==void 0&&z!=null){let J=yf(z);Array.isArray(J)&&(J=J.map(le=>Z6(gf(le)))),b(n,["tools"],J)}const N=y(e,["toolConfig"]);n!==void 0&&N!=null&&b(n,["toolConfig"],N);const U=y(e,["labels"]);n!==void 0&&U!=null&&b(n,["labels"],U);const V=y(e,["cachedContent"]);n!==void 0&&V!=null&&b(n,["cachedContent"],Ua(t,V));const k=y(e,["responseModalities"]);k!=null&&b(r,["responseModalities"],k);const P=y(e,["mediaResolution"]);P!=null&&b(r,["mediaResolution"],P);const F=y(e,["speechConfig"]);F!=null&&b(r,["speechConfig"],j1(F));const B=y(e,["audioTimestamp"]);B!=null&&b(r,["audioTimestamp"],B);const ie=y(e,["thinkingConfig"]);ie!=null&&b(r,["thinkingConfig"],ie);const ae=y(e,["imageConfig"]);if(ae!=null&&b(r,["imageConfig"],kxe(ae)),y(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function BU(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],yt(t,r));const i=y(e,["contents"]);if(i!=null){let a=Ii(i);Array.isArray(a)&&(a=a.map(l=>m0(l))),b(n,["contents"],a)}const o=y(e,["config"]);return o!=null&&b(n,["generationConfig"],rxe(t,o,n)),n}function qU(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],yt(t,r));const i=y(e,["contents"]);if(i!=null){let a=Ii(i);Array.isArray(a)&&(a=a.map(l=>l)),b(n,["contents"],a)}const o=y(e,["config"]);return o!=null&&b(n,["generationConfig"],ixe(t,o,n)),n}function HU(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>ASe(f))),b(e,["candidates"],c)}const i=y(t,["modelVersion"]);i!=null&&b(e,["modelVersion"],i);const o=y(t,["promptFeedback"]);o!=null&&b(e,["promptFeedback"],o);const a=y(t,["responseId"]);a!=null&&b(e,["responseId"],a);const l=y(t,["usageMetadata"]);return l!=null&&b(e,["usageMetadata"],l),e}function jU(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),b(e,["candidates"],f)}const i=y(t,["createTime"]);i!=null&&b(e,["createTime"],i);const o=y(t,["modelVersion"]);o!=null&&b(e,["modelVersion"],o);const a=y(t,["promptFeedback"]);a!=null&&b(e,["promptFeedback"],a);const l=y(t,["responseId"]);l!=null&&b(e,["responseId"],l);const c=y(t,["usageMetadata"]);return c!=null&&b(e,["usageMetadata"],c),e}function oxe(t,e){const n={};if(y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=y(t,["numberOfImages"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=y(t,["aspectRatio"]);e!==void 0&&i!=null&&b(e,["parameters","aspectRatio"],i);const o=y(t,["guidanceScale"]);if(e!==void 0&&o!=null&&b(e,["parameters","guidanceScale"],o),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=y(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&b(e,["parameters","safetySetting"],a);const l=y(t,["personGeneration"]);e!==void 0&&l!=null&&b(e,["parameters","personGeneration"],l);const c=y(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&b(e,["parameters","includeSafetyAttributes"],c);const f=y(t,["includeRaiReason"]);e!==void 0&&f!=null&&b(e,["parameters","includeRaiReason"],f);const h=y(t,["language"]);e!==void 0&&h!=null&&b(e,["parameters","language"],h);const p=y(t,["outputMimeType"]);e!==void 0&&p!=null&&b(e,["parameters","outputOptions","mimeType"],p);const g=y(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&b(e,["parameters","outputOptions","compressionQuality"],g),y(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=y(t,["imageSize"]);if(e!==void 0&&v!=null&&b(e,["parameters","sampleImageSize"],v),y(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function axe(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=y(t,["negativePrompt"]);e!==void 0&&i!=null&&b(e,["parameters","negativePrompt"],i);const o=y(t,["numberOfImages"]);e!==void 0&&o!=null&&b(e,["parameters","sampleCount"],o);const a=y(t,["aspectRatio"]);e!==void 0&&a!=null&&b(e,["parameters","aspectRatio"],a);const l=y(t,["guidanceScale"]);e!==void 0&&l!=null&&b(e,["parameters","guidanceScale"],l);const c=y(t,["seed"]);e!==void 0&&c!=null&&b(e,["parameters","seed"],c);const f=y(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&b(e,["parameters","safetySetting"],f);const h=y(t,["personGeneration"]);e!==void 0&&h!=null&&b(e,["parameters","personGeneration"],h);const p=y(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&b(e,["parameters","includeSafetyAttributes"],p);const g=y(t,["includeRaiReason"]);e!==void 0&&g!=null&&b(e,["parameters","includeRaiReason"],g);const v=y(t,["language"]);e!==void 0&&v!=null&&b(e,["parameters","language"],v);const T=y(t,["outputMimeType"]);e!==void 0&&T!=null&&b(e,["parameters","outputOptions","mimeType"],T);const x=y(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&b(e,["parameters","outputOptions","compressionQuality"],x);const S=y(t,["addWatermark"]);e!==void 0&&S!=null&&b(e,["parameters","addWatermark"],S);const C=y(t,["labels"]);e!==void 0&&C!=null&&b(e,["labels"],C);const L=y(t,["imageSize"]);e!==void 0&&L!=null&&b(e,["parameters","sampleImageSize"],L);const M=y(t,["enhancePrompt"]);return e!==void 0&&M!=null&&b(e,["parameters","enhancePrompt"],M),n}function sxe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],yt(t,r));const i=y(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=y(e,["config"]);return o!=null&&oxe(o,n),n}function lxe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],yt(t,r));const i=y(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=y(e,["config"]);return o!=null&&axe(o,n),n}function uxe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Exe(a))),b(e,["generatedImages"],o)}const i=y(t,["positivePromptSafetyAttributes"]);return i!=null&&b(e,["positivePromptSafetyAttributes"],X6(i)),e}function cxe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>g0(a))),b(e,["generatedImages"],o)}const i=y(t,["positivePromptSafetyAttributes"]);return i!=null&&b(e,["positivePromptSafetyAttributes"],Q6(i)),e}function fxe(t,e){const n={},r=y(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r),y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=y(t,["durationSeconds"]);if(e!==void 0&&i!=null&&b(e,["parameters","durationSeconds"],i),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=y(t,["aspectRatio"]);e!==void 0&&o!=null&&b(e,["parameters","aspectRatio"],o);const a=y(t,["resolution"]);e!==void 0&&a!=null&&b(e,["parameters","resolution"],a);const l=y(t,["personGeneration"]);if(e!==void 0&&l!=null&&b(e,["parameters","personGeneration"],l),y(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=y(t,["negativePrompt"]);e!==void 0&&c!=null&&b(e,["parameters","negativePrompt"],c);const f=y(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&b(e,["parameters","enhancePrompt"],f),y(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=y(t,["lastFrame"]);e!==void 0&&h!=null&&b(e,["instances[0]","lastFrame"],y0(h));const p=y(t,["referenceImages"]);if(e!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(v=>hAe(v))),b(e,["instances[0]","referenceImages"],g)}if(y(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function dxe(t,e){const n={},r=y(t,["numberOfVideos"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=y(t,["outputGcsUri"]);e!==void 0&&i!=null&&b(e,["parameters","storageUri"],i);const o=y(t,["fps"]);e!==void 0&&o!=null&&b(e,["parameters","fps"],o);const a=y(t,["durationSeconds"]);e!==void 0&&a!=null&&b(e,["parameters","durationSeconds"],a);const l=y(t,["seed"]);e!==void 0&&l!=null&&b(e,["parameters","seed"],l);const c=y(t,["aspectRatio"]);e!==void 0&&c!=null&&b(e,["parameters","aspectRatio"],c);const f=y(t,["resolution"]);e!==void 0&&f!=null&&b(e,["parameters","resolution"],f);const h=y(t,["personGeneration"]);e!==void 0&&h!=null&&b(e,["parameters","personGeneration"],h);const p=y(t,["pubsubTopic"]);e!==void 0&&p!=null&&b(e,["parameters","pubsubTopic"],p);const g=y(t,["negativePrompt"]);e!==void 0&&g!=null&&b(e,["parameters","negativePrompt"],g);const v=y(t,["enhancePrompt"]);e!==void 0&&v!=null&&b(e,["parameters","enhancePrompt"],v);const T=y(t,["generateAudio"]);e!==void 0&&T!=null&&b(e,["parameters","generateAudio"],T);const x=y(t,["lastFrame"]);e!==void 0&&x!=null&&b(e,["instances[0]","lastFrame"],eo(x));const S=y(t,["referenceImages"]);if(e!==void 0&&S!=null){let M=S;Array.isArray(M)&&(M=M.map(G=>pAe(G))),b(e,["instances[0]","referenceImages"],M)}const C=y(t,["mask"]);e!==void 0&&C!=null&&b(e,["instances[0]","mask"],dAe(C));const L=y(t,["compressionQuality"]);return e!==void 0&&L!=null&&b(e,["parameters","compressionQuality"],L),n}function hxe(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);o!=null&&b(e,["error"],o);const a=y(t,["response","generateVideoResponse"]);return a!=null&&b(e,["response"],yxe(a)),e}function pxe(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);o!=null&&b(e,["error"],o);const a=y(t,["response"]);return a!=null&&b(e,["response"],vxe(a)),e}function mxe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],yt(t,r));const i=y(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=y(e,["image"]);o!=null&&b(n,["instances[0]","image"],y0(o));const a=y(e,["video"]);a!=null&&b(n,["instances[0]","video"],eH(a));const l=y(e,["source"]);l!=null&&_xe(l,n);const c=y(e,["config"]);return c!=null&&fxe(c,n),n}function gxe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],yt(t,r));const i=y(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=y(e,["image"]);o!=null&&b(n,["instances[0]","image"],eo(o));const a=y(e,["video"]);a!=null&&b(n,["instances[0]","video"],tH(a));const l=y(e,["source"]);l!=null&&bxe(l,n);const c=y(e,["config"]);return c!=null&&dxe(c,n),n}function yxe(t){const e={},n=y(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Txe(a))),b(e,["generatedVideos"],o)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function vxe(t){const e={},n=y(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Sxe(a))),b(e,["generatedVideos"],o)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function _xe(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&b(e,["instances[0]","image"],y0(i));const o=y(t,["video"]);return e!==void 0&&o!=null&&b(e,["instances[0]","video"],eH(o)),n}function bxe(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&b(e,["instances[0]","image"],eo(i));const o=y(t,["video"]);return e!==void 0&&o!=null&&b(e,["instances[0]","video"],tH(o)),n}function Exe(t){const e={},n=y(t,["_self"]);n!=null&&b(e,["image"],Mxe(n));const r=y(t,["raiFilteredReason"]);r!=null&&b(e,["raiFilteredReason"],r);const i=y(t,["_self"]);return i!=null&&b(e,["safetyAttributes"],X6(i)),e}function g0(t){const e={},n=y(t,["_self"]);n!=null&&b(e,["image"],J6(n));const r=y(t,["raiFilteredReason"]);r!=null&&b(e,["raiFilteredReason"],r);const i=y(t,["_self"]);i!=null&&b(e,["safetyAttributes"],Q6(i));const o=y(t,["prompt"]);return o!=null&&b(e,["enhancedPrompt"],o),e}function wxe(t){const e={},n=y(t,["_self"]);n!=null&&b(e,["mask"],J6(n));const r=y(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),b(e,["labels"],i)}return e}function Txe(t){const e={},n=y(t,["video"]);return n!=null&&b(e,["video"],cAe(n)),e}function Sxe(t){const e={},n=y(t,["_self"]);return n!=null&&b(e,["video"],fAe(n)),e}function xxe(t){const e={},n=y(t,["modelSelectionConfig"]);n!=null&&b(e,["modelConfig"],n);const r=y(t,["responseJsonSchema"]);r!=null&&b(e,["responseJsonSchema"],r);const i=y(t,["audioTimestamp"]);i!=null&&b(e,["audioTimestamp"],i);const o=y(t,["candidateCount"]);o!=null&&b(e,["candidateCount"],o);const a=y(t,["enableAffectiveDialog"]);a!=null&&b(e,["enableAffectiveDialog"],a);const l=y(t,["frequencyPenalty"]);l!=null&&b(e,["frequencyPenalty"],l);const c=y(t,["logprobs"]);c!=null&&b(e,["logprobs"],c);const f=y(t,["maxOutputTokens"]);f!=null&&b(e,["maxOutputTokens"],f);const h=y(t,["mediaResolution"]);h!=null&&b(e,["mediaResolution"],h);const p=y(t,["presencePenalty"]);p!=null&&b(e,["presencePenalty"],p);const g=y(t,["responseLogprobs"]);g!=null&&b(e,["responseLogprobs"],g);const v=y(t,["responseMimeType"]);v!=null&&b(e,["responseMimeType"],v);const T=y(t,["responseModalities"]);T!=null&&b(e,["responseModalities"],T);const x=y(t,["responseSchema"]);x!=null&&b(e,["responseSchema"],x);const S=y(t,["routingConfig"]);S!=null&&b(e,["routingConfig"],S);const C=y(t,["seed"]);C!=null&&b(e,["seed"],C);const L=y(t,["speechConfig"]);L!=null&&b(e,["speechConfig"],L);const M=y(t,["stopSequences"]);M!=null&&b(e,["stopSequences"],M);const G=y(t,["temperature"]);G!=null&&b(e,["temperature"],G);const $=y(t,["thinkingConfig"]);$!=null&&b(e,["thinkingConfig"],$);const z=y(t,["topK"]);z!=null&&b(e,["topK"],z);const N=y(t,["topP"]);if(N!=null&&b(e,["topP"],N),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Axe(t,e){const n={},r=y(e,["model"]);return r!=null&&b(n,["_url","name"],yt(t,r)),n}function Cxe(t,e){const n={},r=y(e,["model"]);return r!=null&&b(n,["_url","name"],yt(t,r)),n}function Ixe(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function Rxe(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function Pxe(t){const e={},n=y(t,["aspectRatio"]);n!=null&&b(e,["aspectRatio"],n);const r=y(t,["imageSize"]);if(r!=null&&b(e,["imageSize"],r),y(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function kxe(t){const e={},n=y(t,["aspectRatio"]);n!=null&&b(e,["aspectRatio"],n);const r=y(t,["imageSize"]);r!=null&&b(e,["imageSize"],r);const i=y(t,["outputMimeType"]);i!=null&&b(e,["imageOutputOptions","mimeType"],i);const o=y(t,["outputCompressionQuality"]);return o!=null&&b(e,["imageOutputOptions","compressionQuality"],o),e}function Mxe(t){const e={},n=y(t,["bytesBase64Encoded"]);n!=null&&b(e,["imageBytes"],ol(n));const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function J6(t){const e={},n=y(t,["gcsUri"]);n!=null&&b(e,["gcsUri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&b(e,["imageBytes"],ol(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function y0(t){const e={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=y(t,["imageBytes"]);n!=null&&b(e,["bytesBase64Encoded"],ol(n));const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function eo(t){const e={},n=y(t,["gcsUri"]);n!=null&&b(e,["gcsUri"],n);const r=y(t,["imageBytes"]);r!=null&&b(e,["bytesBase64Encoded"],ol(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function Nxe(t,e,n){const r={},i=y(e,["pageSize"]);n!==void 0&&i!=null&&b(n,["_query","pageSize"],i);const o=y(e,["pageToken"]);n!==void 0&&o!=null&&b(n,["_query","pageToken"],o);const a=y(e,["filter"]);n!==void 0&&a!=null&&b(n,["_query","filter"],a);const l=y(e,["queryBase"]);return n!==void 0&&l!=null&&b(n,["_url","models_url"],H6(t,l)),r}function Dxe(t,e,n){const r={},i=y(e,["pageSize"]);n!==void 0&&i!=null&&b(n,["_query","pageSize"],i);const o=y(e,["pageToken"]);n!==void 0&&o!=null&&b(n,["_query","pageToken"],o);const a=y(e,["filter"]);n!==void 0&&a!=null&&b(n,["_query","filter"],a);const l=y(e,["queryBase"]);return n!==void 0&&l!=null&&b(n,["_url","models_url"],H6(t,l)),r}function Oxe(t,e){const n={},r=y(e,["config"]);return r!=null&&Nxe(t,r,n),n}function Lxe(t,e){const n={},r=y(e,["config"]);return r!=null&&Dxe(t,r,n),n}function Uxe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["_self"]);if(i!=null){let o=j6(i);Array.isArray(o)&&(o=o.map(a=>CS(a))),b(e,["models"],o)}return e}function Vxe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["_self"]);if(i!=null){let o=j6(i);Array.isArray(o)&&(o=o.map(a=>IS(a))),b(e,["models"],o)}return e}function Fxe(t){const e={},n=y(t,["maskMode"]);n!=null&&b(e,["maskMode"],n);const r=y(t,["segmentationClasses"]);r!=null&&b(e,["maskClasses"],r);const i=y(t,["maskDilation"]);return i!=null&&b(e,["dilation"],i),e}function CS(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=y(t,["description"]);i!=null&&b(e,["description"],i);const o=y(t,["version"]);o!=null&&b(e,["version"],o);const a=y(t,["_self"]);a!=null&&b(e,["tunedModelInfo"],tAe(a));const l=y(t,["inputTokenLimit"]);l!=null&&b(e,["inputTokenLimit"],l);const c=y(t,["outputTokenLimit"]);c!=null&&b(e,["outputTokenLimit"],c);const f=y(t,["supportedGenerationMethods"]);f!=null&&b(e,["supportedActions"],f);const h=y(t,["temperature"]);h!=null&&b(e,["temperature"],h);const p=y(t,["maxTemperature"]);p!=null&&b(e,["maxTemperature"],p);const g=y(t,["topP"]);g!=null&&b(e,["topP"],g);const v=y(t,["topK"]);v!=null&&b(e,["topK"],v);const T=y(t,["thinking"]);return T!=null&&b(e,["thinking"],T),e}function IS(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=y(t,["description"]);i!=null&&b(e,["description"],i);const o=y(t,["versionId"]);o!=null&&b(e,["version"],o);const a=y(t,["deployedModels"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>QSe(g))),b(e,["endpoints"],p)}const l=y(t,["labels"]);l!=null&&b(e,["labels"],l);const c=y(t,["_self"]);c!=null&&b(e,["tunedModelInfo"],nAe(c));const f=y(t,["defaultCheckpointId"]);f!=null&&b(e,["defaultCheckpointId"],f);const h=y(t,["checkpoints"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(g=>g)),b(e,["checkpoints"],p)}return e}function zxe(t){const e={},n=y(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&b(e,["fileData"],ZSe(o));const a=y(t,["functionCall"]);a!=null&&b(e,["functionCall"],exe(a));const l=y(t,["functionResponse"]);l!=null&&b(e,["functionResponse"],l);const c=y(t,["inlineData"]);c!=null&&b(e,["inlineData"],xSe(c));const f=y(t,["text"]);f!=null&&b(e,["text"],f);const h=y(t,["thought"]);h!=null&&b(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&b(e,["videoMetadata"],g),e}function Bxe(t){const e={},n=y(t,["productImage"]);return n!=null&&b(e,["image"],eo(n)),e}function qxe(t,e){const n={},r=y(t,["numberOfImages"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=y(t,["baseSteps"]);e!==void 0&&i!=null&&b(e,["parameters","baseSteps"],i);const o=y(t,["outputGcsUri"]);e!==void 0&&o!=null&&b(e,["parameters","storageUri"],o);const a=y(t,["seed"]);e!==void 0&&a!=null&&b(e,["parameters","seed"],a);const l=y(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&b(e,["parameters","safetySetting"],l);const c=y(t,["personGeneration"]);e!==void 0&&c!=null&&b(e,["parameters","personGeneration"],c);const f=y(t,["addWatermark"]);e!==void 0&&f!=null&&b(e,["parameters","addWatermark"],f);const h=y(t,["outputMimeType"]);e!==void 0&&h!=null&&b(e,["parameters","outputOptions","mimeType"],h);const p=y(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&b(e,["parameters","outputOptions","compressionQuality"],p);const g=y(t,["enhancePrompt"]);e!==void 0&&g!=null&&b(e,["parameters","enhancePrompt"],g);const v=y(t,["labels"]);return e!==void 0&&v!=null&&b(e,["labels"],v),n}function Hxe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],yt(t,r));const i=y(e,["source"]);i!=null&&$xe(i,n);const o=y(e,["config"]);return o!=null&&qxe(o,n),n}function jxe(t){const e={},n=y(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>g0(i))),b(e,["generatedImages"],r)}return e}function $xe(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=y(t,["personImage"]);e!==void 0&&i!=null&&b(e,["instances[0]","personImage","image"],eo(i));const o=y(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>Bxe(l))),b(e,["instances[0]","productImages"],a)}return n}function Gxe(t){const e={},n=y(t,["referenceImage"]);n!=null&&b(e,["referenceImage"],eo(n));const r=y(t,["referenceId"]);r!=null&&b(e,["referenceId"],r);const i=y(t,["referenceType"]);i!=null&&b(e,["referenceType"],i);const o=y(t,["maskImageConfig"]);o!=null&&b(e,["maskImageConfig"],Fxe(o));const a=y(t,["controlImageConfig"]);a!=null&&b(e,["controlImageConfig"],MSe(a));const l=y(t,["styleImageConfig"]);l!=null&&b(e,["styleImageConfig"],l);const c=y(t,["subjectImageConfig"]);return c!=null&&b(e,["subjectImageConfig"],c),e}function X6(t){const e={},n=y(t,["safetyAttributes","categories"]);n!=null&&b(e,["categories"],n);const r=y(t,["safetyAttributes","scores"]);r!=null&&b(e,["scores"],r);const i=y(t,["contentType"]);return i!=null&&b(e,["contentType"],i),e}function Q6(t){const e={},n=y(t,["safetyAttributes","categories"]);n!=null&&b(e,["categories"],n);const r=y(t,["safetyAttributes","scores"]);r!=null&&b(e,["scores"],r);const i=y(t,["contentType"]);return i!=null&&b(e,["contentType"],i),e}function Kxe(t){const e={},n=y(t,["category"]);if(n!=null&&b(e,["category"],n),y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(t,["threshold"]);return r!=null&&b(e,["threshold"],r),e}function Yxe(t){const e={},n=y(t,["image"]);return n!=null&&b(e,["image"],eo(n)),e}function Wxe(t,e){const n={},r=y(t,["mode"]);e!==void 0&&r!=null&&b(e,["parameters","mode"],r);const i=y(t,["maxPredictions"]);e!==void 0&&i!=null&&b(e,["parameters","maxPredictions"],i);const o=y(t,["confidenceThreshold"]);e!==void 0&&o!=null&&b(e,["parameters","confidenceThreshold"],o);const a=y(t,["maskDilation"]);e!==void 0&&a!=null&&b(e,["parameters","maskDilation"],a);const l=y(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&b(e,["parameters","binaryColorThreshold"],l);const c=y(t,["labels"]);return e!==void 0&&c!=null&&b(e,["labels"],c),n}function Jxe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],yt(t,r));const i=y(e,["source"]);i!=null&&Qxe(i,n);const o=y(e,["config"]);return o!=null&&Wxe(o,n),n}function Xxe(t){const e={},n=y(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>wxe(i))),b(e,["generatedMasks"],r)}return e}function Qxe(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&b(e,["instances[0]","image"],eo(i));const o=y(t,["scribbleImage"]);return e!==void 0&&o!=null&&b(e,["instances[0]","scribble"],Yxe(o)),n}function Zxe(t){const e={},n=y(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],txe(n));const r=y(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],r),e}function eAe(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const o=y(t,["fileSearch"]);o!=null&&b(e,["fileSearch"],o);const a=y(t,["codeExecution"]);if(a!=null&&b(e,["codeExecution"],a),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=y(t,["googleMaps"]);l!=null&&b(e,["googleMaps"],Ixe(l));const c=y(t,["googleSearch"]);c!=null&&b(e,["googleSearch"],Rxe(c));const f=y(t,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}function Z6(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>nxe(g))),b(e,["functionDeclarations"],p)}const r=y(t,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=y(t,["googleSearchRetrieval"]);i!=null&&b(e,["googleSearchRetrieval"],i);const o=y(t,["computerUse"]);if(o!=null&&b(e,["computerUse"],o),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(t,["codeExecution"]);a!=null&&b(e,["codeExecution"],a);const l=y(t,["enterpriseWebSearch"]);l!=null&&b(e,["enterpriseWebSearch"],l);const c=y(t,["googleMaps"]);c!=null&&b(e,["googleMaps"],c);const f=y(t,["googleSearch"]);f!=null&&b(e,["googleSearch"],f);const h=y(t,["urlContext"]);return h!=null&&b(e,["urlContext"],h),e}function tAe(t){const e={},n=y(t,["baseModel"]);n!=null&&b(e,["baseModel"],n);const r=y(t,["createTime"]);r!=null&&b(e,["createTime"],r);const i=y(t,["updateTime"]);return i!=null&&b(e,["updateTime"],i),e}function nAe(t){const e={},n=y(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&b(e,["baseModel"],n);const r=y(t,["createTime"]);r!=null&&b(e,["createTime"],r);const i=y(t,["updateTime"]);return i!=null&&b(e,["updateTime"],i),e}function rAe(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=y(t,["description"]);e!==void 0&&i!=null&&b(e,["description"],i);const o=y(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&b(e,["defaultCheckpointId"],o),n}function iAe(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=y(t,["description"]);e!==void 0&&i!=null&&b(e,["description"],i);const o=y(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&b(e,["defaultCheckpointId"],o),n}function oAe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","name"],yt(t,r));const i=y(e,["config"]);return i!=null&&rAe(i,n),n}function aAe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],yt(t,r));const i=y(e,["config"]);return i!=null&&iAe(i,n),n}function sAe(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=y(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&b(e,["parameters","safetySetting"],i);const o=y(t,["personGeneration"]);e!==void 0&&o!=null&&b(e,["parameters","personGeneration"],o);const a=y(t,["includeRaiReason"]);e!==void 0&&a!=null&&b(e,["parameters","includeRaiReason"],a);const l=y(t,["outputMimeType"]);e!==void 0&&l!=null&&b(e,["parameters","outputOptions","mimeType"],l);const c=y(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&b(e,["parameters","outputOptions","compressionQuality"],c);const f=y(t,["enhanceInputImage"]);e!==void 0&&f!=null&&b(e,["parameters","upscaleConfig","enhanceInputImage"],f);const h=y(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&b(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=y(t,["labels"]);e!==void 0&&p!=null&&b(e,["labels"],p);const g=y(t,["numberOfImages"]);e!==void 0&&g!=null&&b(e,["parameters","sampleCount"],g);const v=y(t,["mode"]);return e!==void 0&&v!=null&&b(e,["parameters","mode"],v),n}function lAe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],yt(t,r));const i=y(e,["image"]);i!=null&&b(n,["instances[0]","image"],eo(i));const o=y(e,["upscaleFactor"]);o!=null&&b(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=y(e,["config"]);return a!=null&&sAe(a,n),n}function uAe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>g0(o))),b(e,["generatedImages"],i)}return e}function cAe(t){const e={},n=y(t,["uri"]);n!=null&&b(e,["uri"],n);const r=y(t,["encodedVideo"]);r!=null&&b(e,["videoBytes"],ol(r));const i=y(t,["encoding"]);return i!=null&&b(e,["mimeType"],i),e}function fAe(t){const e={},n=y(t,["gcsUri"]);n!=null&&b(e,["uri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&b(e,["videoBytes"],ol(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function dAe(t){const e={},n=y(t,["image"]);n!=null&&b(e,["_self"],eo(n));const r=y(t,["maskMode"]);return r!=null&&b(e,["maskMode"],r),e}function hAe(t){const e={},n=y(t,["image"]);n!=null&&b(e,["image"],y0(n));const r=y(t,["referenceType"]);return r!=null&&b(e,["referenceType"],r),e}function pAe(t){const e={},n=y(t,["image"]);n!=null&&b(e,["image"],eo(n));const r=y(t,["referenceType"]);return r!=null&&b(e,["referenceType"],r),e}function eH(t){const e={},n=y(t,["uri"]);n!=null&&b(e,["uri"],n);const r=y(t,["videoBytes"]);r!=null&&b(e,["encodedVideo"],ol(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["encoding"],i),e}function tH(t){const e={},n=y(t,["uri"]);n!=null&&b(e,["gcsUri"],n);const r=y(t,["videoBytes"]);r!=null&&b(e,["bytesBase64Encoded"],ol(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mAe(t,e){const n={},r=y(t,["displayName"]);return e!==void 0&&r!=null&&b(e,["displayName"],r),n}function gAe(t){const e={},n=y(t,["config"]);return n!=null&&mAe(n,e),e}function yAe(t,e){const n={},r=y(t,["force"]);return e!==void 0&&r!=null&&b(e,["_query","force"],r),n}function vAe(t){const e={},n=y(t,["name"]);n!=null&&b(e,["_url","name"],n);const r=y(t,["config"]);return r!=null&&yAe(r,e),e}function _Ae(t){const e={},n=y(t,["name"]);return n!=null&&b(e,["_url","name"],n),e}function bAe(t,e){const n={},r=y(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),b(e,["customMetadata"],o)}const i=y(t,["chunkingConfig"]);return e!==void 0&&i!=null&&b(e,["chunkingConfig"],i),n}function EAe(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);o!=null&&b(e,["error"],o);const a=y(t,["response"]);return a!=null&&b(e,["response"],TAe(a)),e}function wAe(t){const e={},n=y(t,["fileSearchStoreName"]);n!=null&&b(e,["_url","file_search_store_name"],n);const r=y(t,["fileName"]);r!=null&&b(e,["fileName"],r);const i=y(t,["config"]);return i!=null&&bAe(i,e),e}function TAe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&b(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function SAe(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function xAe(t){const e={},n=y(t,["config"]);return n!=null&&SAe(n,e),e}function AAe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),b(e,["fileSearchStores"],o)}return e}function nH(t,e){const n={},r=y(t,["mimeType"]);e!==void 0&&r!=null&&b(e,["mimeType"],r);const i=y(t,["displayName"]);e!==void 0&&i!=null&&b(e,["displayName"],i);const o=y(t,["customMetadata"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),b(e,["customMetadata"],l)}const a=y(t,["chunkingConfig"]);return e!==void 0&&a!=null&&b(e,["chunkingConfig"],a),n}function CAe(t){const e={},n=y(t,["fileSearchStoreName"]);n!=null&&b(e,["_url","file_search_store_name"],n);const r=y(t,["config"]);return r!=null&&nH(r,e),e}function IAe(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RAe="Content-Type",PAe="X-Server-Timeout",kAe="User-Agent",RS="x-goog-api-client",MAe="1.34.0",NAe=`google-genai-sdk/${MAe}`,DAe="v1beta1",OAe="v1beta";class LAe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:DAe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:OAe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,l]of Object.entries(e.queryParams))i.searchParams.append(a,String(l));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>o.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&UAe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await $U(i),new SS(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await $U(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Ji(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const l="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:h}=yield He(i.read());if(f){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=o.decode(h,{stream:!0});try{const T=JSON.parse(p);if("error"in T){const x=JSON.parse(JSON.stringify(T.error)),S=x.status,C=x.code,L=`got status: ${S}. ${JSON.stringify(T)}`;if(C>=400&&C<600)throw new p0({message:L,status:C})}}catch(T){if(T.name==="ApiError")throw T}a+=p;let g=-1,v=0;for(;;){g=-1,v=0;for(const S of c){const C=a.indexOf(S);C!==-1&&(g===-1||C<g)&&(g=C,v=S.length)}if(g===-1)break;const T=a.substring(0,g);a=a.substring(g+v);const x=T.trim();if(x.startsWith(l)){const S=x.substring(l.length).trim();try{const C=new Response(S,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield He(new SS(C))}catch(C){throw new Error(`exception parsing stream chunk ${S}. ${C}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=NAe+" "+this.clientOptions.userAgentExtra;return e[kAe]=n,e[RS]=n,e[RAe]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(PAe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const c={file:i},f=this.getFileName(e),h=Te("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,c,n==null?void 0:n.httpOptions);return o.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),l=String(a.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),p={};r!=null&&nH(r,p);const g=await this.fetchUploadUrl(f,l,c,h,p,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var l;let c={};a?c=a:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(l=f==null?void 0:f.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function $U(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new p0({message:i,status:n}):new Error(i)}}function UAe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const l=Object.assign({},o);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const f=a[c],h=l[c];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?l[c]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),l[c]=f)}return l}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VAe="mcp_used/unknown";let FAe=!1;function rH(t){for(const e of t)if(zAe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return FAe}function iH(t){var e;const n=(e=t[RS])!==null&&e!==void 0?e:"";t[RS]=(n+` ${VAe}`).trimStart()}function zAe(t){return t!==null&&typeof t=="object"&&t instanceof G1}function BAe(t){return Ji(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const a=yield He(n.listTools({cursor:i}));for(const l of a.tools)yield yield He(l),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class G1{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new G1(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const h of this.mcpClients)try{for(var l=!0,c=(n=void 0,Xi(BAe(h))),f;f=await c.next(),e=f.done,!e;l=!0){i=f.value,l=!1;const p=i;a.push(p);const g=p.name;if(o[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);o[g]=h}}catch(p){n={error:p}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),_we(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function qAe(t,e,n){const r=new fwe;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class HAe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=GAe(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${l}`;let f=()=>{};const h=new Promise(M=>{f=M}),p=e.callbacks,g=function(){f({})},v=this.apiClient,T={onopen:g,onmessage:M=>{qAe(v,p.onmessage,M)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(M){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(M){}},x=this.webSocketFactory.create(c,$Ae(a),T);x.connect(),await h;const L={setup:{model:yt(this.apiClient,e.model)}};return x.send(JSON.stringify(L)),new jAe(x,this.apiClient)}}class jAe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=gSe(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=mSe(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(wc.PLAY)}pause(){this.sendPlaybackControl(wc.PAUSE)}stop(){this.sendPlaybackControl(wc.STOP)}resetContext(){this.sendPlaybackControl(wc.RESET_CONTEXT)}close(){this.conn.close()}}function $Ae(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function GAe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KAe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function YAe(t,e,n){const r=new cwe;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=_Se(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class WAe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new HAe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&rH(e.config.tools)&&iH(p);const g=ZAe(p);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h);else{const V=this.apiClient.getApiKey();let k="BidiGenerateContent",P="key";V!=null&&V.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),k="BidiGenerateContentConstrained",P="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${k}?${P}=${V}`}let v=()=>{};const T=new Promise(V=>{v=V}),x=e.callbacks,S=function(){var V;(V=x==null?void 0:x.onopen)===null||V===void 0||V.call(x),v({})},C=this.apiClient,L={onopen:S,onmessage:V=>{YAe(C,x.onmessage,V)},onerror:(n=x==null?void 0:x.onerror)!==null&&n!==void 0?n:function(V){},onclose:(r=x==null?void 0:x.onclose)!==null&&r!==void 0?r:function(V){}},M=this.webSocketFactory.create(h,QAe(g),L);M.connect(),await T;let G=yt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&G.startsWith("publishers/")){const V=this.apiClient.getProject(),k=this.apiClient.getLocation();G=`projects/${V}/locations/${k}/`+G}let $={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Qy.AUDIO]}:e.config.responseModalities=[Qy.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const z=(l=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&l!==void 0?l:[],N=[];for(const V of z)if(this.isCallableTool(V)){const k=V;N.push(await k.tool())}else N.push(V);N.length>0&&(e.config.tools=N);const U={model:G,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?$=pSe(this.apiClient,U):$=hSe(this.apiClient,U),delete $.config,M.send(JSON.stringify($)),new XAe(M,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const JAe={turnComplete:!0};class XAe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Ii(n.turns),e.isVertexAI()||(r=r.map(i=>m0(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(KAe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},JAe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:vSe(e)}:n={realtimeInput:ySe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function QAe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function ZAe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GU=10;function KU(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Dc(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Dc(t){return"callTool"in t&&typeof t.callTool=="function"}function e1e(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Dc(i)))!==null&&r!==void 0?r:!1}function YU(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Dc(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function WU(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t1e extends La{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,l;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!e1e(n)||KU(n.config))return await this.generateContentInternal(c);const f=YU(n);if(f.length>0){const x=f.map(S=>`tools[${S}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${x}.`)}let h,p;const g=Ii(c.contents),v=(o=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:GU;let T=0;for(;T<v&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const x=h.candidates[0].content,S=[];for(const C of(l=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&l!==void 0?l:[])if(Dc(C)){const M=await C.callTool(h.functionCalls);S.push(...M)}T++,p={role:"user",parts:S},c.contents=Ii(c.contents),c.contents.push(x),c.contents.push(p),WU(c.config)&&(g.push(x),g.push(p))}return WU(c.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{var r,i,o,a,l;if(this.maybeMoveToResponseJsonSchem(n),KU(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const c=YU(n);if(c.length>0){const p=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,h=(l=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:a.push(c);let l;return o?l={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new bu(Pa.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,l,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async c=>Dc(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(l.config.tools=a,e.config&&e.config.tools&&rH(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),iH(f),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return l}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Dc(a)){const l=a,c=await l.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,l)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:GU;let a=!1,l=0;const c=await this.initAfcToolsMap(e);return(function(f,h,p){return Ji(this,arguments,function*(){for(var g,v,T,x,S,C;l<o;){a&&(l++,a=!1);const $=yield He(f.processParamsMaybeAddMcpUsage(p)),z=yield He(f.generateContentStreamInternal($)),N=[],U=[];try{for(var L=!0,M=(v=void 0,Xi(z)),G;G=yield He(M.next()),g=G.done,!g;L=!0){x=G.value,L=!1;const V=x;if(yield yield He(V),V.candidates&&(!((S=V.candidates[0])===null||S===void 0)&&S.content)){U.push(V.candidates[0].content);for(const k of(C=V.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(l<o&&k.functionCall){if(!k.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(k.functionCall.name)){const P=yield He(h.get(k.functionCall.name).callTool([k.functionCall]));N.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${k.functionCall.name}`)}}}}catch(V){v={error:V}}finally{try{!L&&!g&&(T=M.return)&&(yield He(T.call(M)))}finally{if(v)throw v.error}}if(N.length>0){a=!0;const V=new Dd;V.candidates=[{content:{role:"user",parts:N}}],yield yield He(V);const k=[];k.push(...U),k.push({role:"user",parts:N});const P=Ii(p.contents).concat(k);p.contents=P}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=qU(this.apiClient,e);return l=Te("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=jU(h),g=new Dd;return Object.assign(g,p),g})}else{const f=BU(this.apiClient,e);return l=Te("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=HU(h),g=new Dd;return Object.assign(g,p),g})}}async generateContentStreamInternal(e){var n,r,i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=qU(this.apiClient,e);return l=Te("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(p){return Ji(this,arguments,function*(){var g,v,T,x;try{for(var S=!0,C=Xi(p),L;L=yield He(C.next()),g=L.done,!g;S=!0){x=L.value,S=!1;const M=x,G=jU(yield He(M.json()));G.sdkHttpResponse={headers:M.headers};const $=new Dd;Object.assign($,G),yield yield He($)}}catch(M){v={error:M}}finally{try{!S&&!g&&(T=C.return)&&(yield He(T.call(C)))}finally{if(v)throw v.error}}})})}else{const f=BU(this.apiClient,e);return l=Te("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(p){return Ji(this,arguments,function*(){var g,v,T,x;try{for(var S=!0,C=Xi(p),L;L=yield He(C.next()),g=L.done,!g;S=!0){x=L.value,S=!1;const M=x,G=HU(yield He(M.json()));G.sdkHttpResponse={headers:M.headers};const $=new Dd;Object.assign($,G),yield yield He($)}}catch(M){v={error:M}}finally{try{!S&&!g&&(T=C.return)&&(yield He(T.call(C)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var n,r,i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=WSe(this.apiClient,e);return l=Te("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=XSe(h),g=new SU;return Object.assign(g,p),g})}else{const f=YSe(this.apiClient,e);return l=Te("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=JSe(h),g=new SU;return Object.assign(g,p),g})}}async generateImagesInternal(e){var n,r,i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=lxe(this.apiClient,e);return l=Te("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=cxe(h),g=new xU;return Object.assign(g,p),g})}else{const f=sxe(this.apiClient,e);return l=Te("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=uxe(h),g=new xU;return Object.assign(g,p),g})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const l=jSe(this.apiClient,e);return o=Te("{model}:predict",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=$Se(c),h=new ZEe;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const l=lAe(this.apiClient,e);return o=Te("{model}:predict",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=uAe(c),h=new ewe;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const l=Hxe(this.apiClient,e);return o=Te("{model}:predict",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=jxe(c),h=new twe;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const l=Jxe(this.apiClient,e);return o=Te("{model}:predict",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Xxe(c),h=new nwe;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=Cxe(this.apiClient,e);return l=Te("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>IS(h))}else{const f=Axe(this.apiClient,e);return l=Te("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>CS(h))}}async listInternal(e){var n,r,i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=Lxe(this.apiClient,e);return l=Te("{models_url}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Vxe(h),g=new AU;return Object.assign(g,p),g})}else{const f=Oxe(this.apiClient,e);return l=Te("{models_url}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Uxe(h),g=new AU;return Object.assign(g,p),g})}}async update(e){var n,r,i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=aAe(this.apiClient,e);return l=Te("{model}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>IS(h))}else{const f=oAe(this.apiClient,e);return l=Te("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>CS(h))}}async delete(e){var n,r,i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=zSe(this.apiClient,e);return l=Te("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=qSe(h),g=new CU;return Object.assign(g,p),g})}else{const f=FSe(this.apiClient,e);return l=Te("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=BSe(h),g=new CU;return Object.assign(g,p),g})}}async countTokens(e){var n,r,i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=LSe(this.apiClient,e);return l=Te("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=VSe(h),g=new IU;return Object.assign(g,p),g})}else{const f=OSe(this.apiClient,e);return l=Te("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=USe(h),g=new IU;return Object.assign(g,p),g})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const l=ISe(this.apiClient,e);return o=Te("{model}:computeTokens",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=RSe(c),h=new rwe;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=gxe(this.apiClient,e);return l=Te("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>{const p=pxe(h),g=new Zy;return Object.assign(g,p),g})}else{const f=mxe(this.apiClient,e);return l=Te("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const p=hxe(h),g=new Zy;return Object.assign(g,p),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n1e extends La{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=KEe(e);return l=Te("{operationName}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a}else{const f=GEe(e);return l=Te("{operationName}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const l=FEe(e);return o=Te("{resourceName}:fetchPredictOperation",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r1e(t){const e={},n=y(t,["data"]);if(n!=null&&b(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function i1e(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>h1e(o))),b(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&b(e,["role"],r),e}function o1e(t,e,n){const r={},i=y(e,["expireTime"]);n!==void 0&&i!=null&&b(n,["expireTime"],i);const o=y(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&b(n,["newSessionExpireTime"],o);const a=y(e,["uses"]);n!==void 0&&a!=null&&b(n,["uses"],a);const l=y(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&b(n,["bidiGenerateContentSetup"],d1e(t,l));const c=y(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&b(n,["fieldMask"],c),r}function a1e(t,e){const n={},r=y(e,["config"]);return r!=null&&b(n,["config"],o1e(t,r,n)),n}function s1e(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function l1e(t){const e={},n=y(t,["id"]);n!=null&&b(e,["id"],n);const r=y(t,["args"]);r!=null&&b(e,["args"],r);const i=y(t,["name"]);if(i!=null&&b(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function u1e(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function c1e(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function f1e(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const o=y(t,["temperature"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","temperature"],o);const a=y(t,["topP"]);e!==void 0&&a!=null&&b(e,["setup","generationConfig","topP"],a);const l=y(t,["topK"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","topK"],l);const c=y(t,["maxOutputTokens"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","maxOutputTokens"],c);const f=y(t,["mediaResolution"]);e!==void 0&&f!=null&&b(e,["setup","generationConfig","mediaResolution"],f);const h=y(t,["seed"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&b(e,["setup","generationConfig","speechConfig"],$1(p));const g=y(t,["thinkingConfig"]);e!==void 0&&g!=null&&b(e,["setup","generationConfig","thinkingConfig"],g);const v=y(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],v);const T=y(t,["systemInstruction"]);e!==void 0&&T!=null&&b(e,["setup","systemInstruction"],i1e(dr(T)));const x=y(t,["tools"]);if(e!==void 0&&x!=null){let z=yf(x);Array.isArray(z)&&(z=z.map(N=>m1e(gf(N)))),b(e,["setup","tools"],z)}const S=y(t,["sessionResumption"]);e!==void 0&&S!=null&&b(e,["setup","sessionResumption"],p1e(S));const C=y(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&b(e,["setup","inputAudioTranscription"],C);const L=y(t,["outputAudioTranscription"]);e!==void 0&&L!=null&&b(e,["setup","outputAudioTranscription"],L);const M=y(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&b(e,["setup","realtimeInputConfig"],M);const G=y(t,["contextWindowCompression"]);e!==void 0&&G!=null&&b(e,["setup","contextWindowCompression"],G);const $=y(t,["proactivity"]);if(e!==void 0&&$!=null&&b(e,["setup","proactivity"],$),y(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function d1e(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["setup","model"],yt(t,r));const i=y(e,["config"]);return i!=null&&b(n,["config"],f1e(i,n)),n}function h1e(t){const e={},n=y(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&b(e,["fileData"],s1e(o));const a=y(t,["functionCall"]);a!=null&&b(e,["functionCall"],l1e(a));const l=y(t,["functionResponse"]);l!=null&&b(e,["functionResponse"],l);const c=y(t,["inlineData"]);c!=null&&b(e,["inlineData"],r1e(c));const f=y(t,["text"]);f!=null&&b(e,["text"],f);const h=y(t,["thought"]);h!=null&&b(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&b(e,["videoMetadata"],g),e}function p1e(t){const e={},n=y(t,["handle"]);if(n!=null&&b(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function m1e(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const o=y(t,["fileSearch"]);o!=null&&b(e,["fileSearch"],o);const a=y(t,["codeExecution"]);if(a!=null&&b(e,["codeExecution"],a),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=y(t,["googleMaps"]);l!=null&&b(e,["googleMaps"],u1e(l));const c=y(t,["googleSearch"]);c!=null&&b(e,["googleSearch"],c1e(c));const f=y(t,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g1e(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function y1e(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=g1e(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(f=>a.includes(f)?`generationConfig.${f}`:f));const c=[];o&&c.push(o),l.length>0&&c.push(...l),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class v1e extends La{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=a1e(this.apiClient,e);o=Te("auth_tokens",l._url),a=l._query,delete l.config,delete l._url,delete l._query;const c=y1e(l,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _1e(t,e){const n={},r=y(t,["force"]);return e!==void 0&&r!=null&&b(e,["_query","force"],r),n}function b1e(t){const e={},n=y(t,["name"]);n!=null&&b(e,["_url","name"],n);const r=y(t,["config"]);return r!=null&&_1e(r,e),e}function E1e(t){const e={},n=y(t,["name"]);return n!=null&&b(e,["_url","name"],n),e}function w1e(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function T1e(t){const e={},n=y(t,["parent"]);n!=null&&b(e,["_url","parent"],n);const r=y(t,["config"]);return r!=null&&w1e(r,e),e}function S1e(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),b(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x1e extends La{constructor(e){super(),this.apiClient=e,this.list=async n=>new bu(Pa.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=E1e(e);return o=Te("{name}",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=b1e(e);i=Te("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=T1e(e);return o=Te("{parent}/documents",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=S1e(c),h=new iwe;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class A1e extends La{constructor(e,n=new x1e(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new bu(Pa.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=gAe(e);return o=Te("fileSearchStores",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=_Ae(e);return o=Te("{name}",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=vAe(e);i=Te("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=xAe(e);return o=Te("fileSearchStores",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=AAe(c),h=new owe;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=CAe(e);return o=Te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=IAe(c),h=new awe;return Object.assign(h,f),h})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=wAe(e);return o=Te("{file_search_store_name}:importFile",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=EAe(c),h=new z1;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let oH=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return oH=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const C1e=()=>oH();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PS(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const kS=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mi extends Error{}class Rr extends Mi{constructor(e,n,r,i){super(`${Rr.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new v0({message:r,cause:kS(n)});const o=n;return e===400?new sH(e,o,r,i):e===401?new lH(e,o,r,i):e===403?new uH(e,o,r,i):e===404?new cH(e,o,r,i):e===409?new fH(e,o,r,i):e===422?new dH(e,o,r,i):e===429?new hH(e,o,r,i):e>=500?new pH(e,o,r,i):new Rr(e,o,r,i)}}class MS extends Rr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class v0 extends Rr{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class aH extends v0{constructor({message:e}={}){super({message:e??"Request timed out."})}}class sH extends Rr{}class lH extends Rr{}class uH extends Rr{}class cH extends Rr{}class fH extends Rr{}class dH extends Rr{}class hH extends Rr{}class pH extends Rr{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I1e=/^[a-z][a-z0-9+.-]*:/i,R1e=t=>I1e.test(t);let NS=t=>(NS=Array.isArray,NS(t));const P1e=NS;let k1e=P1e;const JU=k1e;function M1e(t){if(!t)return!0;for(const e in t)return!1;return!0}function N1e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const D1e=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Mi(`${t} must be an integer`);if(e<0)throw new Mi(`${t} must be a positive integer`);return e},O1e=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const L1e=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vc="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function U1e(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const V1e=()=>{var t,e,n,r,i;const o=U1e();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vc,"X-Stainless-OS":QU(Deno.build.os),"X-Stainless-Arch":XU(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vc,"X-Stainless-OS":QU((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":XU((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=F1e();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function F1e(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${o}.${a}`}}}return null}const XU=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",QU=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let yg;const z1e=()=>yg??(yg=V1e());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B1e(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function mH(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function q1e(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return mH({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function gH(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function H1e(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const j1e=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yH=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Vw(t,e,n){return yH(),new File(t,e??"unknown_file",n)}function $1e(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const G1e=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vH=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",K1e=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&vH(t),Y1e=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function W1e(t,e,n){if(yH(),t=await t,K1e(t))return t instanceof File?t:Vw([await t.arrayBuffer()],t.name);if(Y1e(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Vw(await DS(i),e,n)}const r=await DS(t);if(e||(e=$1e(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Vw(r,e,n)}async function DS(t){var e,n,r,i,o;let a=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)a.push(t);else if(vH(t))a.push(t instanceof Blob?t:await t.arrayBuffer());else if(G1e(t))try{for(var l=!0,c=Xi(t),f;f=await c.next(),e=f.done,!e;l=!0){i=f.value,l=!1;const h=i;a.push(...await DS(h))}}catch(h){n={error:h}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const h=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${h?`; constructor: ${h}`:""}${J1e(t)}`)}return a}function J1e(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _H{constructor(e){this._client=e}}_H._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bH(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const ZU=Object.freeze(Object.create(null)),X1e=(t=bH)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],a=n.reduce((h,p,g)=>{var v,T,x;/[?#]/.test(p)&&(i=!0);const S=r[g];let C=(i?encodeURIComponent:t)(""+S);return g!==r.length&&(S==null||typeof S=="object"&&S.toString===((x=Object.getPrototypeOf((T=Object.getPrototypeOf((v=S.hasOwnProperty)!==null&&v!==void 0?v:ZU))!==null&&T!==void 0?T:ZU))===null||x===void 0?void 0:x.toString))&&(C=S+"",o.push({start:h.length+p.length,length:C.length,error:`Value of type ${Object.prototype.toString.call(S).slice(8,-1)} is not a valid path parameter`})),h+p+(g===r.length?"":C)},""),l=a.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=c.exec(l))!==null;)o.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(o.sort((h,p)=>h.start-p.start),o.length>0){let h=0;const p=o.reduce((g,v)=>{const T=" ".repeat(v.start-h),x="^".repeat(v.length);return h=v.start+v.length,g+T+x},"");throw new Mi(`Path parameters result in path with invalid segments:
${o.map(g=>g.error).join(`
`)}
${a}
${p}`)}return a}),vg=X1e(bH);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EH extends _H{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=tv(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new Mi("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Mi("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(vg`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(vg`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(vg`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:a=this._client.apiVersion}=o,l=tv(o,["api_version"]);return this._client.get(vg`/${a}/interactions/${e}`,Object.assign(Object.assign({query:l},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}EH._key=Object.freeze(["interactions"]);class wH extends EH{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q1e(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let _g;function K1(t){let e;return(_g??(e=new globalThis.TextEncoder,_g=e.encode.bind(e)))(t)}let bg;function eV(t){let e;return(bg??(e=new globalThis.TextDecoder,bg=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _0{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?K1(e):e;this.buffer=Q1e([this.buffer,n]);const r=[];let i;for(;(i=Z1e(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(eV(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=eV(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}_0.NEWLINE_CHARS=new Set([`
`,"\r"]);_0.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Z1e(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function eCe(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nv={off:0,error:200,warn:300,info:400,debug:500},tV=(t,e,n)=>{if(t){if(N1e(nv,t))return t;Sr(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(nv))}`)}};function qd(){}function Eg(t,e,n){return!e||nv[t]>nv[n]?qd:e[t].bind(e)}const tCe={error:qd,warn:qd,info:qd,debug:qd};let nV=new WeakMap;function Sr(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return tCe;const i=nV.get(n);if(i&&i[0]===r)return i[1];const o={error:Eg("error",n,r),warn:Eg("warn",n,r),info:Eg("info",n,r),debug:Eg("debug",n,r)};return nV.set(n,[r,o]),o}const Fl=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tc{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?Sr(r):console;function a(){return Ji(this,arguments,function*(){var c,f,h,p;if(i)throw new Mi("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var v=!0,T=Xi(nCe(e,n)),x;x=yield He(T.next()),c=x.done,!c;v=!0){p=x.value,v=!1;const S=p;if(!g)if(S.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield He(JSON.parse(S.data))}catch(C){throw o.error("Could not parse message into JSON:",S.data),o.error("From chunk:",S.raw),C}}}catch(S){f={error:S}}finally{try{!v&&!c&&(h=T.return)&&(yield He(h.call(T)))}finally{if(f)throw f.error}}g=!0}catch(S){if(PS(S))return yield He(void 0);throw S}finally{g||n.abort()}})}return new Tc(a,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return Ji(this,arguments,function*(){var c,f,h,p;const g=new _0,v=gH(e);try{for(var T=!0,x=Xi(v),S;S=yield He(x.next()),c=S.done,!c;T=!0){p=S.value,T=!1;const C=p;for(const L of g.decode(C))yield yield He(L)}}catch(C){f={error:C}}finally{try{!T&&!c&&(h=x.return)&&(yield He(h.call(x)))}finally{if(f)throw f.error}}for(const C of g.flush())yield yield He(C)})}function a(){return Ji(this,arguments,function*(){var c,f,h,p;if(i)throw new Mi("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var v=!0,T=Xi(o()),x;x=yield He(T.next()),c=x.done,!c;v=!0){p=x.value,v=!1;const S=p;g||S&&(yield yield He(JSON.parse(S)))}}catch(S){f={error:S}}finally{try{!v&&!c&&(h=T.return)&&(yield He(h.call(T)))}finally{if(f)throw f.error}}g=!0}catch(S){if(PS(S))return yield He(void 0);throw S}finally{g||n.abort()}})}return new Tc(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();e.push(a),n.push(a)}return o.shift()}});return[new Tc(()=>i(e),this.controller,this.client),new Tc(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return mH({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=K1(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function nCe(t,e){return Ji(this,arguments,function*(){var r,i,o,a;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Mi("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Mi("Attempted to iterate over a response with no body");const l=new iCe,c=new _0,f=gH(t.body);try{for(var h=!0,p=Xi(rCe(f)),g;g=yield He(p.next()),r=g.done,!r;h=!0){a=g.value,h=!1;const v=a;for(const T of c.decode(v)){const x=l.decode(T);x&&(yield yield He(x))}}}catch(v){i={error:v}}finally{try{!h&&!r&&(o=p.return)&&(yield He(o.call(p)))}finally{if(i)throw i.error}}for(const v of c.flush()){const T=l.decode(v);T&&(yield yield He(T))}})}function rCe(t){return Ji(this,arguments,function*(){var n,r,i,o;let a=new Uint8Array;try{for(var l=!0,c=Xi(t),f;f=yield He(c.next()),n=f.done,!n;l=!0){o=f.value,l=!1;const h=o;if(h==null)continue;const p=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?K1(h):h;let g=new Uint8Array(a.length+p.length);g.set(a),g.set(p,a.length),a=g;let v;for(;(v=eCe(a))!==-1;)yield yield He(a.slice(0,v)),a=a.slice(v)}}catch(h){r={error:h}}finally{try{!l&&!n&&(i=c.return)&&(yield He(i.call(c)))}finally{if(r)throw r.error}}a.length>0&&(yield yield He(a))})}class iCe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=oCe(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function oCe(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function aCe(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,a=await(async()=>{var l;if(e.options.stream)return Sr(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Tc.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),f=(l=c==null?void 0:c.split(";")[0])===null||l===void 0?void 0:l.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return Sr(t).debug(`[${r}] response parsed`,Fl({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Y1 extends Promise{constructor(e,n,r=aCe){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Y1(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TH=Symbol("brand.privateNullableHeaders");function*sCe(t){if(!t)return;if(TH in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():JU(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=JU(r[1])?r[1]:[r[1]];let a=!1;for(const l of o)l!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,l])}}const Od=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,a]of sCe(r)){const l=o.toLowerCase();i.has(l)||(e.delete(o),i.add(l)),a===null?(e.delete(o),n.add(l)):(e.append(o,a),n.delete(l))}}return{[TH]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fw=t=>{var e,n,r,i,o,a;if(typeof globalThis.process<"u")return(r=(n=(e=NEe)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var SH;class b0{constructor(e){var n,r,i,o,a,l,c,{baseURL:f=Fw("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=Fw("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=e,g=tv(e,["baseURL","apiKey","apiVersion"]);const v=Object.assign(Object.assign({apiKey:h,apiVersion:p},g),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=v.baseURL,this.timeout=(r=v.timeout)!==null&&r!==void 0?r:b0.DEFAULT_TIMEOUT,this.logger=(i=v.logger)!==null&&i!==void 0?i:console;const T="warn";this.logLevel=T,this.logLevel=(a=(o=tV(v.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:tV(Fw("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:T,this.fetchOptions=v.fetchOptions,this.maxRetries=(l=v.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(c=v.fetch)!==null&&c!==void 0?c:B1e(),this.encoder=j1e,this._options=v,this.apiKey=h,this.apiVersion=p,this.clientAdapter=v.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Od([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Od([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Od([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Mi(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${vc}`}defaultIdempotencyKey(){return`stainless-node-retry-${C1e()}`}makeStatusError(e,n,r,i){return Rr.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=R1e(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return M1e(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new Y1(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,a;const l=await e,c=(i=l.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=c),await this.prepareOptions(l);const{req:f,url:h,timeout:p}=await this.buildRequest(l,{retryCount:c-n});await this.prepareRequest(f,{url:h,options:l});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),v=r===void 0?"":`, retryOf: ${r}`,T=Date.now();if(Sr(this).debug(`[${g}] sending request`,Fl({retryOfRequestLogID:r,method:l.method,url:h,options:l,headers:f.headers})),!((o=l.signal)===null||o===void 0)&&o.aborted)throw new MS;const x=new AbortController,S=await this.fetchWithTimeout(h,f,p,x).catch(kS),C=Date.now();if(S instanceof globalThis.Error){const M=`retrying, ${n} attempts remaining`;if(!((a=l.signal)===null||a===void 0)&&a.aborted)throw new MS;const G=PS(S)||/timed? ?out/i.test(String(S)+("cause"in S?String(S.cause):""));if(n)return Sr(this).info(`[${g}] connection ${G?"timed out":"failed"} - ${M}`),Sr(this).debug(`[${g}] connection ${G?"timed out":"failed"} (${M})`,Fl({retryOfRequestLogID:r,url:h,durationMs:C-T,message:S.message})),this.retryRequest(l,n,r??g);throw Sr(this).info(`[${g}] connection ${G?"timed out":"failed"} - error; no more retries left`),Sr(this).debug(`[${g}] connection ${G?"timed out":"failed"} (error; no more retries left)`,Fl({retryOfRequestLogID:r,url:h,durationMs:C-T,message:S.message})),G?new aH:new v0({cause:S})}const L=`[${g}${v}] ${f.method} ${h} ${S.ok?"succeeded":"failed"} with status ${S.status} in ${C-T}ms`;if(!S.ok){const M=await this.shouldRetry(S);if(n&&M){const V=`retrying, ${n} attempts remaining`;return await H1e(S.body),Sr(this).info(`${L} - ${V}`),Sr(this).debug(`[${g}] response error (${V})`,Fl({retryOfRequestLogID:r,url:S.url,status:S.status,headers:S.headers,durationMs:C-T})),this.retryRequest(l,n,r??g,S.headers)}const G=M?"error; no more retries left":"error; not retryable";Sr(this).info(`${L} - ${G}`);const $=await S.text().catch(V=>kS(V).message),z=O1e($),N=z?void 0:$;throw Sr(this).debug(`[${g}] response error (${G})`,Fl({retryOfRequestLogID:r,url:S.url,status:S.status,headers:S.headers,message:N,durationMs:Date.now()-T})),this.makeStatusError(S.status,z,N,S.headers)}return Sr(this).info(L),Sr(this).debug(`[${g}] response start`,Fl({retryOfRequestLogID:r,url:S.url,status:S.status,headers:S.headers,durationMs:C-T})),{response:S,options:l,controller:x,requestLogID:g,retryOfRequestLogID:r,startTime:T}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:a,method:l}=o,c=tv(o,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());const f=setTimeout(()=>i.abort(),r),h=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,p=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),c);l&&(p.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,p)}finally{clearTimeout(f)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let a;const l=i==null?void 0:i.get("retry-after-ms");if(l){const f=parseFloat(l);Number.isNaN(f)||(a=f)}const c=i==null?void 0:i.get("retry-after");if(c&&!a){const f=parseFloat(c);Number.isNaN(f)?a=Date.parse(c)-Date.now():a=f*1e3}if(!(a&&0<=a&&a<60*1e3)){const f=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,f)}return await L1e(a),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,a=Math.min(.5*Math.pow(2,o),8),l=1-Math.random()*.25;return a*l*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const a=Object.assign({},e),{method:l,path:c,query:f,defaultBaseURL:h}=a,p=this.buildURL(c,f,h);"timeout"in a&&D1e("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:g,body:v}=this.buildBody({options:a}),T=await this.buildHeaders({options:e,method:l,bodyHeaders:g,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:T},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&v instanceof globalThis.ReadableStream&&{duplex:"half"}),v&&{body:v}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:p,timeout:a.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let l=Od([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),z1e()),this._options.defaultHeaders,r,e.headers,a]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Od([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:q1e(e)}:this.encoder({body:e,headers:r})}}b0.DEFAULT_TIMEOUT=6e4;class Gn extends b0{constructor(){super(...arguments),this.interactions=new wH(this)}}SH=Gn;Gn.GeminiNextGenAPIClient=SH;Gn.GeminiNextGenAPIClientError=Mi;Gn.APIError=Rr;Gn.APIConnectionError=v0;Gn.APIConnectionTimeoutError=aH;Gn.APIUserAbortError=MS;Gn.NotFoundError=cH;Gn.ConflictError=fH;Gn.RateLimitError=hH;Gn.BadRequestError=sH;Gn.AuthenticationError=lH;Gn.InternalServerError=pH;Gn.PermissionDeniedError=uH;Gn.UnprocessableEntityError=dH;Gn.toFile=W1e;Gn.Interactions=wH;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lCe(t,e){const n={},r=y(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function uCe(t,e){const n={},r=y(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function cCe(t,e){const n={},r=y(t,["sdkHttpResponse"]);return r!=null&&b(n,["sdkHttpResponse"],r),n}function fCe(t,e){const n={},r=y(t,["sdkHttpResponse"]);return r!=null&&b(n,["sdkHttpResponse"],r),n}function dCe(t,e,n){const r={};if(y(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&b(e,["displayName"],i),y(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=y(t,["epochCount"]);e!==void 0&&o!=null&&b(e,["tuningTask","hyperparameters","epochCount"],o);const a=y(t,["learningRateMultiplier"]);if(a!=null&&b(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),y(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=y(t,["batchSize"]);e!==void 0&&l!=null&&b(e,["tuningTask","hyperparameters","batchSize"],l);const c=y(t,["learningRate"]);if(e!==void 0&&c!=null&&b(e,["tuningTask","hyperparameters","learningRate"],c),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function hCe(t,e,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const v=y(t,["validationDataset"]);e!==void 0&&v!=null&&b(e,["supervisedTuningSpec"],rV(v))}else if(i==="PREFERENCE_TUNING"){const v=y(t,["validationDataset"]);e!==void 0&&v!=null&&b(e,["preferenceOptimizationSpec"],rV(v))}const o=y(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&b(e,["tunedModelDisplayName"],o);const a=y(t,["description"]);e!==void 0&&a!=null&&b(e,["description"],a);let l=y(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const v=y(t,["epochCount"]);e!==void 0&&v!=null&&b(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(l==="PREFERENCE_TUNING"){const v=y(t,["epochCount"]);e!==void 0&&v!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let c=y(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const v=y(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&b(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(c==="PREFERENCE_TUNING"){const v=y(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let f=y(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const v=y(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&b(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(f==="PREFERENCE_TUNING"){const v=y(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&b(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let h=y(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const v=y(t,["adapterSize"]);e!==void 0&&v!=null&&b(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(h==="PREFERENCE_TUNING"){const v=y(t,["adapterSize"]);e!==void 0&&v!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(y(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=y(t,["labels"]);e!==void 0&&p!=null&&b(e,["labels"],p);const g=y(t,["beta"]);return e!==void 0&&g!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function pCe(t,e){const n={},r=y(t,["baseModel"]);r!=null&&b(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&b(n,["preTunedModel"],i);const o=y(t,["trainingDataset"]);o!=null&&xCe(o);const a=y(t,["config"]);return a!=null&&dCe(a,n),n}function mCe(t,e){const n={},r=y(t,["baseModel"]);r!=null&&b(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&b(n,["preTunedModel"],i);const o=y(t,["trainingDataset"]);o!=null&&ACe(o,n,e);const a=y(t,["config"]);return a!=null&&hCe(a,n,e),n}function gCe(t,e){const n={},r=y(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function yCe(t,e){const n={},r=y(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function vCe(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&b(e,["_query","pageSize"],i);const o=y(t,["pageToken"]);e!==void 0&&o!=null&&b(e,["_query","pageToken"],o);const a=y(t,["filter"]);return e!==void 0&&a!=null&&b(e,["_query","filter"],a),r}function _Ce(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&b(e,["_query","pageSize"],i);const o=y(t,["pageToken"]);e!==void 0&&o!=null&&b(e,["_query","pageToken"],o);const a=y(t,["filter"]);return e!==void 0&&a!=null&&b(e,["_query","filter"],a),r}function bCe(t,e){const n={},r=y(t,["config"]);return r!=null&&vCe(r,n),n}function ECe(t,e){const n={},r=y(t,["config"]);return r!=null&&_Ce(r,n),n}function wCe(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const o=y(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>xH(l))),b(n,["tuningJobs"],a)}return n}function TCe(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const o=y(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>OS(l))),b(n,["tuningJobs"],a)}return n}function SCe(t,e){const n={},r=y(t,["name"]);r!=null&&b(n,["model"],r);const i=y(t,["name"]);return i!=null&&b(n,["endpoint"],i),n}function xCe(t,e){const n={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),b(n,["examples","examples"],i)}return n}function ACe(t,e,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=y(t,["gcsUri"]);e!==void 0&&a!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=y(t,["gcsUri"]);e!==void 0&&a!=null&&b(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=y(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=y(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=y(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&b(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(y(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function xH(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&b(n,["name"],i);const o=y(t,["state"]);o!=null&&b(n,["state"],B6(o));const a=y(t,["createTime"]);a!=null&&b(n,["createTime"],a);const l=y(t,["tuningTask","startTime"]);l!=null&&b(n,["startTime"],l);const c=y(t,["tuningTask","completeTime"]);c!=null&&b(n,["endTime"],c);const f=y(t,["updateTime"]);f!=null&&b(n,["updateTime"],f);const h=y(t,["description"]);h!=null&&b(n,["description"],h);const p=y(t,["baseModel"]);p!=null&&b(n,["baseModel"],p);const g=y(t,["_self"]);return g!=null&&b(n,["tunedModel"],SCe(g)),n}function OS(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&b(n,["name"],i);const o=y(t,["state"]);o!=null&&b(n,["state"],B6(o));const a=y(t,["createTime"]);a!=null&&b(n,["createTime"],a);const l=y(t,["startTime"]);l!=null&&b(n,["startTime"],l);const c=y(t,["endTime"]);c!=null&&b(n,["endTime"],c);const f=y(t,["updateTime"]);f!=null&&b(n,["updateTime"],f);const h=y(t,["error"]);h!=null&&b(n,["error"],h);const p=y(t,["description"]);p!=null&&b(n,["description"],p);const g=y(t,["baseModel"]);g!=null&&b(n,["baseModel"],g);const v=y(t,["tunedModel"]);v!=null&&b(n,["tunedModel"],v);const T=y(t,["preTunedModel"]);T!=null&&b(n,["preTunedModel"],T);const x=y(t,["supervisedTuningSpec"]);x!=null&&b(n,["supervisedTuningSpec"],x);const S=y(t,["preferenceOptimizationSpec"]);S!=null&&b(n,["preferenceOptimizationSpec"],S);const C=y(t,["tuningDataStats"]);C!=null&&b(n,["tuningDataStats"],C);const L=y(t,["encryptionSpec"]);L!=null&&b(n,["encryptionSpec"],L);const M=y(t,["partnerModelTuningSpec"]);M!=null&&b(n,["partnerModelTuningSpec"],M);const G=y(t,["customBaseModel"]);G!=null&&b(n,["customBaseModel"],G);const $=y(t,["experiment"]);$!=null&&b(n,["experiment"],$);const z=y(t,["labels"]);z!=null&&b(n,["labels"],z);const N=y(t,["outputUri"]);N!=null&&b(n,["outputUri"],N);const U=y(t,["pipelineJob"]);U!=null&&b(n,["pipelineJob"],U);const V=y(t,["serviceAccount"]);V!=null&&b(n,["serviceAccount"],V);const k=y(t,["tunedModelDisplayName"]);k!=null&&b(n,["tunedModelDisplayName"],k);const P=y(t,["veoTuningSpec"]);return P!=null&&b(n,["veoTuningSpec"],P),n}function CCe(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&b(n,["name"],i);const o=y(t,["metadata"]);o!=null&&b(n,["metadata"],o);const a=y(t,["done"]);a!=null&&b(n,["done"],a);const l=y(t,["error"]);return l!=null&&b(n,["error"],l),n}function rV(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&b(n,["validationDatasetUri"],r);const i=y(t,["vertexDatasetResource"]);return i!=null&&b(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ICe extends La{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new bu(Pa.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:TS.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=yCe(e);return l=Te("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>OS(h))}else{const f=gCe(e);return l=Te("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>xH(h))}}async listInternal(e){var n,r,i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=ECe(e);return l=Te("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=TCe(h),g=new RU;return Object.assign(g,p),g})}else{const f=bCe(e);return l=Te("tunedModels",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=wCe(h),g=new RU;return Object.assign(g,p),g})}}async cancel(e){var n,r,i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=uCe(e);return l=Te("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=fCe(h),g=new PU;return Object.assign(g,p),g})}else{const f=lCe(e);return l=Te("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=cCe(h),g=new PU;return Object.assign(g,p),g})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const l=mCe(e,e);return o=Te("tuningJobs",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>OS(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=pCe(e);return o=Te("tunedModels",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>CCe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RCe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const PCe=1024*1024*8,kCe=3,MCe=1e3,NCe=2,rv="x-goog-upload-status";async function DCe(t,e,n){var r;const i=await AH(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[rv])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function OCe(t,e,n){var r;const i=await AH(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[rv])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=O6(o),l=new B1;return Object.assign(l,a),l}async function AH(t,e,n){var r,i;let o=0,a=0,l=new SS(new Response),c="upload";for(o=t.size;a<o;){const f=Math.min(PCe,o-a),h=t.slice(a,a+f);a+f>=o&&(c+=", finalize");let p=0,g=MCe;for(;p<kCe&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(a),"Content-Length":String(f)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[rv]));)p++,await UCe(g),g=g*NCe;if(a+=f,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[rv])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function LCe(t){return{size:t.size,type:t.type}}function UCe(t){return new Promise(e=>setTimeout(e,t))}class VCe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await DCe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await OCe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await LCe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FCe{create(e,n,r){return new zCe(e,n,r)}}class zCe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iV="x-goog-api-key";class BCe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(iV)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(iV,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qCe="gl-node/";class HCe{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Gn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=UEe(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new BCe(this.apiKey);this.apiClient=new LAe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:qCe+"web",uploader:new VCe,downloader:new RCe}),this.models=new t1e(this.apiClient),this.live=new WAe(this.apiClient,i,new FCe),this.batches=new dTe(this.apiClient),this.chats=new KTe(this.models,this.apiClient),this.caches=new jTe(this.apiClient),this.files=new rSe(this.apiClient),this.operations=new n1e(this.apiClient),this.authTokens=new v1e(this.apiClient),this.tunings=new ICe(this.apiClient),this.fileSearchStores=new A1e(this.apiClient)}}var jCe={};const $Ce=({projects:t,onClose:e,onSelect:n})=>{const[r,i]=O.useState(""),o=O.useMemo(()=>{if(!r.trim())return{projects:[],tasks:[]};const a=r.toLowerCase(),l=[],c=[],f=h=>{h.forEach(p=>{p.name.toLowerCase().includes(a)&&l.push(p),p.tasks.forEach(g=>{(g.title.toLowerCase().includes(a)||g.description.toLowerCase().includes(a))&&c.push({task:g,projectId:p.id})}),f(p.children)})};return f(t),{projects:l,tasks:c}},[r,t]);return D.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center pt-[15vh] p-4 bg-pink-900/10 backdrop-blur-md animate-in fade-in duration-300",onClick:e,children:D.jsxs("div",{className:"w-full max-w-2xl bg-white/90 backdrop-blur-xl rounded-[32px] shadow-2xl overflow-hidden border border-white flex flex-col max-h-[60vh] animate-in zoom-in-95 duration-200",onClick:a=>a.stopPropagation(),children:[D.jsxs("div",{className:"flex items-center gap-4 p-6 border-b border-pink-50",children:[D.jsx(AV,{className:"text-pink-400"}),D.jsx("input",{autoFocus:!0,placeholder:"... (Cmd+P)",className:"flex-1 bg-transparent border-none text-xl font-bold text-[#5c4b51] focus:outline-none placeholder:text-pink-200",value:r,onChange:a=>i(a.target.value)}),D.jsx("div",{className:"flex gap-1",children:D.jsx("kbd",{className:"hidden sm:inline-block px-2 py-1 bg-pink-50 text-pink-300 text-[10px] rounded-lg font-bold",children:"ESC"})})]}),D.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:r.trim()===""?D.jsxs("div",{className:"text-center py-20 opacity-30",children:[D.jsx(CV,{size:48,className:"mx-auto mb-4 text-pink-300"}),D.jsx("p",{className:"font-bold",children:" "})]}):D.jsxs("div",{className:"space-y-6",children:[o.projects.length>0&&D.jsxs("div",{children:[D.jsx("h4",{className:"text-[10px] font-black text-pink-300 uppercase tracking-widest mb-3 ml-2",children:" / Projects"}),D.jsx("div",{className:"space-y-1",children:o.projects.map(a=>{var l;return D.jsxs("div",{onClick:()=>n(a.id,"project"),className:"flex items-center gap-3 p-3 rounded-2xl hover:bg-white hover:shadow-md cursor-pointer transition-all group",children:[D.jsx("div",{className:"w-8 h-8 rounded-lg bg-pink-50 shadow-inner flex items-center justify-center border border-pink-100 group-hover:border-pink-300",children:((l=a.logoUrl)==null?void 0:l.length)===2?a.logoUrl:D.jsx(zS,{size:16,className:"text-pink-400"})}),D.jsx("span",{className:"font-bold text-[#5c4b51]",children:a.name})]},a.id)})})]}),o.tasks.length>0&&D.jsxs("div",{children:[D.jsx("h4",{className:"text-[10px] font-black text-pink-300 uppercase tracking-widest mb-3 ml-2",children:" / Tasks"}),D.jsx("div",{className:"space-y-1",children:o.tasks.map(({task:a,projectId:l})=>D.jsxs("div",{onClick:()=>n(l,"task"),className:"flex items-center gap-3 p-3 rounded-2xl hover:bg-white hover:shadow-md cursor-pointer transition-all group",children:[D.jsxs("div",{className:"w-8 h-8 rounded-lg border-2 border-pink-200 flex items-center justify-center text-[10px] font-black text-pink-400 bg-white",children:[a.progress,"%"]}),D.jsxs("div",{className:"flex flex-col",children:[D.jsx("span",{className:"font-bold text-[#5c4b51] text-sm",children:a.title}),D.jsx("span",{className:"text-[10px] text-pink-300 opacity-60 truncate max-w-md",children:a.description||""})]})]},a.id))})]}),o.projects.length===0&&o.tasks.length===0&&D.jsx("div",{className:"text-center py-10 opacity-30 font-bold",children:" "})]})})]})})},GCe=LS.memo(({task:t,onToggleStatus:e,onEdit:n,onDelete:r})=>D.jsxs("div",{className:"flex items-center gap-4 p-4 md:p-5 rounded-[24px] md:rounded-3xl bg-pink-50/20 border border-pink-50 hover:bg-white hover:shadow-lg transition-all cursor-pointer group",onClick:n,children:[D.jsx("div",{onClick:i=>{i.stopPropagation(),e()},className:`w-6 h-6 rounded-lg border-2 flex-shrink-0 flex items-center justify-center transition-all cursor-pointer ${t.status===zt.COMPLETED?"bg-pink-400 border-pink-400 text-white shadow-inner scale-110":"bg-white border-pink-200 hover:border-pink-300"}`,children:t.status===zt.COMPLETED&&D.jsx(FS,{size:16,strokeWidth:4})}),D.jsx("div",{className:"flex-1 min-w-0",children:D.jsx("p",{className:`font-bold text-[#5c4b51] text-base md:text-lg truncate ${t.status===zt.COMPLETED?"line-through opacity-40":""}`,children:t.title})}),D.jsxs("div",{className:"flex items-center gap-2 md:gap-4 flex-shrink-0",children:[D.jsx("div",{className:"px-3 py-1 rounded-full text-[10px] font-black border border-white/50 shadow-sm",style:{backgroundColor:nr.status[t.status]},children:t.status}),D.jsxs("span",{className:"text-sm font-bold text-pink-500 min-w-[32px]",children:[t.progress,"%"]}),D.jsx("button",{onClick:i=>{i.stopPropagation(),r()},className:"p-2 text-pink-200 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-all hover:bg-red-50 rounded-xl",children:D.jsx(Nh,{size:16})})]})]})),KCe=()=>{var V,k;const{projectId:t,view:e}=Hj(),{state:n,dispatch:r,syncToCloud:i}=D6(),o=yV(),[a,l]=O.useState(null),[c,f]=O.useState(!1),[h,p]=O.useState(!1);O.useEffect(()=>{const P=F=>{(F.metaKey||F.ctrlKey)&&F.key==="p"&&(F.preventDefault(),p(B=>!B))};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[]);const g=O.useCallback((P,F)=>{for(const B of F){if(B.id===P)return B;const ie=g(P,B.children);if(ie)return ie}return null},[]),v=O.useMemo(()=>(t?g(t,n.projects):null)||n.projects[0],[t,n.projects,g]);O.useEffect(()=>{if(v){const P=new Date().toISOString();if(v.lastAccessedAt&&new Date().getTime()-new Date(v.lastAccessedAt).getTime()<1e3*30)return;const F=ie=>ie.map(ae=>ae.id===v.id?{...ae,lastAccessedAt:P}:{...ae,children:F(ae.children)}),B=F(n.projects);r({type:"UPDATE_PROJECTS",projects:B})}},[v==null?void 0:v.id]);const T=e||"dashboard",x=O.useCallback(P=>{let F=[...P.tasks];return P.children.forEach(B=>{F=[...F,...x(B)]}),F},[]),S=O.useMemo(()=>v?x(v):[],[v,x]),C=(P,F)=>{const B=ae=>ae.map(J=>J.id===P?{...J,...F}:{...J,children:B(J.children)}),ie=B(n.projects);r({type:"UPDATE_PROJECTS",projects:ie}),i(ie)},L=(P,F)=>{const B=ae=>ae.map(J=>{const le=J.tasks.findIndex(_e=>_e.id===P);if(le!==-1){const _e=[...J.tasks];return _e[le]={..._e[le],...F},{...J,tasks:_e}}return{...J,children:B(J.children)}}),ie=B(n.projects);r({type:"UPDATE_PROJECTS",projects:ie}),i(ie)},M=()=>{if(!v)return;const P=new Date;P.setHours(0,0,0,0);const F={id:Math.random().toString(36).substr(2,9),title:" ",description:"",startDate:P.toISOString(),endDate:jw(P,2).toISOString(),progress:0,status:zt.TODO,priority:Fs.MEDIUM,color:nr.taskColors[Math.floor(Math.random()*nr.taskColors.length)],attachments:[]};C(v.id,{tasks:[...v.tasks,F]}),l(F.id)},G=async()=>{if(v){r({type:"SET_SYNCING",isSyncing:!0});try{const F=await new HCe({apiKey:jCe.API_KEY}).models.generateContent({model:"gemini-3-flash-preview",contents:`${v.name} 3  2 
         JSON `,config:{responseMimeType:"application/json",responseSchema:{type:xr.OBJECT,properties:{tasks:{type:xr.ARRAY,items:{type:xr.OBJECT,properties:{title:{type:xr.STRING},description:{type:xr.STRING}},required:["title","description"]}},precautions:{type:xr.ARRAY,items:{type:xr.STRING}}},required:["tasks","precautions"]}}}),B=JSON.parse(F.text),ie=B.tasks.map(le=>({id:Math.random().toString(36).substr(2,9),title:le.title,description:le.description,startDate:new Date().toISOString(),endDate:jw(new Date,3).toISOString(),progress:0,status:zt.TODO,priority:Fs.MEDIUM,color:nr.taskColors[Math.floor(Math.random()*nr.taskColors.length)],attachments:[]})),ae=[...v.precautions||[],...B.precautions],J=[...v.tasks,...ie];C(v.id,{tasks:J,precautions:ae})}catch(P){console.error("AI Suggestions Error:",P),alert("AI  API  ")}finally{r({type:"SET_SYNCING",isSyncing:!1})}}},$=P=>{if(!confirm(" "))return;const F=ie=>ie.map(ae=>({...ae,tasks:ae.tasks.filter(J=>J.id!==P),children:F(ae.children)})),B=F(n.projects);r({type:"UPDATE_PROJECTS",projects:B}),i(B)},z=P=>{if(n.projects.length===1&&!n.projects[0].parentId){alert("");return}if(!confirm(" "))return;const F=ie=>ie.filter(ae=>ae.id!==P).map(ae=>({...ae,children:F(ae.children)})),B=F(n.projects);r({type:"UPDATE_PROJECTS",projects:B}),i(B),o("/")},N=P=>{const F={id:Math.random().toString(36).substr(2,9),name:" ",parentId:P,notes:"",precautions:[],precautionsColor:nr.stickyNotes[Math.floor(Math.random()*nr.stickyNotes.length)],tasks:[],children:[],logoUrl:"",attachments:[]};let B;if(!P)B=[...n.projects,F];else{const ie=ae=>ae.map(J=>J.id===P?{...J,children:[...J.children,F]}:{...J,children:ie(J.children)});B=ie(n.projects)}r({type:"UPDATE_PROJECTS",projects:B}),i(B),o(`/project/${F.id}/dashboard`)},U=async()=>{if(!ES){alert(`  Firebase 

 lib/firebase.ts  Firebase  firebaseConfig `);return}if(Ec)try{await Uge(Ec,Jbe)}catch(P){console.error("Login failed:",P),alert(` 
${P.message||""}
 Firebase  Google Auth `)}};return n.isLoading?D.jsx("div",{className:"h-screen flex items-center justify-center bg-[#fff5f8]",children:D.jsx(eh,{className:"w-12 h-12 text-pink-400 animate-spin"})}):D.jsxs("div",{className:"flex min-h-screen relative overflow-x-hidden bg-[#fff5f8]",children:[c&&D.jsx("div",{className:"fixed inset-0 bg-pink-900/20 backdrop-blur-sm z-40 md:hidden",onClick:()=>f(!1)}),D.jsx(bG,{projects:n.projects,workspaceLogo:n.workspaceLogo,workspaceName:n.workspaceName,onUpdateWorkspace:(P,F)=>{r({type:"UPDATE_WORKSPACE",logo:P,name:F}),i(n.projects,P,F)},selectedProjectId:v.id,isOpen:c,onSelectProject:P=>{o(`/project/${P}/${T}`),window.innerWidth<768&&f(!1)},onAddProject:N}),D.jsxs("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto max-h-screen custom-scrollbar transition-all duration-300",children:[D.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-6",children:[D.jsxs("div",{className:"flex items-center gap-3 md:gap-6 group",children:[D.jsx("button",{onClick:()=>f(!0),className:"md:hidden p-2 text-pink-500 bg-white rounded-xl shadow-sm border border-pink-100",children:D.jsx(oG,{size:24})}),D.jsxs("div",{className:"relative cursor-pointer group",onClick:()=>{const P=prompt(" Emoji  ",v.logoUrl||"");P!==null&&C(v.id,{logoUrl:P})},children:[D.jsx("div",{className:"w-12 h-12 md:w-20 md:h-20 bg-white rounded-2xl md:rounded-[32px] flex items-center justify-center text-2xl md:text-5xl shadow-inner border-2 border-pink-100 overflow-hidden",children:(V=v.logoUrl)!=null&&V.startsWith("http")||(k=v.logoUrl)!=null&&k.startsWith("blob")?D.jsx("img",{src:v.logoUrl,className:"w-full h-full object-cover"}):v.logoUrl||""}),D.jsx("div",{className:"absolute -bottom-1 -right-1 bg-pink-500 p-1.5 rounded-full shadow-md border-2 border-white transition-transform group-hover:scale-110",children:D.jsx(Oc,{size:12,className:"text-white"})})]}),D.jsxs("div",{className:"flex-1 min-w-0",children:[D.jsx("input",{value:v.name,onChange:P=>C(v.id,{name:P.target.value}),className:"text-2xl md:text-4xl font-black text-pink-600 bg-transparent border-none focus:outline-none focus:ring-2 focus:ring-pink-100 rounded-xl px-2 w-full truncate"}),D.jsx("div",{className:"flex items-center gap-2 mt-1 ml-2",children:D.jsx("div",{className:"flex items-center gap-2 px-3 py-1 bg-white/40 rounded-full border border-pink-100 shadow-sm",children:n.isSyncing?D.jsxs(D.Fragment,{children:[D.jsx(eh,{size:12,className:"text-pink-400 animate-spin"}),D.jsx("span",{className:"text-[10px] text-pink-400 font-bold",children:"..."})]}):ES?n.user?D.jsxs(D.Fragment,{children:[D.jsx(V$,{size:12,className:"text-green-400"}),D.jsx("span",{className:"text-[10px] text-green-500 font-bold",children:""})]}):D.jsxs(D.Fragment,{children:[D.jsx(dG,{size:12,className:"text-blue-400"}),D.jsx("span",{className:"text-[10px] text-blue-500 font-bold",children:""})]}):D.jsxs(D.Fragment,{children:[D.jsx(z$,{size:12,className:"text-pink-300"}),D.jsx("span",{className:"text-[10px] text-pink-400 font-bold",children:"  ()"})]})})})]})]}),D.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[D.jsxs("button",{onClick:G,disabled:n.isSyncing,className:"p-2.5 bg-white text-pink-500 hover:text-pink-600 rounded-xl border border-pink-100 shadow-sm hover:bg-pink-50 transition-all flex items-center gap-2 group",children:[D.jsx(CV,{size:20,className:n.isSyncing?"animate-pulse":"group-hover:rotate-12 transition-transform"}),D.jsx("span",{className:"hidden sm:inline font-bold text-sm",children:"AI "})]}),D.jsxs("button",{onClick:()=>p(!0),className:"p-2.5 bg-white text-pink-400 hover:text-pink-600 rounded-xl border border-pink-50 shadow-sm hover:bg-pink-50 transition-all flex items-center gap-2",children:[D.jsx(AV,{size:20})," ",D.jsx("span",{className:"hidden sm:inline font-bold text-sm",children:""})]}),n.user?D.jsxs("div",{className:"flex items-center gap-3 bg-white/60 p-1.5 pr-4 rounded-2xl border border-pink-100 shadow-sm",children:[D.jsx("img",{src:n.user.photoURL||"",className:"w-8 h-8 rounded-full border-2 border-pink-200 shadow-sm"}),D.jsx("button",{onClick:()=>Ec&&yge(Ec),className:"text-[10px] font-bold text-pink-300 hover:text-red-400",children:""})]}):D.jsxs("button",{onClick:U,className:"flex items-center gap-2 bg-white px-4 py-2 rounded-xl font-bold text-sm shadow-md border border-blue-50 transition-all text-blue-500 hover:bg-blue-50 active:scale-95",children:[D.jsx(rG,{size:18})," Google "]}),D.jsx("button",{onClick:()=>z(v.id),className:"p-2.5 bg-white text-pink-300 hover:text-red-400 rounded-xl border border-pink-50 shadow-sm hover:bg-red-50 transition-colors",children:D.jsx(Nh,{size:20})}),D.jsxs("button",{onClick:()=>N(v.id),className:"flex items-center gap-2 bg-pink-500 text-white px-4 md:px-6 py-2 rounded-xl md:rounded-2xl font-bold text-xs md:text-sm shadow-md hover:bg-pink-600 transition-all active:scale-95",children:[D.jsx(th,{size:16})," "]})]})]}),D.jsx("div",{className:"flex gap-2 md:gap-4 mb-8 overflow-x-auto pb-2 no-scrollbar",children:[{id:"dashboard",label:"",icon:D.jsx(Q$,{size:18})},{id:"gantt",label:"",icon:D.jsx(b$,{size:18})},{id:"calendar",label:"",icon:D.jsx(qw,{size:18})},{id:"notes",label:"",icon:D.jsx(m$,{size:18})}].map(P=>D.jsxs("button",{onClick:()=>o(`/project/${v.id}/${P.id}`),className:`flex items-center gap-2 px-5 md:px-8 py-2 md:py-3 rounded-xl md:rounded-[20px] font-bold transition-all ${T===P.id?"bg-pink-500 text-white shadow-xl translate-y-[-2px]":"text-pink-300 bg-white/50 hover:bg-pink-50"}`,children:[P.icon," ",P.label]},P.id))}),D.jsx("div",{className:"space-y-8 md:space-y-12 pb-20 animate-in fade-in duration-500",children:T==="dashboard"?D.jsxs("div",{className:"space-y-8 md:space-y-12",children:[D.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-stretch",children:[D.jsx(Ise,{tasks:S}),D.jsx(IEe,{precautions:v.precautions||[],backgroundColor:v.precautionsColor,onUpdate:P=>C(v.id,{precautions:P}),onColorChange:P=>C(v.id,{precautionsColor:P})})]}),D.jsx(HP,{tasks:S}),D.jsxs("div",{className:"bg-white rounded-[32px] md:rounded-[40px] p-6 md:p-8 cute-shadow border border-pink-100",children:[D.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[D.jsxs("h3",{className:"text-xl font-bold text-pink-600 flex items-center gap-3",children:[D.jsx("span",{className:"p-2 bg-pink-100 rounded-xl text-pink-500",children:D.jsx(FS,{size:20})}),""]}),D.jsxs("button",{onClick:M,className:"w-full sm:w-auto flex items-center justify-center gap-2 bg-pink-50 text-pink-500 px-6 py-2.5 rounded-2xl font-bold hover:bg-pink-100 shadow-sm transition-all",children:[D.jsx(th,{size:18})," "]})]}),D.jsxs("div",{className:"space-y-4",children:[v.tasks.map(P=>D.jsx(GCe,{task:P,onToggleStatus:()=>{const F=P.status===zt.COMPLETED?zt.TODO:zt.COMPLETED;L(P.id,{status:F,progress:F===zt.COMPLETED?100:0})},onEdit:()=>l(P.id),onDelete:()=>$(P.id)},P.id)),v.tasks.length===0&&D.jsx("div",{className:"text-center py-12 text-pink-200 font-bold italic border-2 border-dashed border-pink-50 rounded-3xl",children:""})]})]}),D.jsx(xL,{tasks:S})]}):D.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[T==="gantt"&&D.jsx(HP,{tasks:S}),T==="calendar"&&D.jsx(xL,{tasks:S}),T==="notes"&&D.jsx(Xbe,{notes:v.notes,logoUrl:v.logoUrl,attachments:v.attachments,onUpdateNotes:P=>C(v.id,{notes:P}),onUpdateLogo:P=>C(v.id,{logoUrl:P}),onUpdateAttachments:P=>C(v.id,{attachments:P})})]})})]}),h&&D.jsx($Ce,{projects:n.projects,onClose:()=>p(!1),onSelect:(P,F)=>{o(`/project/${P}/dashboard`),p(!1)}}),a&&S.find(P=>P.id===a)&&D.jsx(REe,{task:S.find(P=>P.id===a),allProjects:n.projects,onClose:()=>l(null),onUpdate:P=>L(a,P)})]})},YCe=()=>{const{state:t}=D6();return D.jsxs(o$,{children:[D.jsx(wg,{path:"/",element:t.projects.length>0?D.jsx(RP,{to:`/project/${t.projects[0].id}/dashboard`}):D.jsx("div",{className:"h-screen flex items-center justify-center",children:D.jsx(eh,{className:"animate-spin text-pink-400"})})}),D.jsx(wg,{path:"/project/:projectId/:view",element:D.jsx(KCe,{})}),D.jsx(wg,{path:"*",element:D.jsx(RP,{to:"/"})})]})},CH=document.getElementById("root");if(!CH)throw new Error("Could not find root element to mount to");const WCe=hj.createRoot(CH);WCe.render(D.jsx(LS.StrictMode,{children:D.jsxs(l$,{children:[" ",D.jsx(MEe,{children:D.jsx(YCe,{})})]})}));
